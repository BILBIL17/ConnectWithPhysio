(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function oh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Br={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function dv(){if(Am)return Zo;Am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:l,key:m,ref:c!==void 0?c:null,props:d}}return Zo.Fragment=e,Zo.jsx=o,Zo.jsxs=o,Zo}var _m;function mv(){return _m||(_m=1,Br.exports=dv()),Br.exports}var T=mv(),zr={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function pv(){if(Mm)return ye;Mm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function S(_){return _===null||typeof _!="object"?null:(_=C&&_[C]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function q(_,H,ee){this.props=_,this.context=H,this.refs=D,this.updater=ee||M}q.prototype.isReactComponent={},q.prototype.setState=function(_,H){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,H,"setState")},q.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function X(){}X.prototype=q.prototype;function J(_,H,ee){this.props=_,this.context=H,this.refs=D,this.updater=ee||M}var O=J.prototype=new X;O.constructor=J,R(O,q.prototype),O.isPureReactComponent=!0;var K=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function ie(_,H,ee,Q,le,ve){return ee=ve.ref,{$$typeof:n,type:_,key:H,ref:ee!==void 0?ee:null,props:ve}}function pe(_,H){return ie(_.type,H,void 0,void 0,void 0,_.props)}function j(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function ue(_){var H={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ee){return H[ee]})}var de=/\/+/g;function ge(_,H){return typeof _=="object"&&_!==null&&_.key!=null?ue(""+_.key):H.toString(36)}function he(){}function W(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(he,he):(_.status="pending",_.then(function(H){_.status==="pending"&&(_.status="fulfilled",_.value=H)},function(H){_.status==="pending"&&(_.status="rejected",_.reason=H)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function $(_,H,ee,Q,le){var ve=typeof _;(ve==="undefined"||ve==="boolean")&&(_=null);var ae=!1;if(_===null)ae=!0;else switch(ve){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(_.$$typeof){case n:case e:ae=!0;break;case v:return ae=_._init,$(ae(_._payload),H,ee,Q,le)}}if(ae)return le=le(_),ae=Q===""?"."+ge(_,0):Q,K(le)?(ee="",ae!=null&&(ee=ae.replace(de,"$&/")+"/"),$(le,H,ee,"",function(qt){return qt})):le!=null&&(j(le)&&(le=pe(le,ee+(le.key==null||_&&_.key===le.key?"":(""+le.key).replace(de,"$&/")+"/")+ae)),H.push(le)),1;ae=0;var Je=Q===""?".":Q+":";if(K(_))for(var Le=0;Le<_.length;Le++)Q=_[Le],ve=Je+ge(Q,Le),ae+=$(Q,H,ee,ve,le);else if(Le=S(_),typeof Le=="function")for(_=Le.call(_),Le=0;!(Q=_.next()).done;)Q=Q.value,ve=Je+ge(Q,Le++),ae+=$(Q,H,ee,ve,le);else if(ve==="object"){if(typeof _.then=="function")return $(W(_),H,ee,Q,le);throw H=String(_),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ae}function b(_,H,ee){if(_==null)return _;var Q=[],le=0;return $(_,Q,"","",function(ve){return H.call(ee,ve,le++)}),Q}function z(_){if(_._status===-1){var H=_._result;H=H(),H.then(function(ee){(_._status===0||_._status===-1)&&(_._status=1,_._result=ee)},function(ee){(_._status===0||_._status===-1)&&(_._status=2,_._result=ee)}),_._status===-1&&(_._status=0,_._result=H)}if(_._status===1)return _._result.default;throw _._result}var Z=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function ce(){}return ye.Children={map:b,forEach:function(_,H,ee){b(_,function(){H.apply(this,arguments)},ee)},count:function(_){var H=0;return b(_,function(){H++}),H},toArray:function(_){return b(_,function(H){return H})||[]},only:function(_){if(!j(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ye.Component=q,ye.Fragment=o,ye.Profiler=c,ye.PureComponent=J,ye.StrictMode=l,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ye.__COMPILER_RUNTIME={__proto__:null,c:function(_){return G.H.useMemoCache(_)}},ye.cache=function(_){return function(){return _.apply(null,arguments)}},ye.cloneElement=function(_,H,ee){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Q=R({},_.props),le=_.key,ve=void 0;if(H!=null)for(ae in H.ref!==void 0&&(ve=void 0),H.key!==void 0&&(le=""+H.key),H)!te.call(H,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&H.ref===void 0||(Q[ae]=H[ae]);var ae=arguments.length-2;if(ae===1)Q.children=ee;else if(1<ae){for(var Je=Array(ae),Le=0;Le<ae;Le++)Je[Le]=arguments[Le+2];Q.children=Je}return ie(_.type,le,void 0,void 0,ve,Q)},ye.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ye.createElement=function(_,H,ee){var Q,le={},ve=null;if(H!=null)for(Q in H.key!==void 0&&(ve=""+H.key),H)te.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=H[Q]);var ae=arguments.length-2;if(ae===1)le.children=ee;else if(1<ae){for(var Je=Array(ae),Le=0;Le<ae;Le++)Je[Le]=arguments[Le+2];le.children=Je}if(_&&_.defaultProps)for(Q in ae=_.defaultProps,ae)le[Q]===void 0&&(le[Q]=ae[Q]);return ie(_,ve,void 0,void 0,null,le)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(_){return{$$typeof:g,render:_}},ye.isValidElement=j,ye.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:z}},ye.memo=function(_,H){return{$$typeof:h,type:_,compare:H===void 0?null:H}},ye.startTransition=function(_){var H=G.T,ee={};G.T=ee;try{var Q=_(),le=G.S;le!==null&&le(ee,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ce,Z)}catch(ve){Z(ve)}finally{G.T=H}},ye.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ye.use=function(_){return G.H.use(_)},ye.useActionState=function(_,H,ee){return G.H.useActionState(_,H,ee)},ye.useCallback=function(_,H){return G.H.useCallback(_,H)},ye.useContext=function(_){return G.H.useContext(_)},ye.useDebugValue=function(){},ye.useDeferredValue=function(_,H){return G.H.useDeferredValue(_,H)},ye.useEffect=function(_,H,ee){var Q=G.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(_,H)},ye.useId=function(){return G.H.useId()},ye.useImperativeHandle=function(_,H,ee){return G.H.useImperativeHandle(_,H,ee)},ye.useInsertionEffect=function(_,H){return G.H.useInsertionEffect(_,H)},ye.useLayoutEffect=function(_,H){return G.H.useLayoutEffect(_,H)},ye.useMemo=function(_,H){return G.H.useMemo(_,H)},ye.useOptimistic=function(_,H){return G.H.useOptimistic(_,H)},ye.useReducer=function(_,H,ee){return G.H.useReducer(_,H,ee)},ye.useRef=function(_){return G.H.useRef(_)},ye.useState=function(_){return G.H.useState(_)},ye.useSyncExternalStore=function(_,H,ee){return G.H.useSyncExternalStore(_,H,ee)},ye.useTransition=function(){return G.H.useTransition()},ye.version="19.1.1",ye}var Nm;function hu(){return Nm||(Nm=1,zr.exports=pv()),zr.exports}var Y=hu();const hv=oh(Y);var Fr={exports:{}},Wo={},Jr={exports:{}},Yr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function gv(){return Rm||(Rm=1,(function(n){function e(b,z){var Z=b.length;b.push(z);e:for(;0<Z;){var ce=Z-1>>>1,_=b[ce];if(0<c(_,z))b[ce]=z,b[Z]=_,Z=ce;else break e}}function o(b){return b.length===0?null:b[0]}function l(b){if(b.length===0)return null;var z=b[0],Z=b.pop();if(Z!==z){b[0]=Z;e:for(var ce=0,_=b.length,H=_>>>1;ce<H;){var ee=2*(ce+1)-1,Q=b[ee],le=ee+1,ve=b[le];if(0>c(Q,Z))le<_&&0>c(ve,Q)?(b[ce]=ve,b[le]=Z,ce=le):(b[ce]=Q,b[ee]=Z,ce=ee);else if(le<_&&0>c(ve,Z))b[ce]=ve,b[le]=Z,ce=le;else break e}}return z}function c(b,z){var Z=b.sortIndex-z.sortIndex;return Z!==0?Z:b.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,C=null,S=3,M=!1,R=!1,D=!1,q=!1,X=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function K(b){for(var z=o(h);z!==null;){if(z.callback===null)l(h);else if(z.startTime<=b)l(h),z.sortIndex=z.expirationTime,e(y,z);else break;z=o(h)}}function G(b){if(D=!1,K(b),!R)if(o(y)!==null)R=!0,te||(te=!0,ge());else{var z=o(h);z!==null&&$(G,z.startTime-b)}}var te=!1,ie=-1,pe=5,j=-1;function ue(){return q?!0:!(n.unstable_now()-j<pe)}function de(){if(q=!1,te){var b=n.unstable_now();j=b;var z=!0;try{e:{R=!1,D&&(D=!1,J(ie),ie=-1),M=!0;var Z=S;try{t:{for(K(b),C=o(y);C!==null&&!(C.expirationTime>b&&ue());){var ce=C.callback;if(typeof ce=="function"){C.callback=null,S=C.priorityLevel;var _=ce(C.expirationTime<=b);if(b=n.unstable_now(),typeof _=="function"){C.callback=_,K(b),z=!0;break t}C===o(y)&&l(y),K(b)}else l(y);C=o(y)}if(C!==null)z=!0;else{var H=o(h);H!==null&&$(G,H.startTime-b),z=!1}}break e}finally{C=null,S=Z,M=!1}z=void 0}}finally{z?ge():te=!1}}}var ge;if(typeof O=="function")ge=function(){O(de)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,W=he.port2;he.port1.onmessage=de,ge=function(){W.postMessage(null)}}else ge=function(){X(de,0)};function $(b,z){ie=X(function(){b(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(b){b.callback=null},n.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<b?Math.floor(1e3/b):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(b){switch(S){case 1:case 2:case 3:var z=3;break;default:z=S}var Z=S;S=z;try{return b()}finally{S=Z}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(b,z){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Z=S;S=b;try{return z()}finally{S=Z}},n.unstable_scheduleCallback=function(b,z,Z){var ce=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,b){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=Z+_,b={id:v++,callback:z,priorityLevel:b,startTime:Z,expirationTime:_,sortIndex:-1},Z>ce?(b.sortIndex=Z,e(h,b),o(y)===null&&b===o(h)&&(D?(J(ie),ie=-1):D=!0,$(G,Z-ce))):(b.sortIndex=_,e(y,b),R||M||(R=!0,te||(te=!0,ge()))),b},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(b){var z=S;return function(){var Z=S;S=z;try{return b.apply(this,arguments)}finally{S=Z}}}})(Yr)),Yr}var bm;function yv(){return bm||(bm=1,Jr.exports=gv()),Jr.exports}var Or={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function vv(){if(wm)return lt;wm=1;var n=hu();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,h,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:h,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,lt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(y,h,null,v)},lt.flushSync=function(y){var h=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=h,l.p=v,l.d.f()}},lt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(y,h))},lt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},lt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?l.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:M}):v==="script"&&l.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(y)},lt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin);l.d.L(y,v,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);l.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(y)},lt.requestFormReset=function(y){l.d.r(y)},lt.unstable_batchedUpdates=function(y,h){return y(h)},lt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},lt.useFormStatus=function(){return m.H.useHostTransitionStatus()},lt.version="19.1.1",lt}var Dm;function Tv(){if(Dm)return Or.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Or.exports=vv(),Or.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function xv(){if(Im)return Wo;Im=1;var n=yv(),e=hu(),o=Tv();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(l(188));return i!==t?null:t}for(var s=t,u=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return g(f),t;if(p===u)return g(f),i;p=p.sibling}throw Error(l(188))}if(s.return!==u.return)s=f,u=p;else{for(var x=!1,E=f.child;E;){if(E===s){x=!0,s=f,u=p;break}if(E===u){x=!0,u=f,s=p;break}E=E.sibling}if(!x){for(E=p.child;E;){if(E===s){x=!0,s=p,u=f;break}if(E===u){x=!0,u=p,s=f;break}E=E.sibling}if(!x)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),O=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var he=Symbol.for("react.client.reference");function W(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===he?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case q:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case te:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case O:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ie:return i=t.displayName||null,i!==null?i:W(t.type)||"Memo";case pe:i=t._payload,t=t._init;try{return W(t(i))}catch{}}return null}var $=Array.isArray,b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],_=-1;function H(t){return{current:t}}function ee(t){0>_||(t.current=ce[_],ce[_]=null,_--)}function Q(t,i){_++,ce[_]=t.current,t.current=i}var le=H(null),ve=H(null),ae=H(null),Je=H(null);function Le(t,i){switch(Q(ae,i),Q(ve,t),Q(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Wd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Wd(i),t=jd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(le),Q(le,t)}function qt(){ee(le),ee(ve),ee(ae)}function Qi(t){t.memoizedState!==null&&Q(Je,t);var i=le.current,s=jd(i,t.type);i!==s&&(Q(ve,t),Q(le,s))}function an(t){ve.current===t&&(ee(le),ee(ve)),Je.current===t&&(ee(Je),Oo._currentValue=Z)}var $i=Object.prototype.hasOwnProperty,Zi=n.unstable_scheduleCallback,Wi=n.unstable_cancelCallback,Rs=n.unstable_shouldYield,Ae=n.unstable_requestPaint,rt=n.unstable_now,bs=n.unstable_getCurrentPriorityLevel,wu=n.unstable_ImmediatePriority,Du=n.unstable_UserBlockingPriority,nl=n.unstable_NormalPriority,Kh=n.unstable_LowPriority,Iu=n.unstable_IdlePriority,Xh=n.log,Qh=n.unstable_setDisableYieldValue,ji=null,pt=null;function rn(t){if(typeof Xh=="function"&&Qh(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(ji,t)}catch{}}var ht=Math.clz32?Math.clz32:Wh,$h=Math.log,Zh=Math.LN2;function Wh(t){return t>>>=0,t===0?32:31-($h(t)/Zh|0)|0}var il=256,ol=4194304;function In(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ll(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var f=0,p=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~p,u!==0?f=In(u):(x&=E,x!==0?f=In(x):s||(s=E&~t,s!==0&&(f=In(s))))):(E=u&~p,E!==0?f=In(E):x!==0?f=In(x):s||(s=u&~t,s!==0&&(f=In(s)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:f}function eo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function jh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var t=il;return il<<=1,(il&4194048)===0&&(il=256),t}function Pu(){var t=ol;return ol<<=1,(ol&62914560)===0&&(ol=4194304),t}function ws(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function to(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eg(t,i,s,u,f,p){var x=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,U=t.hiddenUpdates;for(s=x&~s;0<s;){var V=31-ht(s),F=1<<V;E[V]=0,A[V]=-1;var P=U[V];if(P!==null)for(U[V]=null,V=0;V<P.length;V++){var k=P[V];k!==null&&(k.lane&=-536870913)}s&=~F}u!==0&&Lu(t,u,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(x&~i))}function Lu(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-ht(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function ku(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-ht(s),f=1<<u;f&i|t[u]&i&&(t[u]|=i),s&=~f}}function Ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vu(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:vm(t.type))}function tg(t,i){var s=z.p;try{return z.p=t,i()}finally{z.p=s}}var un=Math.random().toString(36).slice(2),it="__reactFiber$"+un,ut="__reactProps$"+un,jn="__reactContainer$"+un,Us="__reactEvents$"+un,ng="__reactListeners$"+un,ig="__reactHandles$"+un,qu="__reactResources$"+un,no="__reactMarker$"+un;function Ps(t){delete t[it],delete t[ut],delete t[Us],delete t[ng],delete t[ig]}function ei(t){var i=t[it];if(i)return i;for(var s=t.parentNode;s;){if(i=s[jn]||s[it]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=im(t);t!==null;){if(s=t[it])return s;t=im(t)}return i}t=s,s=t.parentNode}return null}function ti(t){if(t=t[it]||t[jn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function io(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function ni(t){var i=t[qu];return i||(i=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $e(t){t[no]=!0}var Gu=new Set,Hu={};function Un(t,i){ii(t,i),ii(t+"Capture",i)}function ii(t,i){for(Hu[t]=i,t=0;t<i.length;t++)Gu.add(i[t])}var og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},zu={};function lg(t){return $i.call(zu,t)?!0:$i.call(Bu,t)?!1:og.test(t)?zu[t]=!0:(Bu[t]=!0,!1)}function sl(t,i,s){if(lg(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function al(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Jt(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}var Ls,Fu;function oi(t){if(Ls===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ls=i&&i[1]||"",Fu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+t+Fu}var ks=!1;function Vs(t,i){if(!t||ks)return"";ks=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var P=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){P=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){P=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),x=p[0],E=p[1];if(x&&E){var A=x.split(`
`),U=E.split(`
`);for(f=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===A.length||f===U.length)for(u=A.length-1,f=U.length-1;1<=u&&0<=f&&A[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(A[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||A[u]!==U[f]){var V=`
`+A[u].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=u&&0<=f);break}}}finally{ks=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?oi(s):""}function sg(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Vs(t.type,!1);case 11:return Vs(t.type.render,!1);case 1:return Vs(t.type,!0);case 31:return oi("Activity");default:return""}}function Ju(t){try{var i="";do i+=sg(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function At(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ag(t){var i=Yu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,p.call(this,x)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rl(t){t._valueTracker||(t._valueTracker=ag(t))}function Ou(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=Yu(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rg=/[\n"\\]/g;function _t(t){return t.replace(rg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qs(t,i,s,u,f,p,x,E){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+At(i)):t.value!==""+At(i)&&(t.value=""+At(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?Gs(t,x,At(i)):s!=null?Gs(t,x,At(s)):u!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+At(E):t.removeAttribute("name")}function Ku(t,i,s,u,f,p,x,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+At(s):"",i=i!=null?""+At(i):s,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function Gs(t,i,s){i==="number"&&ul(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function li(t,i,s,u){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&u&&(t[s].defaultSelected=!0)}else{for(s=""+At(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Xu(t,i,s){if(i!=null&&(i=""+At(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+At(s):""}function Qu(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(l(92));if($(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=At(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function si(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||ug.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Zu(t,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&s[f]!==u&&$u(t,f,u)}else for(var p in i)i.hasOwnProperty(p)&&$u(t,p,i[p])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(t){return fg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bs=null;function zs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,ri=null;function Wu(t){var i=ti(t);if(i&&(t=i.stateNode)){var s=t[ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(qs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var f=u[ut]||null;if(!f)throw Error(l(90));qs(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&Ou(u)}break e;case"textarea":Xu(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&li(t,!!s.multiple,i,!1)}}}var Fs=!1;function ju(t,i,s){if(Fs)return t(i,s);Fs=!0;try{var u=t(i);return u}finally{if(Fs=!1,(ai!==null||ri!==null)&&(Ql(),ai&&(i=ai,t=ri,ri=ai=null,Wu(i),t)))for(i=0;i<t.length;i++)Wu(t[i])}}function oo(t,i){var s=t.stateNode;if(s===null)return null;var u=s[ut]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(Yt)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Js=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Js=!1}var cn=null,Ys=null,fl=null;function ec(){if(fl)return fl;var t,i=Ys,s=i.length,u,f="value"in cn?cn.value:cn.textContent,p=f.length;for(t=0;t<s&&i[t]===f[t];t++);var x=s-t;for(u=1;u<=x&&i[s-u]===f[p-u];u++);return fl=f.slice(t,1<u?1-u:void 0)}function dl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ml(){return!0}function tc(){return!1}function ct(t){function i(s,u,f,p,x){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ml:tc,this.isPropagationStopped=tc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),i}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=ct(Pn),so=v({},Pn,{view:0,detail:0}),dg=ct(so),Os,Ks,ao,hl=v({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Os=t.screenX-ao.screenX,Ks=t.screenY-ao.screenY):Ks=Os=0,ao=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Ks}}),nc=ct(hl),mg=v({},hl,{dataTransfer:0}),pg=ct(mg),hg=v({},so,{relatedTarget:0}),Xs=ct(hg),gg=v({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),yg=ct(gg),vg=v({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tg=ct(vg),xg=v({},Pn,{data:0}),ic=ct(xg),Cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Eg[t])?!!i[t]:!1}function Qs(){return Ag}var _g=v({},so,{key:function(t){if(t.key){var i=Cg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mg=ct(_g),Ng=v({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=ct(Ng),Rg=v({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),bg=ct(Rg),wg=v({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dg=ct(wg),Ig=v({},hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=ct(Ig),Pg=v({},Pn,{newState:0,oldState:0}),Lg=ct(Pg),kg=[9,13,27,32],$s=Yt&&"CompositionEvent"in window,ro=null;Yt&&"documentMode"in document&&(ro=document.documentMode);var Vg=Yt&&"TextEvent"in window&&!ro,lc=Yt&&(!$s||ro&&8<ro&&11>=ro),sc=" ",ac=!1;function rc(t,i){switch(t){case"keyup":return kg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function qg(t,i){switch(t){case"compositionend":return uc(i);case"keypress":return i.which!==32?null:(ac=!0,sc);case"textInput":return t=i.data,t===sc&&ac?null:t;default:return null}}function Gg(t,i){if(ui)return t==="compositionend"||!$s&&rc(t,i)?(t=ec(),fl=Ys=cn=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lc&&i.locale!=="ko"?null:i.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Hg[t.type]:i==="textarea"}function fc(t,i,s,u){ai?ri?ri.push(u):ri=[u]:ai=u,i=ts(i,"onChange"),0<i.length&&(s=new pl("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var uo=null,co=null;function Bg(t){Kd(t,0)}function gl(t){var i=io(t);if(Ou(i))return t}function dc(t,i){if(t==="change")return i}var mc=!1;if(Yt){var Zs;if(Yt){var Ws="oninput"in document;if(!Ws){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),Ws=typeof pc.oninput=="function"}Zs=Ws}else Zs=!1;mc=Zs&&(!document.documentMode||9<document.documentMode)}function hc(){uo&&(uo.detachEvent("onpropertychange",gc),co=uo=null)}function gc(t){if(t.propertyName==="value"&&gl(co)){var i=[];fc(i,co,t,zs(t)),ju(Bg,i)}}function zg(t,i,s){t==="focusin"?(hc(),uo=i,co=s,uo.attachEvent("onpropertychange",gc)):t==="focusout"&&hc()}function Fg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gl(co)}function Jg(t,i){if(t==="click")return gl(i)}function Yg(t,i){if(t==="input"||t==="change")return gl(i)}function Og(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gt=typeof Object.is=="function"?Object.is:Og;function fo(t,i){if(gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!$i.call(i,f)||!gt(t[f],i[f]))return!1}return!0}function yc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vc(t,i){var s=yc(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yc(s)}}function Tc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function xc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ul(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ul(t.document)}return i}function js(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Kg=Yt&&"documentMode"in document&&11>=document.documentMode,ci=null,ea=null,mo=null,ta=!1;function Cc(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ta||ci==null||ci!==ul(u)||(u=ci,"selectionStart"in u&&js(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),mo&&fo(mo,u)||(mo=u,u=ts(ea,"onSelect"),0<u.length&&(i=new pl("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=ci)))}function Ln(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var fi={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},na={},Sc={};Yt&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function kn(t){if(na[t])return na[t];if(!fi[t])return t;var i=fi[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Sc)return na[t]=i[s];return t}var Ec=kn("animationend"),Ac=kn("animationiteration"),_c=kn("animationstart"),Xg=kn("transitionrun"),Qg=kn("transitionstart"),$g=kn("transitioncancel"),Mc=kn("transitionend"),Nc=new Map,ia="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ia.push("scrollEnd");function Pt(t,i){Nc.set(t,i),Un(i,[t])}var Rc=new WeakMap;function Mt(t,i){if(typeof t=="object"&&t!==null){var s=Rc.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Ju(i)},Rc.set(t,i),i)}return{value:t,source:i,stack:Ju(i)}}var Nt=[],di=0,oa=0;function yl(){for(var t=di,i=oa=di=0;i<t;){var s=Nt[i];Nt[i++]=null;var u=Nt[i];Nt[i++]=null;var f=Nt[i];Nt[i++]=null;var p=Nt[i];if(Nt[i++]=null,u!==null&&f!==null){var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}p!==0&&bc(s,f,p)}}function vl(t,i,s,u){Nt[di++]=t,Nt[di++]=i,Nt[di++]=s,Nt[di++]=u,oa|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function la(t,i,s,u){return vl(t,i,s,u),Tl(t)}function mi(t,i){return vl(t,null,null,i),Tl(t)}function bc(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var f=!1,p=t.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&i!==null&&(f=31-ht(s),t=p.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=s|536870912),p):null}function Tl(t){if(50<qo)throw qo=0,fr=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var pi={};function Zg(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,i,s,u){return new Zg(t,i,s,u)}function sa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ot(t,i){var s=t.alternate;return s===null?(s=yt(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function wc(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function xl(t,i,s,u,f,p){var x=0;if(u=t,typeof t=="function")sa(t)&&(x=1);else if(typeof t=="string")x=jy(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=yt(31,s,i,f),t.elementType=j,t.lanes=p,t;case R:return Vn(s.children,f,p,i);case D:x=8,f|=24;break;case q:return t=yt(12,s,i,f|2),t.elementType=q,t.lanes=p,t;case G:return t=yt(13,s,i,f),t.elementType=G,t.lanes=p,t;case te:return t=yt(19,s,i,f),t.elementType=te,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case O:x=10;break e;case J:x=9;break e;case K:x=11;break e;case ie:x=14;break e;case pe:x=16,u=null;break e}x=29,s=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=yt(x,s,i,f),i.elementType=t,i.type=u,i.lanes=p,i}function Vn(t,i,s,u){return t=yt(7,t,u,i),t.lanes=s,t}function aa(t,i,s){return t=yt(6,t,null,i),t.lanes=s,t}function ra(t,i,s){return i=yt(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hi=[],gi=0,Cl=null,Sl=0,Rt=[],bt=0,qn=null,Kt=1,Xt="";function Gn(t,i){hi[gi++]=Sl,hi[gi++]=Cl,Cl=t,Sl=i}function Dc(t,i,s){Rt[bt++]=Kt,Rt[bt++]=Xt,Rt[bt++]=qn,qn=t;var u=Kt;t=Xt;var f=32-ht(u)-1;u&=~(1<<f),s+=1;var p=32-ht(i)+f;if(30<p){var x=f-f%5;p=(u&(1<<x)-1).toString(32),u>>=x,f-=x,Kt=1<<32-ht(i)+f|s<<f|u,Xt=p+t}else Kt=1<<p|s<<f|u,Xt=t}function ua(t){t.return!==null&&(Gn(t,1),Dc(t,1,0))}function ca(t){for(;t===Cl;)Cl=hi[--gi],hi[gi]=null,Sl=hi[--gi],hi[gi]=null;for(;t===qn;)qn=Rt[--bt],Rt[bt]=null,Xt=Rt[--bt],Rt[bt]=null,Kt=Rt[--bt],Rt[bt]=null}var at=null,He=null,Ne=!1,Hn=null,Gt=!1,fa=Error(l(519));function Bn(t){var i=Error(l(418,""));throw go(Mt(i,t)),fa}function Ic(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[it]=t,i[ut]=u,s){case"dialog":Se("cancel",i),Se("close",i);break;case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(s=0;s<Ho.length;s++)Se(Ho[s],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"input":Se("invalid",i),Ku(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),rl(i);break;case"select":Se("invalid",i);break;case"textarea":Se("invalid",i),Qu(i,u.value,u.defaultValue,u.children),rl(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||Zd(i.textContent,s)?(u.popover!=null&&(Se("beforetoggle",i),Se("toggle",i)),u.onScroll!=null&&Se("scroll",i),u.onScrollEnd!=null&&Se("scrollend",i),u.onClick!=null&&(i.onclick=ns),i=!0):i=!1,i||Bn(t)}function Uc(t){for(at=t.return;at;)switch(at.tag){case 5:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:at=at.return}}function po(t){if(t!==at)return!1;if(!Ne)return Uc(t),Ne=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Nr(t.type,t.memoizedProps)),s=!s),s&&He&&Bn(t),Uc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){He=kt(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}He=null}}else i===27?(i=He,Mn(t.type)?(t=Dr,Dr=null,He=t):He=i):He=at?kt(t.stateNode.nextSibling):null;return!0}function ho(){He=at=null,Ne=!1}function Pc(){var t=Hn;return t!==null&&(mt===null?mt=t:mt.push.apply(mt,t),Hn=null),t}function go(t){Hn===null?Hn=[t]:Hn.push(t)}var da=H(null),zn=null,Qt=null;function fn(t,i,s){Q(da,i._currentValue),i._currentValue=s}function $t(t){t._currentValue=da.current,ee(da)}function ma(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function pa(t,i,s,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var x=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var A=0;A<i.length;A++)if(E.context===i[A]){p.lanes|=s,E=p.alternate,E!==null&&(E.lanes|=s),ma(p.return,s,t),u||(x=null);break e}p=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(l(341));x.lanes|=s,p=x.alternate,p!==null&&(p.lanes|=s),ma(x,s,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function yo(t,i,s,u){t=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(l(387));if(x=x.memoizedProps,x!==null){var E=f.type;gt(f.pendingProps.value,x.value)||(t!==null?t.push(E):t=[E])}}else if(f===Je.current){if(x=f.alternate,x===null)throw Error(l(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}f=f.return}t!==null&&pa(i,t,s,u),i.flags|=262144}function El(t){for(t=t.firstContext;t!==null;){if(!gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fn(t){zn=t,Qt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return Lc(zn,t)}function Al(t,i){return zn===null&&Fn(t),Lc(t,i)}function Lc(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Qt===null){if(t===null)throw Error(l(308));Qt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qt=Qt.next=i;return s}var Wg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},jg=n.unstable_scheduleCallback,ey=n.unstable_NormalPriority,Xe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ha(){return{controller:new Wg,data:new Map,refCount:0}}function vo(t){t.refCount--,t.refCount===0&&jg(ey,function(){t.controller.abort()})}var To=null,ga=0,yi=0,vi=null;function ty(t,i){if(To===null){var s=To=[];ga=0,yi=vr(),vi={status:"pending",value:void 0,then:function(u){s.push(u)}}}return ga++,i.then(kc,kc),i}function kc(){if(--ga===0&&To!==null){vi!==null&&(vi.status="fulfilled");var t=To;To=null,yi=0,vi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ny(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var Vc=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ty(t,i),Vc!==null&&Vc(t,i)};var Jn=H(null);function ya(){var t=Jn.current;return t!==null?t:ke.pooledCache}function _l(t,i){i===null?Q(Jn,Jn.current):Q(Jn,i.pool)}function qc(){var t=ya();return t===null?null:{parent:Xe._currentValue,pool:t}}var xo=Error(l(460)),Gc=Error(l(474)),Ml=Error(l(542)),va={then:function(){}};function Hc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nl(){}function Bc(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Nl,Nl),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fc(t),t;default:if(typeof i.status=="string")i.then(Nl,Nl);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fc(t),t}throw Co=i,xo}}var Co=null;function zc(){if(Co===null)throw Error(l(459));var t=Co;return Co=null,t}function Fc(t){if(t===xo||t===Ml)throw Error(l(483))}var dn=!1;function Ta(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xa(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pn(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Re&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Tl(t),bc(t,null,s),i}return vl(t,u,i,s),Tl(t)}function So(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,ku(t,s)}}function Ca(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=x:p=p.next=x,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Sa=!1;function Eo(){if(Sa){var t=vi;if(t!==null)throw t}}function Ao(t,i,s,u){Sa=!1;var f=t.updateQueue;dn=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,U=A.next;A.next=null,x===null?p=U:x.next=U,x=A;var V=t.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==x&&(E===null?V.firstBaseUpdate=U:E.next=U,V.lastBaseUpdate=A))}if(p!==null){var F=f.baseState;x=0,V=U=A=null,E=p;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(Ee&P)===P:(u&P)===P){P!==0&&P===yi&&(Sa=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=t,re=E;P=i;var Ue=s;switch(re.tag){case 1:if(me=re.payload,typeof me=="function"){F=me.call(Ue,F,P);break e}F=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=re.payload,P=typeof me=="function"?me.call(Ue,F,P):me,P==null)break e;F=v({},F,P);break e;case 2:dn=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=f.callbacks,k===null?f.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(U=V=k,A=F):V=V.next=k,x|=P;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);V===null&&(A=F),f.baseState=A,f.firstBaseUpdate=U,f.lastBaseUpdate=V,p===null&&(f.shared.lanes=0),Sn|=x,t.lanes=x,t.memoizedState=F}}function Jc(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Yc(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Jc(s[t],i)}var Ti=H(null),Rl=H(0);function Oc(t,i){t=on,Q(Rl,t),Q(Ti,i),on=t|i.baseLanes}function Ea(){Q(Rl,on),Q(Ti,Ti.current)}function Aa(){on=Rl.current,ee(Ti),ee(Rl)}var hn=0,Te=null,De=null,Ye=null,bl=!1,xi=!1,Yn=!1,wl=0,_o=0,Ci=null,iy=0;function ze(){throw Error(l(321))}function _a(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!gt(t[s],i[s]))return!1;return!0}function Ma(t,i,s,u,f,p){return hn=p,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Df:If,Yn=!1,p=s(u,f),Yn=!1,xi&&(p=Xc(i,s,u,f)),Kc(t),p}function Kc(t){b.H=kl;var i=De!==null&&De.next!==null;if(hn=0,Ye=De=Te=null,bl=!1,_o=0,Ci=null,i)throw Error(l(300));t===null||Ze||(t=t.dependencies,t!==null&&El(t)&&(Ze=!0))}function Xc(t,i,s,u){Te=t;var f=0;do{if(xi&&(Ci=null),_o=0,xi=!1,25<=f)throw Error(l(301));if(f+=1,Ye=De=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}b.H=cy,p=i(s,u)}while(xi);return p}function oy(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?Mo(i):i,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(Te.flags|=1024),i}function Na(){var t=wl!==0;return wl=0,t}function Ra(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function ba(t){if(bl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bl=!1}hn=0,Ye=De=Te=null,xi=!1,_o=wl=0,Ci=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Te.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Oe(){if(De===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var i=Ye===null?Te.memoizedState:Ye.next;if(i!==null)Ye=i,De=t;else{if(t===null)throw Te.alternate===null?Error(l(467)):Error(l(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ye===null?Te.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(t){var i=_o;return _o+=1,Ci===null&&(Ci=[]),t=Bc(Ci,t,i),i=Te,(Ye===null?i.memoizedState:Ye.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Df:If),t}function Dl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Mo(t);if(t.$$typeof===O)return ot(t)}throw Error(l(438,String(t)))}function Da(t){var i=null,s=Te.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=wa(),Te.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=ue;return i.index++,s}function Zt(t,i){return typeof i=="function"?i(t):i}function Il(t){var i=Oe();return Ia(i,De,t)}function Ia(t,i,s){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var f=t.baseQueue,p=u.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}i.baseQueue=f=p,u.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{i=f.next;var E=x=null,A=null,U=i,V=!1;do{var F=U.lane&-536870913;if(F!==U.lane?(Ee&F)===F:(hn&F)===F){var P=U.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),F===yi&&(V=!0);else if((hn&P)===P){U=U.next,P===yi&&(V=!0);continue}else F={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=F,x=p):A=A.next=F,Te.lanes|=P,Sn|=P;F=U.action,Yn&&s(p,F),p=U.hasEagerState?U.eagerState:s(p,F)}else P={lane:F,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=P,x=p):A=A.next=P,Te.lanes|=F,Sn|=F;U=U.next}while(U!==null&&U!==i);if(A===null?x=p:A.next=E,!gt(p,t.memoizedState)&&(Ze=!0,V&&(s=vi,s!==null)))throw s;t.memoizedState=p,t.baseState=x,t.baseQueue=A,u.lastRenderedState=p}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ua(t){var i=Oe(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var u=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var x=f=f.next;do p=t(p,x.action),x=x.next;while(x!==f);gt(p,i.memoizedState)||(Ze=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,u]}function Qc(t,i,s){var u=Te,f=Oe(),p=Ne;if(p){if(s===void 0)throw Error(l(407));s=s()}else s=i();var x=!gt((De||f).memoizedState,s);x&&(f.memoizedState=s,Ze=!0),f=f.queue;var E=Wc.bind(null,u,f,t);if(No(2048,8,E,[t]),f.getSnapshot!==i||x||Ye!==null&&Ye.memoizedState.tag&1){if(u.flags|=2048,Si(9,Ul(),Zc.bind(null,u,f,s,i),null),ke===null)throw Error(l(349));p||(hn&124)!==0||$c(u,i,s)}return s}function $c(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Te.updateQueue,i===null?(i=wa(),Te.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Zc(t,i,s,u){i.value=s,i.getSnapshot=u,jc(i)&&ef(t)}function Wc(t,i,s){return s(function(){jc(i)&&ef(t)})}function jc(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!gt(t,s)}catch{return!0}}function ef(t){var i=mi(t,2);i!==null&&St(i,t,2)}function Pa(t){var i=ft();if(typeof t=="function"){var s=t;if(t=s(),Yn){rn(!0);try{s()}finally{rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:t},i}function nf(t,i,s,u){return t.baseState=s,Ia(t,De,typeof u=="function"?u:Zt)}function ly(t,i,s,u,f){if(Ll(t))throw Error(l(485));if(t=i.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};b.T!==null?s(!0):p.isTransition=!1,u(p),s=i.pending,s===null?(p.next=i.pending=p,of(i,p)):(p.next=s.next,i.pending=s.next=p)}}function of(t,i){var s=i.action,u=i.payload,f=t.state;if(i.isTransition){var p=b.T,x={};b.T=x;try{var E=s(f,u),A=b.S;A!==null&&A(x,E),lf(t,i,E)}catch(U){La(t,i,U)}finally{b.T=p}}else try{p=s(f,u),lf(t,i,p)}catch(U){La(t,i,U)}}function lf(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){sf(t,i,u)},function(u){return La(t,i,u)}):sf(t,i,s)}function sf(t,i,s){i.status="fulfilled",i.value=s,af(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,of(t,s)))}function La(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,af(i),i=i.next;while(i!==u)}t.action=null}function af(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rf(t,i){return i}function uf(t,i){if(Ne){var s=ke.formState;if(s!==null){e:{var u=Te;if(Ne){if(He){t:{for(var f=He,p=Gt;f.nodeType!==8;){if(!p){f=null;break t}if(f=kt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){He=kt(f.nextSibling),u=f.data==="F!";break e}}Bn(u)}u=!1}u&&(i=s[0])}}return s=ft(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:i},s.queue=u,s=Rf.bind(null,Te,u),u.dispatch=s,u=Pa(!1),p=Ha.bind(null,Te,!1,u.queue),u=ft(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,s=ly.bind(null,Te,f,p,s),f.dispatch=s,u.memoizedState=t,[i,s,!1]}function cf(t){var i=Oe();return ff(i,De,t)}function ff(t,i,s){if(i=Ia(t,i,rf)[0],t=Il(Zt)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Mo(i)}catch(x){throw x===xo?Ml:x}else u=i;i=Oe();var f=i.queue,p=f.dispatch;return s!==i.memoizedState&&(Te.flags|=2048,Si(9,Ul(),sy.bind(null,f,s),null)),[u,p,t]}function sy(t,i){t.action=i}function df(t){var i=Oe(),s=De;if(s!==null)return ff(i,s,t);Oe(),i=i.memoizedState,s=Oe();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function Si(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=Te.updateQueue,i===null&&(i=wa(),Te.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function Ul(){return{destroy:void 0,resource:void 0}}function mf(){return Oe().memoizedState}function Pl(t,i,s,u){var f=ft();u=u===void 0?null:u,Te.flags|=t,f.memoizedState=Si(1|i,Ul(),s,u)}function No(t,i,s,u){var f=Oe();u=u===void 0?null:u;var p=f.memoizedState.inst;De!==null&&u!==null&&_a(u,De.memoizedState.deps)?f.memoizedState=Si(i,p,s,u):(Te.flags|=t,f.memoizedState=Si(1|i,p,s,u))}function pf(t,i){Pl(8390656,8,t,i)}function hf(t,i){No(2048,8,t,i)}function gf(t,i){return No(4,2,t,i)}function yf(t,i){return No(4,4,t,i)}function vf(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Tf(t,i,s){s=s!=null?s.concat([t]):null,No(4,4,vf.bind(null,i,t),s)}function ka(){}function xf(t,i){var s=Oe();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&_a(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function Cf(t,i){var s=Oe();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&_a(i,u[1]))return u[0];if(u=t(),Yn){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[u,i],u}function Va(t,i,s){return s===void 0||(hn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Ad(),Te.lanes|=t,Sn|=t,s)}function Sf(t,i,s,u){return gt(s,i)?s:Ti.current!==null?(t=Va(t,s,u),gt(t,i)||(Ze=!0),t):(hn&42)===0?(Ze=!0,t.memoizedState=s):(t=Ad(),Te.lanes|=t,Sn|=t,i)}function Ef(t,i,s,u,f){var p=z.p;z.p=p!==0&&8>p?p:8;var x=b.T,E={};b.T=E,Ha(t,!1,i,s);try{var A=f(),U=b.S;if(U!==null&&U(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=ny(A,u);Ro(t,i,V,Ct(t))}else Ro(t,i,u,Ct(t))}catch(F){Ro(t,i,{then:function(){},status:"rejected",reason:F},Ct())}finally{z.p=p,b.T=x}}function ay(){}function qa(t,i,s,u){if(t.tag!==5)throw Error(l(476));var f=Af(t).queue;Ef(t,f,i,Z,s===null?ay:function(){return _f(t),s(u)})}function Af(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:Z},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _f(t){var i=Af(t).next.queue;Ro(t,i,{},Ct())}function Ga(){return ot(Oo)}function Mf(){return Oe().memoizedState}function Nf(){return Oe().memoizedState}function ry(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ct();t=mn(s);var u=pn(i,t,s);u!==null&&(St(u,i,s),So(u,i,s)),i={cache:ha()},t.payload=i;return}i=i.return}}function uy(t,i,s){var u=Ct();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ll(t)?bf(i,s):(s=la(t,i,s,u),s!==null&&(St(s,t,u),wf(s,i,u)))}function Rf(t,i,s){var u=Ct();Ro(t,i,s,u)}function Ro(t,i,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ll(t))bf(i,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var x=i.lastRenderedState,E=p(x,s);if(f.hasEagerState=!0,f.eagerState=E,gt(E,x))return vl(t,i,f,0),ke===null&&yl(),!1}catch{}finally{}if(s=la(t,i,f,u),s!==null)return St(s,t,u),wf(s,i,u),!0}return!1}function Ha(t,i,s,u){if(u={lane:2,revertLane:vr(),action:u,hasEagerState:!1,eagerState:null,next:null},Ll(t)){if(i)throw Error(l(479))}else i=la(t,s,u,2),i!==null&&St(i,t,2)}function Ll(t){var i=t.alternate;return t===Te||i!==null&&i===Te}function bf(t,i){xi=bl=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function wf(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,ku(t,s)}}var kl={readContext:ot,use:Dl,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze},Df={readContext:ot,use:Dl,useCallback:function(t,i){return ft().memoizedState=[t,i===void 0?null:i],t},useContext:ot,useEffect:pf,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Pl(4194308,4,vf.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Pl(4194308,4,t,i)},useInsertionEffect:function(t,i){Pl(4,2,t,i)},useMemo:function(t,i){var s=ft();i=i===void 0?null:i;var u=t();if(Yn){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=ft();if(s!==void 0){var f=s(i);if(Yn){rn(!0);try{s(i)}finally{rn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=uy.bind(null,Te,t),[u.memoizedState,t]},useRef:function(t){var i=ft();return t={current:t},i.memoizedState=t},useState:function(t){t=Pa(t);var i=t.queue,s=Rf.bind(null,Te,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ka,useDeferredValue:function(t,i){var s=ft();return Va(s,t,i)},useTransition:function(){var t=Pa(!1);return t=Ef.bind(null,Te,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=Te,f=ft();if(Ne){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),ke===null)throw Error(l(349));(Ee&124)!==0||$c(u,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,pf(Wc.bind(null,u,p,t),[t]),u.flags|=2048,Si(9,Ul(),Zc.bind(null,u,p,s,i),null),s},useId:function(){var t=ft(),i=ke.identifierPrefix;if(Ne){var s=Xt,u=Kt;s=(u&~(1<<32-ht(u)-1)).toString(32)+s,i=""+i+"R"+s,s=wl++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=iy++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Ga,useFormState:uf,useActionState:uf,useOptimistic:function(t){var i=ft();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ha.bind(null,Te,!0,s),s.dispatch=i,[t,i]},useMemoCache:Da,useCacheRefresh:function(){return ft().memoizedState=ry.bind(null,Te)}},If={readContext:ot,use:Dl,useCallback:xf,useContext:ot,useEffect:hf,useImperativeHandle:Tf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Cf,useReducer:Il,useRef:mf,useState:function(){return Il(Zt)},useDebugValue:ka,useDeferredValue:function(t,i){var s=Oe();return Sf(s,De.memoizedState,t,i)},useTransition:function(){var t=Il(Zt)[0],i=Oe().memoizedState;return[typeof t=="boolean"?t:Mo(t),i]},useSyncExternalStore:Qc,useId:Mf,useHostTransitionStatus:Ga,useFormState:cf,useActionState:cf,useOptimistic:function(t,i){var s=Oe();return nf(s,De,t,i)},useMemoCache:Da,useCacheRefresh:Nf},cy={readContext:ot,use:Dl,useCallback:xf,useContext:ot,useEffect:hf,useImperativeHandle:Tf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Cf,useReducer:Ua,useRef:mf,useState:function(){return Ua(Zt)},useDebugValue:ka,useDeferredValue:function(t,i){var s=Oe();return De===null?Va(s,t,i):Sf(s,De.memoizedState,t,i)},useTransition:function(){var t=Ua(Zt)[0],i=Oe().memoizedState;return[typeof t=="boolean"?t:Mo(t),i]},useSyncExternalStore:Qc,useId:Mf,useHostTransitionStatus:Ga,useFormState:df,useActionState:df,useOptimistic:function(t,i){var s=Oe();return De!==null?nf(s,De,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Da,useCacheRefresh:Nf},Ei=null,bo=0;function Vl(t){var i=bo;return bo+=1,Ei===null&&(Ei=[]),Bc(Ei,t,i)}function wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ql(t,i){throw i.$$typeof===C?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Uf(t){var i=t._init;return i(t._payload)}function Pf(t){function i(w,N){if(t){var I=w.deletions;I===null?(w.deletions=[N],w.flags|=16):I.push(N)}}function s(w,N){if(!t)return null;for(;N!==null;)i(w,N),N=N.sibling;return null}function u(w){for(var N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function f(w,N){return w=Ot(w,N),w.index=0,w.sibling=null,w}function p(w,N,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<N?(w.flags|=67108866,N):I):(w.flags|=67108866,N)):(w.flags|=1048576,N)}function x(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function E(w,N,I,B){return N===null||N.tag!==6?(N=aa(I,w.mode,B),N.return=w,N):(N=f(N,I),N.return=w,N)}function A(w,N,I,B){var oe=I.type;return oe===R?V(w,N,I.props.children,B,I.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Uf(oe)===N.type)?(N=f(N,I.props),wo(N,I),N.return=w,N):(N=xl(I.type,I.key,I.props,null,w.mode,B),wo(N,I),N.return=w,N)}function U(w,N,I,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=ra(I,w.mode,B),N.return=w,N):(N=f(N,I.children||[]),N.return=w,N)}function V(w,N,I,B,oe){return N===null||N.tag!==7?(N=Vn(I,w.mode,B,oe),N.return=w,N):(N=f(N,I),N.return=w,N)}function F(w,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=aa(""+N,w.mode,I),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return I=xl(N.type,N.key,N.props,null,w.mode,I),wo(I,N),I.return=w,I;case M:return N=ra(N,w.mode,I),N.return=w,N;case pe:var B=N._init;return N=B(N._payload),F(w,N,I)}if($(N)||ge(N))return N=Vn(N,w.mode,I,null),N.return=w,N;if(typeof N.then=="function")return F(w,Vl(N),I);if(N.$$typeof===O)return F(w,Al(w,N),I);ql(w,N)}return null}function P(w,N,I,B){var oe=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return oe!==null?null:E(w,N,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return I.key===oe?A(w,N,I,B):null;case M:return I.key===oe?U(w,N,I,B):null;case pe:return oe=I._init,I=oe(I._payload),P(w,N,I,B)}if($(I)||ge(I))return oe!==null?null:V(w,N,I,B,null);if(typeof I.then=="function")return P(w,N,Vl(I),B);if(I.$$typeof===O)return P(w,N,Al(w,I),B);ql(w,I)}return null}function k(w,N,I,B,oe){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return w=w.get(I)||null,E(N,w,""+B,oe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return w=w.get(B.key===null?I:B.key)||null,A(N,w,B,oe);case M:return w=w.get(B.key===null?I:B.key)||null,U(N,w,B,oe);case pe:var xe=B._init;return B=xe(B._payload),k(w,N,I,B,oe)}if($(B)||ge(B))return w=w.get(I)||null,V(N,w,B,oe,null);if(typeof B.then=="function")return k(w,N,I,Vl(B),oe);if(B.$$typeof===O)return k(w,N,I,Al(N,B),oe);ql(N,B)}return null}function me(w,N,I,B){for(var oe=null,xe=null,se=N,fe=N=0,je=null;se!==null&&fe<I.length;fe++){se.index>fe?(je=se,se=null):je=se.sibling;var _e=P(w,se,I[fe],B);if(_e===null){se===null&&(se=je);break}t&&se&&_e.alternate===null&&i(w,se),N=p(_e,N,fe),xe===null?oe=_e:xe.sibling=_e,xe=_e,se=je}if(fe===I.length)return s(w,se),Ne&&Gn(w,fe),oe;if(se===null){for(;fe<I.length;fe++)se=F(w,I[fe],B),se!==null&&(N=p(se,N,fe),xe===null?oe=se:xe.sibling=se,xe=se);return Ne&&Gn(w,fe),oe}for(se=u(se);fe<I.length;fe++)je=k(se,w,fe,I[fe],B),je!==null&&(t&&je.alternate!==null&&se.delete(je.key===null?fe:je.key),N=p(je,N,fe),xe===null?oe=je:xe.sibling=je,xe=je);return t&&se.forEach(function(Dn){return i(w,Dn)}),Ne&&Gn(w,fe),oe}function re(w,N,I,B){if(I==null)throw Error(l(151));for(var oe=null,xe=null,se=N,fe=N=0,je=null,_e=I.next();se!==null&&!_e.done;fe++,_e=I.next()){se.index>fe?(je=se,se=null):je=se.sibling;var Dn=P(w,se,_e.value,B);if(Dn===null){se===null&&(se=je);break}t&&se&&Dn.alternate===null&&i(w,se),N=p(Dn,N,fe),xe===null?oe=Dn:xe.sibling=Dn,xe=Dn,se=je}if(_e.done)return s(w,se),Ne&&Gn(w,fe),oe;if(se===null){for(;!_e.done;fe++,_e=I.next())_e=F(w,_e.value,B),_e!==null&&(N=p(_e,N,fe),xe===null?oe=_e:xe.sibling=_e,xe=_e);return Ne&&Gn(w,fe),oe}for(se=u(se);!_e.done;fe++,_e=I.next())_e=k(se,w,fe,_e.value,B),_e!==null&&(t&&_e.alternate!==null&&se.delete(_e.key===null?fe:_e.key),N=p(_e,N,fe),xe===null?oe=_e:xe.sibling=_e,xe=_e);return t&&se.forEach(function(fv){return i(w,fv)}),Ne&&Gn(w,fe),oe}function Ue(w,N,I,B){if(typeof I=="object"&&I!==null&&I.type===R&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case S:e:{for(var oe=I.key;N!==null;){if(N.key===oe){if(oe=I.type,oe===R){if(N.tag===7){s(w,N.sibling),B=f(N,I.props.children),B.return=w,w=B;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Uf(oe)===N.type){s(w,N.sibling),B=f(N,I.props),wo(B,I),B.return=w,w=B;break e}s(w,N);break}else i(w,N);N=N.sibling}I.type===R?(B=Vn(I.props.children,w.mode,B,I.key),B.return=w,w=B):(B=xl(I.type,I.key,I.props,null,w.mode,B),wo(B,I),B.return=w,w=B)}return x(w);case M:e:{for(oe=I.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){s(w,N.sibling),B=f(N,I.children||[]),B.return=w,w=B;break e}else{s(w,N);break}else i(w,N);N=N.sibling}B=ra(I,w.mode,B),B.return=w,w=B}return x(w);case pe:return oe=I._init,I=oe(I._payload),Ue(w,N,I,B)}if($(I))return me(w,N,I,B);if(ge(I)){if(oe=ge(I),typeof oe!="function")throw Error(l(150));return I=oe.call(I),re(w,N,I,B)}if(typeof I.then=="function")return Ue(w,N,Vl(I),B);if(I.$$typeof===O)return Ue(w,N,Al(w,I),B);ql(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(s(w,N.sibling),B=f(N,I),B.return=w,w=B):(s(w,N),B=aa(I,w.mode,B),B.return=w,w=B),x(w)):s(w,N)}return function(w,N,I,B){try{bo=0;var oe=Ue(w,N,I,B);return Ei=null,oe}catch(se){if(se===xo||se===Ml)throw se;var xe=yt(29,se,null,w.mode);return xe.lanes=B,xe.return=w,xe}finally{}}}var Ai=Pf(!0),Lf=Pf(!1),wt=H(null),Ht=null;function gn(t){var i=t.alternate;Q(Qe,Qe.current&1),Q(wt,t),Ht===null&&(i===null||Ti.current!==null||i.memoizedState!==null)&&(Ht=t)}function kf(t){if(t.tag===22){if(Q(Qe,Qe.current),Q(wt,t),Ht===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ht=t)}}else yn()}function yn(){Q(Qe,Qe.current),Q(wt,wt.current)}function Wt(t){ee(wt),Ht===t&&(Ht=null),ee(Qe)}var Qe=H(0);function Gl(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||wr(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ba(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var za={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Ct(),f=mn(u);f.payload=i,s!=null&&(f.callback=s),i=pn(t,f,u),i!==null&&(St(i,t,u),So(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Ct(),f=mn(u);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=pn(t,f,u),i!==null&&(St(i,t,u),So(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Ct(),u=mn(s);u.tag=2,i!=null&&(u.callback=i),i=pn(t,u,s),i!==null&&(St(i,t,s),So(i,t,s))}};function Vf(t,i,s,u,f,p,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,x):i.prototype&&i.prototype.isPureReactComponent?!fo(s,u)||!fo(f,p):!0}function qf(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&za.enqueueReplaceState(i,i.state,null)}function On(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gf(t){Hl(t)}function Hf(t){console.error(t)}function Bf(t){Hl(t)}function Bl(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function zf(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fa(t,i,s){return s=mn(s),s.tag=3,s.payload={element:null},s.callback=function(){Bl(t,i)},s}function Ff(t){return t=mn(t),t.tag=3,t}function Jf(t,i,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;t.payload=function(){return f(p)},t.callback=function(){zf(i,s,u)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){zf(i,s,u),typeof f!="function"&&(En===null?En=new Set([this]):En.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function fy(t,i,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&yo(i,s,f,!0),s=wt.current,s!==null){switch(s.tag){case 13:return Ht===null?mr():s.alternate===null&&Be===0&&(Be=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===va?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),hr(t,u,f)),!1;case 22:return s.flags|=65536,u===va?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),hr(t,u,f)),!1}throw Error(l(435,s.tag))}return hr(t,u,f),mr(),!1}if(Ne)return i=wt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==fa&&(t=Error(l(422),{cause:u}),go(Mt(t,s)))):(u!==fa&&(i=Error(l(423),{cause:u}),go(Mt(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Mt(u,s),f=Fa(t.stateNode,u,f),Ca(t,f),Be!==4&&(Be=2)),!1;var p=Error(l(520),{cause:u});if(p=Mt(p,s),Vo===null?Vo=[p]:Vo.push(p),Be!==4&&(Be=2),i===null)return!0;u=Mt(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Fa(s.stateNode,u,t),Ca(s,t),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(En===null||!En.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ff(f),Jf(f,t,s,u),Ca(s,f),!1}s=s.return}while(s!==null);return!1}var Yf=Error(l(461)),Ze=!1;function et(t,i,s,u){i.child=t===null?Lf(i,null,s,u):Ai(i,t.child,s,u)}function Of(t,i,s,u,f){s=s.render;var p=i.ref;if("ref"in u){var x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}else x=u;return Fn(i),u=Ma(t,i,s,x,p,f),E=Na(),t!==null&&!Ze?(Ra(t,i,f),jt(t,i,f)):(Ne&&E&&ua(i),i.flags|=1,et(t,i,u,f),i.child)}function Kf(t,i,s,u,f){if(t===null){var p=s.type;return typeof p=="function"&&!sa(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,Xf(t,i,p,u,f)):(t=xl(s.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Za(t,f)){var x=p.memoizedProps;if(s=s.compare,s=s!==null?s:fo,s(x,u)&&t.ref===i.ref)return jt(t,i,f)}return i.flags|=1,t=Ot(p,u),t.ref=i.ref,t.return=i,i.child=t}function Xf(t,i,s,u,f){if(t!==null){var p=t.memoizedProps;if(fo(p,u)&&t.ref===i.ref)if(Ze=!1,i.pendingProps=u=p,Za(t,f))(t.flags&131072)!==0&&(Ze=!0);else return i.lanes=t.lanes,jt(t,i,f)}return Ja(t,i,s,u,f)}function Qf(t,i,s){var u=i.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|s:s,t!==null){for(f=i.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return $f(t,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_l(i,p!==null?p.cachePool:null),p!==null?Oc(i,p):Ea(),kf(i);else return i.lanes=i.childLanes=536870912,$f(t,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(_l(i,p.cachePool),Oc(i,p),yn(),i.memoizedState=null):(t!==null&&_l(i,null),Ea(),yn());return et(t,i,f,s),i.child}function $f(t,i,s,u){var f=ya();return f=f===null?null:{parent:Xe._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&_l(i,null),Ea(),kf(i),t!==null&&yo(t,i,u,!0),null}function zl(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Ja(t,i,s,u,f){return Fn(i),s=Ma(t,i,s,u,void 0,f),u=Na(),t!==null&&!Ze?(Ra(t,i,f),jt(t,i,f)):(Ne&&u&&ua(i),i.flags|=1,et(t,i,s,f),i.child)}function Zf(t,i,s,u,f,p){return Fn(i),i.updateQueue=null,s=Xc(i,u,s,f),Kc(t),u=Na(),t!==null&&!Ze?(Ra(t,i,p),jt(t,i,p)):(Ne&&u&&ua(i),i.flags|=1,et(t,i,s,p),i.child)}function Wf(t,i,s,u,f){if(Fn(i),i.stateNode===null){var p=pi,x=s.contextType;typeof x=="object"&&x!==null&&(p=ot(x)),p=new s(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=za,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Ta(i),x=s.contextType,p.context=typeof x=="object"&&x!==null?ot(x):pi,p.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Ba(i,s,x,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&za.enqueueReplaceState(p,p.state,null),Ao(i,u,p,f),Eo(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){p=i.stateNode;var E=i.memoizedProps,A=On(s,E);p.props=A;var U=p.context,V=s.contextType;x=pi,typeof V=="object"&&V!==null&&(x=ot(V));var F=s.getDerivedStateFromProps;V=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||U!==x)&&qf(i,p,u,x),dn=!1;var P=i.memoizedState;p.state=P,Ao(i,u,p,f),Eo(),U=i.memoizedState,E||P!==U||dn?(typeof F=="function"&&(Ba(i,s,F,u),U=i.memoizedState),(A=dn||Vf(i,s,A,u,P,U,x))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=U),p.props=u,p.state=U,p.context=x,u=A):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,xa(t,i),x=i.memoizedProps,V=On(s,x),p.props=V,F=i.pendingProps,P=p.context,U=s.contextType,A=pi,typeof U=="object"&&U!==null&&(A=ot(U)),E=s.getDerivedStateFromProps,(U=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==F||P!==A)&&qf(i,p,u,A),dn=!1,P=i.memoizedState,p.state=P,Ao(i,u,p,f),Eo();var k=i.memoizedState;x!==F||P!==k||dn||t!==null&&t.dependencies!==null&&El(t.dependencies)?(typeof E=="function"&&(Ba(i,s,E,u),k=i.memoizedState),(V=dn||Vf(i,s,V,u,P,k,A)||t!==null&&t.dependencies!==null&&El(t.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,k,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,k,A)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=k),p.props=u,p.state=k,p.context=A,u=V):(typeof p.componentDidUpdate!="function"||x===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),u=!1)}return p=u,zl(t,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&u?(i.child=Ai(i,t.child,null,f),i.child=Ai(i,null,s,f)):et(t,i,s,f),i.memoizedState=p.state,t=i.child):t=jt(t,i,f),t}function jf(t,i,s,u){return ho(),i.flags|=256,et(t,i,s,u),i.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oa(t){return{baseLanes:t,cachePool:qc()}}function Ka(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Dt),t}function ed(t,i,s){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,x;if((x=p)||(x=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),x&&(f=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ne){if(f?gn(i):yn(),Ne){var E=He,A;if(A=E){e:{for(A=E,E=Gt;A.nodeType!==8;){if(!E){E=null;break e}if(A=kt(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:qn!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},A=yt(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,at=i,He=null,A=!0):A=!1}A||Bn(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return wr(E)?i.lanes=32:i.lanes=536870912,null;Wt(i)}return E=u.children,u=u.fallback,f?(yn(),f=i.mode,E=Fl({mode:"hidden",children:E},f),u=Vn(u,f,s,null),E.return=i,u.return=i,E.sibling=u,i.child=E,f=i.child,f.memoizedState=Oa(s),f.childLanes=Ka(t,x,s),i.memoizedState=Ya,u):(gn(i),Xa(i,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(p)i.flags&256?(gn(i),i.flags&=-257,i=Qa(t,i,s)):i.memoizedState!==null?(yn(),i.child=t.child,i.flags|=128,i=null):(yn(),f=u.fallback,E=i.mode,u=Fl({mode:"visible",children:u.children},E),f=Vn(f,E,s,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Ai(i,t.child,null,s),u=i.child,u.memoizedState=Oa(s),u.childLanes=Ka(t,x,s),i.memoizedState=Ya,i=f);else if(gn(i),wr(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var U=x.dgst;x=U,u=Error(l(419)),u.stack="",u.digest=x,go({value:u,source:null,stack:null}),i=Qa(t,i,s)}else if(Ze||yo(t,i,s,!1),x=(s&t.childLanes)!==0,Ze||x){if(x=ke,x!==null&&(u=s&-s,u=(u&42)!==0?1:Ds(u),u=(u&(x.suspendedLanes|s))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,mi(t,u),St(x,t,u),Yf;E.data==="$?"||mr(),i=Qa(t,i,s)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,He=kt(E.nextSibling),at=i,Ne=!0,Hn=null,Gt=!1,t!==null&&(Rt[bt++]=Kt,Rt[bt++]=Xt,Rt[bt++]=qn,Kt=t.id,Xt=t.overflow,qn=i),i=Xa(i,u.children),i.flags|=4096);return i}return f?(yn(),f=u.fallback,E=i.mode,A=t.child,U=A.sibling,u=Ot(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,U!==null?f=Ot(U,f):(f=Vn(f,E,s,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,E=t.child.memoizedState,E===null?E=Oa(s):(A=E.cachePool,A!==null?(U=Xe._currentValue,A=A.parent!==U?{parent:U,pool:U}:A):A=qc(),E={baseLanes:E.baseLanes|s,cachePool:A}),f.memoizedState=E,f.childLanes=Ka(t,x,s),i.memoizedState=Ya,u):(gn(i),s=t.child,t=s.sibling,s=Ot(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=s,i.memoizedState=null,s)}function Xa(t,i){return i=Fl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fl(t,i){return t=yt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qa(t,i,s){return Ai(i,t.child,null,s),t=Xa(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function td(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),ma(t.return,i,s)}function $a(t,i,s,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=f)}function nd(t,i,s){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(et(t,i,u.children,s),u=Qe.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&td(t,s,i);else if(t.tag===19)td(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(Q(Qe,u),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&Gl(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),$a(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Gl(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}$a(i,!0,s,null,p);break;case"together":$a(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jt(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Sn|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(yo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,s=Ot(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ot(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Za(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&El(t)))}function dy(t,i,s){switch(i.tag){case 3:Le(i,i.stateNode.containerInfo),fn(i,Xe,t.memoizedState.cache),ho();break;case 27:case 5:Qi(i);break;case 4:Le(i,i.stateNode.containerInfo);break;case 10:fn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(gn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ed(t,i,s):(gn(i),t=jt(t,i,s),t!==null?t.sibling:null);gn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(yo(t,i,s,!1),u=(s&i.childLanes)!==0),f){if(u)return nd(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Qe,Qe.current),u)break;return null;case 22:case 23:return i.lanes=0,Qf(t,i,s);case 24:fn(i,Xe,t.memoizedState.cache)}return jt(t,i,s)}function id(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ze=!0;else{if(!Za(t,s)&&(i.flags&128)===0)return Ze=!1,dy(t,i,s);Ze=(t.flags&131072)!==0}else Ze=!1,Ne&&(i.flags&1048576)!==0&&Dc(i,Sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")sa(u)?(t=On(u,t),i.tag=1,i=Wf(null,i,u,t,s)):(i.tag=0,i=Ja(null,i,u,t,s));else{if(u!=null){if(f=u.$$typeof,f===K){i.tag=11,i=Of(null,i,u,t,s);break e}else if(f===ie){i.tag=14,i=Kf(null,i,u,t,s);break e}}throw i=W(u)||u,Error(l(306,i,""))}}return i;case 0:return Ja(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,f=On(u,i.pendingProps),Wf(t,i,u,f,s);case 3:e:{if(Le(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,xa(t,i),Ao(i,u,null,s);var x=i.memoizedState;if(u=x.cache,fn(i,Xe,u),u!==p.cache&&pa(i,[Xe],s,!0),Eo(),u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=jf(t,i,u,s);break e}else if(u!==f){f=Mt(Error(l(424)),i),go(f),i=jf(t,i,u,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=kt(t.firstChild),at=i,Ne=!0,Hn=null,Gt=!0,s=Lf(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ho(),u===f){i=jt(t,i,s);break e}et(t,i,u,s)}i=i.child}return i;case 26:return zl(t,i),t===null?(s=am(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ne||(s=i.type,t=i.pendingProps,u=is(ae.current).createElement(s),u[it]=i,u[ut]=t,nt(u,s,t),$e(u),i.stateNode=u):i.memoizedState=am(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Qi(i),t===null&&Ne&&(u=i.stateNode=om(i.type,i.pendingProps,ae.current),at=i,Gt=!0,f=He,Mn(i.type)?(Dr=f,He=kt(u.firstChild)):He=f),et(t,i,i.pendingProps.children,s),zl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ne&&((f=u=He)&&(u=Hy(u,i.type,i.pendingProps,Gt),u!==null?(i.stateNode=u,at=i,He=kt(u.firstChild),Gt=!1,f=!0):f=!1),f||Bn(i)),Qi(i),f=i.type,p=i.pendingProps,x=t!==null?t.memoizedProps:null,u=p.children,Nr(f,p)?u=null:x!==null&&Nr(f,x)&&(i.flags|=32),i.memoizedState!==null&&(f=Ma(t,i,oy,null,null,s),Oo._currentValue=f),zl(t,i),et(t,i,u,s),i.child;case 6:return t===null&&Ne&&((t=s=He)&&(s=By(s,i.pendingProps,Gt),s!==null?(i.stateNode=s,at=i,He=null,t=!0):t=!1),t||Bn(i)),null;case 13:return ed(t,i,s);case 4:return Le(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ai(i,null,u,s):et(t,i,u,s),i.child;case 11:return Of(t,i,i.type,i.pendingProps,s);case 7:return et(t,i,i.pendingProps,s),i.child;case 8:return et(t,i,i.pendingProps.children,s),i.child;case 12:return et(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,fn(i,i.type,u.value),et(t,i,u.children,s),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Fn(i),f=ot(f),u=u(f),i.flags|=1,et(t,i,u,s),i.child;case 14:return Kf(t,i,i.type,i.pendingProps,s);case 15:return Xf(t,i,i.type,i.pendingProps,s);case 19:return nd(t,i,s);case 31:return u=i.pendingProps,s=i.mode,u={mode:u.mode,children:u.children},t===null?(s=Fl(u,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ot(t.child,u),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Qf(t,i,s);case 24:return Fn(i),u=ot(Xe),t===null?(f=ya(),f===null&&(f=ke,p=ha(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:u,cache:f},Ta(i),fn(i,Xe,f)):((t.lanes&s)!==0&&(xa(t,i),Ao(i,null,null,s),Eo()),f=t.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),fn(i,Xe,u)):(u=p.cache,fn(i,Xe,u),u!==f.cache&&pa(i,[Xe],s,!0))),et(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function en(t){t.flags|=4}function od(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dm(i)){if(i=wt.current,i!==null&&((Ee&4194048)===Ee?Ht!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||i!==Ht))throw Co=va,Gc;t.flags|=8192}}function Jl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Pu():536870912,t.lanes|=i,Ri|=i)}function Do(t,i){if(!Ne)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ge(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function my(t,i,s){var u=i.pendingProps;switch(ca(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(i),null;case 1:return Ge(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),$t(Xe),qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(po(i)?en(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pc())),Ge(i),null;case 26:return s=i.memoizedState,t===null?(en(i),s!==null?(Ge(i),od(i,s)):(Ge(i),i.flags&=-16777217)):s?s!==t.memoizedState?(en(i),Ge(i),od(i,s)):(Ge(i),i.flags&=-16777217):(t.memoizedProps!==u&&en(i),Ge(i),i.flags&=-16777217),null;case 27:an(i),s=ae.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&en(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Ge(i),null}t=le.current,po(i)?Ic(i):(t=om(f,u,s),i.stateNode=t,en(i))}return Ge(i),null;case 5:if(an(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&en(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Ge(i),null}if(t=le.current,po(i))Ic(i);else{switch(f=is(ae.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(s,{is:u.is}):f.createElement(s)}}t[it]=i,t[ut]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(nt(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&en(i)}}return Ge(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&en(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=ae.current,po(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,f=at,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[it]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Zd(t.nodeValue,s)),t||Bn(i)}else t=is(t).createTextNode(u),t[it]=i,i.stateNode=t}return Ge(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=po(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(l(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[it]=i}else ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),f=!1}else f=Pc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Wt(i),i):(Wt(i),null)}if(Wt(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Jl(i,i.updateQueue),Ge(i),null;case 4:return qt(),t===null&&Sr(i.stateNode.containerInfo),Ge(i),null;case 10:return $t(i.type),Ge(i),null;case 19:if(ee(Qe),f=i.memoizedState,f===null)return Ge(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)Do(f,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Gl(t),p!==null){for(i.flags|=128,Do(f,!1),t=p.updateQueue,i.updateQueue=t,Jl(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)wc(s,t),s=s.sibling;return Q(Qe,Qe.current&1|2),i.child}t=t.sibling}f.tail!==null&&rt()>Kl&&(i.flags|=128,u=!0,Do(f,!1),i.lanes=4194304)}else{if(!u)if(t=Gl(p),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Jl(i,t),Do(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ne)return Ge(i),null}else 2*rt()-f.renderingStartTime>Kl&&s!==536870912&&(i.flags|=128,u=!0,Do(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(t=f.last,t!==null?t.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=rt(),i.sibling=null,t=Qe.current,Q(Qe,u?t&1|2:t&1),i):(Ge(i),null);case 22:case 23:return Wt(i),Aa(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Ge(i),i.subtreeFlags&6&&(i.flags|=8192)):Ge(i),s=i.updateQueue,s!==null&&Jl(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&ee(Jn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),$t(Xe),Ge(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function py(t,i){switch(ca(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $t(Xe),qt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return an(i),null;case 13:if(Wt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));ho()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(Qe),null;case 4:return qt(),null;case 10:return $t(i.type),null;case 22:case 23:return Wt(i),Aa(),t!==null&&ee(Jn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $t(Xe),null;case 25:return null;default:return null}}function ld(t,i){switch(ca(i),i.tag){case 3:$t(Xe),qt();break;case 26:case 27:case 5:an(i);break;case 4:qt();break;case 13:Wt(i);break;case 19:ee(Qe);break;case 10:$t(i.type);break;case 22:case 23:Wt(i),Aa(),t!==null&&ee(Jn);break;case 24:$t(Xe)}}function Io(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&t)===t){u=void 0;var p=s.create,x=s.inst;u=p(),x.destroy=u}s=s.next}while(s!==f)}}catch(E){Pe(i,i.return,E)}}function vn(t,i,s){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&t)===t){var x=u.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=i;var A=s,U=E;try{U()}catch(V){Pe(f,A,V)}}}u=u.next}while(u!==p)}}catch(V){Pe(i,i.return,V)}}function sd(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Yc(i,s)}catch(u){Pe(t,t.return,u)}}}function ad(t,i,s){s.props=On(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Pe(t,i,u)}}function Uo(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(f){Pe(t,i,f)}}function Bt(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){Pe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Pe(t,i,f)}else s.current=null}function rd(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){Pe(t,t.return,f)}}function Wa(t,i,s){try{var u=t.stateNode;Ly(u,t.type,s,i),u[ut]=i}catch(f){Pe(t,t.return,f)}}function ud(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mn(t.type)||t.tag===4}function ja(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function er(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ns));else if(u!==4&&(u===27&&Mn(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(er(t,i,s),t=t.sibling;t!==null;)er(t,i,s),t=t.sibling}function Yl(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&Mn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yl(t,i,s),t=t.sibling;t!==null;)Yl(t,i,s),t=t.sibling}function cd(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);nt(i,u,s),i[it]=t,i[ut]=s}catch(p){Pe(t,t.return,p)}}var tn=!1,Fe=!1,tr=!1,fd=typeof WeakSet=="function"?WeakSet:Set,We=null;function hy(t,i){if(t=t.containerInfo,_r=us,t=xc(t),js(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var x=0,E=-1,A=-1,U=0,V=0,F=t,P=null;t:for(;;){for(var k;F!==s||f!==0&&F.nodeType!==3||(E=x+f),F!==p||u!==0&&F.nodeType!==3||(A=x+u),F.nodeType===3&&(x+=F.nodeValue.length),(k=F.firstChild)!==null;)P=F,F=k;for(;;){if(F===t)break t;if(P===s&&++U===f&&(E=x),P===p&&++V===u&&(A=x),(k=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=k}s=E===-1||A===-1?null:{start:E,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mr={focusedElem:t,selectionRange:s},us=!1,We=i;We!==null;)if(i=We,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,We=t;else for(;We!==null;){switch(i=We,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var me=On(s.type,f,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(me,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(re){Pe(s,s.return,re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)br(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":br(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,We=t;break}We=i.return}}function dd(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Tn(t,s),u&4&&Io(5,s);break;case 1:if(Tn(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(x){Pe(s,s.return,x)}else{var f=On(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Pe(s,s.return,x)}}u&64&&sd(s),u&512&&Uo(s,s.return);break;case 3:if(Tn(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Yc(t,i)}catch(x){Pe(s,s.return,x)}}break;case 27:i===null&&u&4&&cd(s);case 26:case 5:Tn(t,s),i===null&&u&4&&rd(s),u&512&&Uo(s,s.return);break;case 12:Tn(t,s);break;case 13:Tn(t,s),u&4&&hd(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Ay.bind(null,s),zy(t,s))));break;case 22:if(u=s.memoizedState!==null||tn,!u){i=i!==null&&i.memoizedState!==null||Fe,f=tn;var p=Fe;tn=u,(Fe=i)&&!p?xn(t,s,(s.subtreeFlags&8772)!==0):Tn(t,s),tn=f,Fe=p}break;case 30:break;default:Tn(t,s)}}function md(t){var i=t.alternate;i!==null&&(t.alternate=null,md(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ps(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qe=null,dt=!1;function nn(t,i,s){for(s=s.child;s!==null;)pd(t,i,s),s=s.sibling}function pd(t,i,s){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(ji,s)}catch{}switch(s.tag){case 26:Fe||Bt(s,i),nn(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Fe||Bt(s,i);var u=qe,f=dt;Mn(s.type)&&(qe=s.stateNode,dt=!1),nn(t,i,s),zo(s.stateNode),qe=u,dt=f;break;case 5:Fe||Bt(s,i);case 6:if(u=qe,f=dt,qe=null,nn(t,i,s),qe=u,dt=f,qe!==null)if(dt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(s.stateNode)}catch(p){Pe(s,i,p)}else try{qe.removeChild(s.stateNode)}catch(p){Pe(s,i,p)}break;case 18:qe!==null&&(dt?(t=qe,nm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),$o(t)):nm(qe,s.stateNode));break;case 4:u=qe,f=dt,qe=s.stateNode.containerInfo,dt=!0,nn(t,i,s),qe=u,dt=f;break;case 0:case 11:case 14:case 15:Fe||vn(2,s,i),Fe||vn(4,s,i),nn(t,i,s);break;case 1:Fe||(Bt(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&ad(s,i,u)),nn(t,i,s);break;case 21:nn(t,i,s);break;case 22:Fe=(u=Fe)||s.memoizedState!==null,nn(t,i,s),Fe=u;break;default:nn(t,i,s)}}function hd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$o(t)}catch(s){Pe(i,i.return,s)}}function gy(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fd),i;default:throw Error(l(435,t.tag))}}function nr(t,i){var s=gy(t);i.forEach(function(u){var f=_y.bind(null,t,u);s.has(u)||(s.add(u),u.then(f,f))})}function vt(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],p=t,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Mn(E.type)){qe=E.stateNode,dt=!1;break e}break;case 5:qe=E.stateNode,dt=!1;break e;case 3:case 4:qe=E.stateNode.containerInfo,dt=!0;break e}E=E.return}if(qe===null)throw Error(l(160));pd(p,x,f),qe=null,dt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gd(i,t),i=i.sibling}var Lt=null;function gd(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vt(i,t),Tt(t),u&4&&(vn(3,t,t.return),Io(3,t),vn(5,t,t.return));break;case 1:vt(i,t),Tt(t),u&512&&(Fe||s===null||Bt(s,s.return)),u&64&&tn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=Lt;if(vt(i,t),Tt(t),u&512&&(Fe||s===null||Bt(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[no]||p[it]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),nt(p,u,s),p[it]=t,$e(p),u=p;break e;case"link":var x=cm("link","href",f).get(u+(s.href||""));if(x){for(var E=0;E<x.length;E++)if(p=x[E],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(E,1);break t}}p=f.createElement(u),nt(p,u,s),f.head.appendChild(p);break;case"meta":if(x=cm("meta","content",f).get(u+(s.content||""))){for(E=0;E<x.length;E++)if(p=x[E],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(E,1);break t}}p=f.createElement(u),nt(p,u,s),f.head.appendChild(p);break;default:throw Error(l(468,u))}p[it]=t,$e(p),u=p}t.stateNode=u}else fm(f,t.type,t.stateNode);else t.stateNode=um(f,u,t.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?fm(f,t.type,t.stateNode):um(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Wa(t,t.memoizedProps,s.memoizedProps)}break;case 27:vt(i,t),Tt(t),u&512&&(Fe||s===null||Bt(s,s.return)),s!==null&&u&4&&Wa(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vt(i,t),Tt(t),u&512&&(Fe||s===null||Bt(s,s.return)),t.flags&32){f=t.stateNode;try{si(f,"")}catch(k){Pe(t,t.return,k)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,Wa(t,f,s!==null?s.memoizedProps:f)),u&1024&&(tr=!0);break;case 6:if(vt(i,t),Tt(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(k){Pe(t,t.return,k)}}break;case 3:if(ss=null,f=Lt,Lt=os(i.containerInfo),vt(i,t),Lt=f,Tt(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(k){Pe(t,t.return,k)}tr&&(tr=!1,yd(t));break;case 4:u=Lt,Lt=os(t.stateNode.containerInfo),vt(i,t),Tt(t),Lt=u;break;case 12:vt(i,t),Tt(t);break;case 13:vt(i,t),Tt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rr=rt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,nr(t,u)));break;case 22:f=t.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,U=tn,V=Fe;if(tn=U||f,Fe=V||A,vt(i,t),Fe=V,tn=U,Tt(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||A||tn||Fe||Kn(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){A=s=i;try{if(p=A.stateNode,f)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=A.stateNode;var F=A.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(k){Pe(A,A.return,k)}}}else if(i.tag===6){if(s===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(k){Pe(A,A.return,k)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,nr(t,s))));break;case 19:vt(i,t),Tt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,nr(t,u)));break;case 30:break;case 21:break;default:vt(i,t),Tt(t)}}function Tt(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(ud(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var f=s.stateNode,p=ja(t);Yl(t,p,f);break;case 5:var x=s.stateNode;s.flags&32&&(si(x,""),s.flags&=-33);var E=ja(t);Yl(t,E,x);break;case 3:case 4:var A=s.stateNode.containerInfo,U=ja(t);er(t,U,A);break;default:throw Error(l(161))}}catch(V){Pe(t,t.return,V)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function yd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;yd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dd(t,i.alternate,i),i=i.sibling}function Kn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vn(4,i,i.return),Kn(i);break;case 1:Bt(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&ad(i,i.return,s),Kn(i);break;case 27:zo(i.stateNode);case 26:case 5:Bt(i,i.return),Kn(i);break;case 22:i.memoizedState===null&&Kn(i);break;case 30:Kn(i);break;default:Kn(i)}t=t.sibling}}function xn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,p=i,x=p.flags;switch(p.tag){case 0:case 11:case 15:xn(f,p,s),Io(4,p);break;case 1:if(xn(f,p,s),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Pe(u,u.return,U)}if(u=p,f=u.updateQueue,f!==null){var E=u.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Jc(A[f],E)}catch(U){Pe(u,u.return,U)}}s&&x&64&&sd(p),Uo(p,p.return);break;case 27:cd(p);case 26:case 5:xn(f,p,s),s&&u===null&&x&4&&rd(p),Uo(p,p.return);break;case 12:xn(f,p,s);break;case 13:xn(f,p,s),s&&x&4&&hd(f,p);break;case 22:p.memoizedState===null&&xn(f,p,s),Uo(p,p.return);break;case 30:break;default:xn(f,p,s)}i=i.sibling}}function ir(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&vo(s))}function or(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vo(t))}function zt(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vd(t,i,s,u),i=i.sibling}function vd(t,i,s,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:zt(t,i,s,u),f&2048&&Io(9,i);break;case 1:zt(t,i,s,u);break;case 3:zt(t,i,s,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vo(t)));break;case 12:if(f&2048){zt(t,i,s,u),t=i.stateNode;try{var p=i.memoizedProps,x=p.id,E=p.onPostCommit;typeof E=="function"&&E(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Pe(i,i.return,A)}}else zt(t,i,s,u);break;case 13:zt(t,i,s,u);break;case 23:break;case 22:p=i.stateNode,x=i.alternate,i.memoizedState!==null?p._visibility&2?zt(t,i,s,u):Po(t,i):p._visibility&2?zt(t,i,s,u):(p._visibility|=2,_i(t,i,s,u,(i.subtreeFlags&10256)!==0)),f&2048&&ir(x,i);break;case 24:zt(t,i,s,u),f&2048&&or(i.alternate,i);break;default:zt(t,i,s,u)}}function _i(t,i,s,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,x=i,E=s,A=u,U=x.flags;switch(x.tag){case 0:case 11:case 15:_i(p,x,E,A,f),Io(8,x);break;case 23:break;case 22:var V=x.stateNode;x.memoizedState!==null?V._visibility&2?_i(p,x,E,A,f):Po(p,x):(V._visibility|=2,_i(p,x,E,A,f)),f&&U&2048&&ir(x.alternate,x);break;case 24:_i(p,x,E,A,f),f&&U&2048&&or(x.alternate,x);break;default:_i(p,x,E,A,f)}i=i.sibling}}function Po(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,f=u.flags;switch(u.tag){case 22:Po(s,u),f&2048&&ir(u.alternate,u);break;case 24:Po(s,u),f&2048&&or(u.alternate,u);break;default:Po(s,u)}i=i.sibling}}var Lo=8192;function Mi(t){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)Td(t),t=t.sibling}function Td(t){switch(t.tag){case 26:Mi(t),t.flags&Lo&&t.memoizedState!==null&&tv(Lt,t.memoizedState,t.memoizedProps);break;case 5:Mi(t);break;case 3:case 4:var i=Lt;Lt=os(t.stateNode.containerInfo),Mi(t),Lt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Lo,Lo=16777216,Mi(t),Lo=i):Mi(t));break;default:Mi(t)}}function xd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ko(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];We=u,Sd(u,t)}xd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cd(t),t=t.sibling}function Cd(t){switch(t.tag){case 0:case 11:case 15:ko(t),t.flags&2048&&vn(9,t,t.return);break;case 3:ko(t);break;case 12:ko(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ol(t)):ko(t);break;default:ko(t)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];We=u,Sd(u,t)}xd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vn(8,i,i.return),Ol(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ol(i));break;default:Ol(i)}t=t.sibling}}function Sd(t,i){for(;We!==null;){var s=We;switch(s.tag){case 0:case 11:case 15:vn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vo(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,We=u;else e:for(s=t;We!==null;){u=We;var f=u.sibling,p=u.return;if(md(u),u===s){We=null;break e}if(f!==null){f.return=p,We=f;break e}We=p}}}var yy={getCacheForType:function(t){var i=ot(Xe),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},vy=typeof WeakMap=="function"?WeakMap:Map,Re=0,ke=null,Ce=null,Ee=0,be=0,xt=null,Cn=!1,Ni=!1,lr=!1,on=0,Be=0,Sn=0,Xn=0,sr=0,Dt=0,Ri=0,Vo=null,mt=null,ar=!1,rr=0,Kl=1/0,Xl=null,En=null,tt=0,An=null,bi=null,wi=0,ur=0,cr=null,Ed=null,qo=0,fr=null;function Ct(){if((Re&2)!==0&&Ee!==0)return Ee&-Ee;if(b.T!==null){var t=yi;return t!==0?t:vr()}return Vu()}function Ad(){Dt===0&&(Dt=(Ee&536870912)===0||Ne?Uu():536870912);var t=wt.current;return t!==null&&(t.flags|=32),Dt}function St(t,i,s){(t===ke&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(Di(t,0),_n(t,Ee,Dt,!1)),to(t,s),((Re&2)===0||t!==ke)&&(t===ke&&((Re&2)===0&&(Xn|=s),Be===4&&_n(t,Ee,Dt,!1)),Ft(t))}function _d(t,i,s){if((Re&6)!==0)throw Error(l(327));var u=!s&&(i&124)===0&&(i&t.expiredLanes)===0||eo(t,i),f=u?Cy(t,i):pr(t,i,!0),p=u;do{if(f===0){Ni&&!u&&_n(t,i,0,!1);break}else{if(s=t.current.alternate,p&&!Ty(s)){f=pr(t,i,!1),p=!1;continue}if(f===2){if(p=i,t.errorRecoveryDisabledLanes&p)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var E=t;f=Vo;var A=E.current.memoizedState.isDehydrated;if(A&&(Di(E,x).flags|=256),x=pr(E,x,!1),x!==2){if(lr&&!A){E.errorRecoveryDisabledLanes|=p,Xn|=p,f=4;break e}p=mt,mt=f,p!==null&&(mt===null?mt=p:mt.push.apply(mt,p))}f=x}if(p=!1,f!==2)continue}}if(f===1){Di(t,0),_n(t,i,0,!0);break}e:{switch(u=t,p=f,p){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:_n(u,i,Dt,!Cn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(f=rr+300-rt(),10<f)){if(_n(u,i,Dt,!Cn),ll(u,0,!0)!==0)break e;u.timeoutHandle=em(Md.bind(null,u,s,mt,Xl,ar,i,Dt,Xn,Ri,Cn,p,2,-0,0),f);break e}Md(u,s,mt,Xl,ar,i,Dt,Xn,Ri,Cn,p,0,-0,0)}}break}while(!0);Ft(t)}function Md(t,i,s,u,f,p,x,E,A,U,V,F,P,k){if(t.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:ev},Td(i),F=nv(),F!==null)){t.cancelPendingCommit=F(Ud.bind(null,t,i,p,s,u,f,x,E,A,V,1,P,k)),_n(t,p,x,!U);return}Ud(t,i,p,s,u,f,x,E,A)}function Ty(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],p=f.getSnapshot;f=f.value;try{if(!gt(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _n(t,i,s,u){i&=~sr,i&=~Xn,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var p=31-ht(f),x=1<<p;u[p]=-1,f&=~x}s!==0&&Lu(t,s,i)}function Ql(){return(Re&6)===0?(Go(0),!1):!0}function dr(){if(Ce!==null){if(be===0)var t=Ce.return;else t=Ce,Qt=zn=null,ba(t),Ei=null,bo=0,t=Ce;for(;t!==null;)ld(t.alternate,t),t=t.return;Ce=null}}function Di(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Vy(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),dr(),ke=t,Ce=s=Ot(t.current,null),Ee=i,be=0,xt=null,Cn=!1,Ni=eo(t,i),lr=!1,Ri=Dt=sr=Xn=Sn=Be=0,mt=Vo=null,ar=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-ht(u),p=1<<f;i|=t[f],u&=~p}return on=i,yl(),s}function Nd(t,i){Te=null,b.H=kl,i===xo||i===Ml?(i=zc(),be=3):i===Gc?(i=zc(),be=4):be=i===Yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xt=i,Ce===null&&(Be=1,Bl(t,Mt(i,t.current)))}function Rd(){var t=b.H;return b.H=kl,t===null?kl:t}function bd(){var t=b.A;return b.A=yy,t}function mr(){Be=4,Cn||(Ee&4194048)!==Ee&&wt.current!==null||(Ni=!0),(Sn&134217727)===0&&(Xn&134217727)===0||ke===null||_n(ke,Ee,Dt,!1)}function pr(t,i,s){var u=Re;Re|=2;var f=Rd(),p=bd();(ke!==t||Ee!==i)&&(Xl=null,Di(t,i)),i=!1;var x=Be;e:do try{if(be!==0&&Ce!==null){var E=Ce,A=xt;switch(be){case 8:dr(),x=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(i=!0);var U=be;if(be=0,xt=null,Ii(t,E,A,U),s&&Ni){x=0;break e}break;default:U=be,be=0,xt=null,Ii(t,E,A,U)}}xy(),x=Be;break}catch(V){Nd(t,V)}while(!0);return i&&t.shellSuspendCounter++,Qt=zn=null,Re=u,b.H=f,b.A=p,Ce===null&&(ke=null,Ee=0,yl()),x}function xy(){for(;Ce!==null;)wd(Ce)}function Cy(t,i){var s=Re;Re|=2;var u=Rd(),f=bd();ke!==t||Ee!==i?(Xl=null,Kl=rt()+500,Di(t,i)):Ni=eo(t,i);e:do try{if(be!==0&&Ce!==null){i=Ce;var p=xt;t:switch(be){case 1:be=0,xt=null,Ii(t,i,p,1);break;case 2:case 9:if(Hc(p)){be=0,xt=null,Dd(i);break}i=function(){be!==2&&be!==9||ke!==t||(be=7),Ft(t)},p.then(i,i);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Hc(p)?(be=0,xt=null,Dd(i)):(be=0,xt=null,Ii(t,i,p,7));break;case 5:var x=null;switch(Ce.tag){case 26:x=Ce.memoizedState;case 5:case 27:var E=Ce;if(!x||dm(x)){be=0,xt=null;var A=E.sibling;if(A!==null)Ce=A;else{var U=E.return;U!==null?(Ce=U,$l(U)):Ce=null}break t}}be=0,xt=null,Ii(t,i,p,5);break;case 6:be=0,xt=null,Ii(t,i,p,6);break;case 8:dr(),Be=6;break e;default:throw Error(l(462))}}Sy();break}catch(V){Nd(t,V)}while(!0);return Qt=zn=null,b.H=u,b.A=f,Re=s,Ce!==null?0:(ke=null,Ee=0,yl(),Be)}function Sy(){for(;Ce!==null&&!Rs();)wd(Ce)}function wd(t){var i=id(t.alternate,t,on);t.memoizedProps=t.pendingProps,i===null?$l(t):Ce=i}function Dd(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Zf(s,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=Zf(s,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:ba(i);default:ld(s,i),i=Ce=wc(i,on),i=id(s,i,on)}t.memoizedProps=t.pendingProps,i===null?$l(t):Ce=i}function Ii(t,i,s,u){Qt=zn=null,ba(i),Ei=null,bo=0;var f=i.return;try{if(fy(t,f,i,s,Ee)){Be=1,Bl(t,Mt(s,t.current)),Ce=null;return}}catch(p){if(f!==null)throw Ce=f,p;Be=1,Bl(t,Mt(s,t.current)),Ce=null;return}i.flags&32768?(Ne||u===1?t=!0:Ni||(Ee&536870912)!==0?t=!1:(Cn=t=!0,(u===2||u===9||u===3||u===6)&&(u=wt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Id(i,t)):$l(i)}function $l(t){var i=t;do{if((i.flags&32768)!==0){Id(i,Cn);return}t=i.return;var s=my(i.alternate,i,on);if(s!==null){Ce=s;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);Be===0&&(Be=5)}function Id(t,i){do{var s=py(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);Be=6,Ce=null}function Ud(t,i,s,u,f,p,x,E,A){t.cancelPendingCommit=null;do Zl();while(tt!==0);if((Re&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(p=i.lanes|i.childLanes,p|=oa,eg(t,s,p,x,E,A),t===ke&&(Ce=ke=null,Ee=0),bi=i,An=t,wi=s,ur=p,cr=f,Ed=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,My(nl,function(){return qd(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=b.T,b.T=null,f=z.p,z.p=2,x=Re,Re|=4;try{hy(t,i,s)}finally{Re=x,z.p=f,b.T=u}}tt=1,Pd(),Ld(),kd()}}function Pd(){if(tt===1){tt=0;var t=An,i=bi,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=b.T,b.T=null;var u=z.p;z.p=2;var f=Re;Re|=4;try{gd(i,t);var p=Mr,x=xc(t.containerInfo),E=p.focusedElem,A=p.selectionRange;if(x!==E&&E&&E.ownerDocument&&Tc(E.ownerDocument.documentElement,E)){if(A!==null&&js(E)){var U=A.start,V=A.end;if(V===void 0&&(V=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(V,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var k=P.getSelection(),me=E.textContent.length,re=Math.min(A.start,me),Ue=A.end===void 0?re:Math.min(A.end,me);!k.extend&&re>Ue&&(x=Ue,Ue=re,re=x);var w=vc(E,re),N=vc(E,Ue);if(w&&N&&(k.rangeCount!==1||k.anchorNode!==w.node||k.anchorOffset!==w.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var I=F.createRange();I.setStart(w.node,w.offset),k.removeAllRanges(),re>Ue?(k.addRange(I),k.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),k.addRange(I))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var B=F[E];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}us=!!_r,Mr=_r=null}finally{Re=f,z.p=u,b.T=s}}t.current=i,tt=2}}function Ld(){if(tt===2){tt=0;var t=An,i=bi,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=b.T,b.T=null;var u=z.p;z.p=2;var f=Re;Re|=4;try{dd(t,i.alternate,i)}finally{Re=f,z.p=u,b.T=s}}tt=3}}function kd(){if(tt===4||tt===3){tt=0,Ae();var t=An,i=bi,s=wi,u=Ed;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tt=5:(tt=0,bi=An=null,Vd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(En=null),Is(s),i=i.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(ji,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=b.T,f=z.p,z.p=2,b.T=null;try{for(var p=t.onRecoverableError,x=0;x<u.length;x++){var E=u[x];p(E.value,{componentStack:E.stack})}}finally{b.T=i,z.p=f}}(wi&3)!==0&&Zl(),Ft(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===fr?qo++:(qo=0,fr=t):qo=0,Go(0)}}function Vd(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vo(i)))}function Zl(t){return Pd(),Ld(),kd(),qd()}function qd(){if(tt!==5)return!1;var t=An,i=ur;ur=0;var s=Is(wi),u=b.T,f=z.p;try{z.p=32>s?32:s,b.T=null,s=cr,cr=null;var p=An,x=wi;if(tt=0,bi=An=null,wi=0,(Re&6)!==0)throw Error(l(331));var E=Re;if(Re|=4,Cd(p.current),vd(p,p.current,x,s),Re=E,Go(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(ji,p)}catch{}return!0}finally{z.p=f,b.T=u,Vd(t,i)}}function Gd(t,i,s){i=Mt(s,i),i=Fa(t.stateNode,i,2),t=pn(t,i,2),t!==null&&(to(t,2),Ft(t))}function Pe(t,i,s){if(t.tag===3)Gd(t,t,s);else for(;i!==null;){if(i.tag===3){Gd(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(En===null||!En.has(u))){t=Mt(s,t),s=Ff(2),u=pn(i,s,2),u!==null&&(Jf(s,u,i,t),to(u,2),Ft(u));break}}i=i.return}}function hr(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new vy;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(s)||(lr=!0,f.add(s),t=Ey.bind(null,t,i,s),i.then(t,t))}function Ey(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ke===t&&(Ee&s)===s&&(Be===4||Be===3&&(Ee&62914560)===Ee&&300>rt()-rr?(Re&2)===0&&Di(t,0):sr|=s,Ri===Ee&&(Ri=0)),Ft(t)}function Hd(t,i){i===0&&(i=Pu()),t=mi(t,i),t!==null&&(to(t,i),Ft(t))}function Ay(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Hd(t,s)}function _y(t,i){var s=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),Hd(t,s)}function My(t,i){return Zi(t,i)}var Wl=null,Ui=null,gr=!1,jl=!1,yr=!1,Qn=0;function Ft(t){t!==Ui&&t.next===null&&(Ui===null?Wl=Ui=t:Ui=Ui.next=t),jl=!0,gr||(gr=!0,Ry())}function Go(t,i){if(!yr&&jl){yr=!0;do for(var s=!1,u=Wl;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var x=u.suspendedLanes,E=u.pingedLanes;p=(1<<31-ht(42|t)+1)-1,p&=f&~(x&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Jd(u,p))}else p=Ee,p=ll(u,u===ke?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||eo(u,p)||(s=!0,Jd(u,p));u=u.next}while(s);yr=!1}}function Ny(){Bd()}function Bd(){jl=gr=!1;var t=0;Qn!==0&&(ky()&&(t=Qn),Qn=0);for(var i=rt(),s=null,u=Wl;u!==null;){var f=u.next,p=zd(u,i);p===0?(u.next=null,s===null?Wl=f:s.next=f,f===null&&(Ui=s)):(s=u,(t!==0||(p&3)!==0)&&(jl=!0)),u=f}Go(t)}function zd(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var x=31-ht(p),E=1<<x,A=f[x];A===-1?((E&s)===0||(E&u)!==0)&&(f[x]=jh(E,i)):A<=i&&(t.expiredLanes|=E),p&=~E}if(i=ke,s=Ee,s=ll(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(be===2||be===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Wi(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||eo(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&Wi(u),Is(s)){case 2:case 8:s=Du;break;case 32:s=nl;break;case 268435456:s=Iu;break;default:s=nl}return u=Fd.bind(null,t),s=Zi(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&Wi(u),t.callbackPriority=2,t.callbackNode=null,2}function Fd(t,i){if(tt!==0&&tt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Zl()&&t.callbackNode!==s)return null;var u=Ee;return u=ll(t,t===ke?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(_d(t,u,i),zd(t,rt()),t.callbackNode!=null&&t.callbackNode===s?Fd.bind(null,t):null)}function Jd(t,i){if(Zl())return null;_d(t,i,!0)}function Ry(){qy(function(){(Re&6)!==0?Zi(wu,Ny):Bd()})}function vr(){return Qn===0&&(Qn=Uu()),Qn}function Yd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cl(""+t)}function Od(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function by(t,i,s,u,f){if(i==="submit"&&s&&s.stateNode===f){var p=Yd((f[ut]||null).action),x=u.submitter;x&&(i=(i=x[ut]||null)?Yd(i.formAction):x.getAttribute("formAction"),i!==null&&(p=i,x=null));var E=new pl("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Qn!==0){var A=x?Od(f,x):new FormData(f);qa(s,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(E.preventDefault(),A=x?Od(f,x):new FormData(f),qa(s,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var Tr=0;Tr<ia.length;Tr++){var xr=ia[Tr],wy=xr.toLowerCase(),Dy=xr[0].toUpperCase()+xr.slice(1);Pt(wy,"on"+Dy)}Pt(Ec,"onAnimationEnd"),Pt(Ac,"onAnimationIteration"),Pt(_c,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Xg,"onTransitionRun"),Pt(Qg,"onTransitionStart"),Pt($g,"onTransitionCancel"),Pt(Mc,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function Kd(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var x=u.length-1;0<=x;x--){var E=u[x],A=E.instance,U=E.currentTarget;if(E=E.listener,A!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=U;try{p(f)}catch(V){Hl(V)}f.currentTarget=null,p=A}else for(x=0;x<u.length;x++){if(E=u[x],A=E.instance,U=E.currentTarget,E=E.listener,A!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=U;try{p(f)}catch(V){Hl(V)}f.currentTarget=null,p=A}}}}function Se(t,i){var s=i[Us];s===void 0&&(s=i[Us]=new Set);var u=t+"__bubble";s.has(u)||(Xd(i,t,2,!1),s.add(u))}function Cr(t,i,s){var u=0;i&&(u|=4),Xd(s,t,u,i)}var es="_reactListening"+Math.random().toString(36).slice(2);function Sr(t){if(!t[es]){t[es]=!0,Gu.forEach(function(s){s!=="selectionchange"&&(Iy.has(s)||Cr(s,!1,t),Cr(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[es]||(i[es]=!0,Cr("selectionchange",!1,i))}}function Xd(t,i,s,u){switch(vm(i)){case 2:var f=lv;break;case 8:f=sv;break;default:f=kr}s=f.bind(null,i,s,t),f=void 0,!Js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function Er(t,i,s,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var E=u.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=u.return;x!==null;){var A=x.tag;if((A===3||A===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=ei(E),x===null)return;if(A=x.tag,A===5||A===6||A===26||A===27){u=p=x;continue e}E=E.parentNode}}u=u.return}ju(function(){var U=p,V=zs(s),F=[];e:{var P=Nc.get(t);if(P!==void 0){var k=pl,me=t;switch(t){case"keypress":if(dl(s)===0)break e;case"keydown":case"keyup":k=Mg;break;case"focusin":me="focus",k=Xs;break;case"focusout":me="blur",k=Xs;break;case"beforeblur":case"afterblur":k=Xs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=bg;break;case Ec:case Ac:case _c:k=yg;break;case Mc:k=Dg;break;case"scroll":case"scrollend":k=dg;break;case"wheel":k=Ug;break;case"copy":case"cut":case"paste":k=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=oc;break;case"toggle":case"beforetoggle":k=Lg}var re=(i&4)!==0,Ue=!re&&(t==="scroll"||t==="scrollend"),w=re?P!==null?P+"Capture":null:P;re=[];for(var N=U,I;N!==null;){var B=N;if(I=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||I===null||w===null||(B=oo(N,w),B!=null&&re.push(Bo(N,B,I))),Ue)break;N=N.return}0<re.length&&(P=new k(P,me,null,s,V),F.push({event:P,listeners:re}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&s!==Bs&&(me=s.relatedTarget||s.fromElement)&&(ei(me)||me[jn]))break e;if((k||P)&&(P=V.window===V?V:(P=V.ownerDocument)?P.defaultView||P.parentWindow:window,k?(me=s.relatedTarget||s.toElement,k=U,me=me?ei(me):null,me!==null&&(Ue=d(me),re=me.tag,me!==Ue||re!==5&&re!==27&&re!==6)&&(me=null)):(k=null,me=U),k!==me)){if(re=nc,B="onMouseLeave",w="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(re=oc,B="onPointerLeave",w="onPointerEnter",N="pointer"),Ue=k==null?P:io(k),I=me==null?P:io(me),P=new re(B,N+"leave",k,s,V),P.target=Ue,P.relatedTarget=I,B=null,ei(V)===U&&(re=new re(w,N+"enter",me,s,V),re.target=I,re.relatedTarget=Ue,B=re),Ue=B,k&&me)t:{for(re=k,w=me,N=0,I=re;I;I=Pi(I))N++;for(I=0,B=w;B;B=Pi(B))I++;for(;0<N-I;)re=Pi(re),N--;for(;0<I-N;)w=Pi(w),I--;for(;N--;){if(re===w||w!==null&&re===w.alternate)break t;re=Pi(re),w=Pi(w)}re=null}else re=null;k!==null&&Qd(F,P,k,re,!1),me!==null&&Ue!==null&&Qd(F,Ue,me,re,!0)}}e:{if(P=U?io(U):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var oe=dc;else if(cc(P))if(mc)oe=Yg;else{oe=Fg;var xe=zg}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&Hs(U.elementType)&&(oe=dc):oe=Jg;if(oe&&(oe=oe(t,U))){fc(F,oe,s,V);break e}xe&&xe(t,P,U),t==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&Gs(P,"number",P.value)}switch(xe=U?io(U):window,t){case"focusin":(cc(xe)||xe.contentEditable==="true")&&(ci=xe,ea=U,mo=null);break;case"focusout":mo=ea=ci=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,Cc(F,s,V);break;case"selectionchange":if(Kg)break;case"keydown":case"keyup":Cc(F,s,V)}var se;if($s)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ui?rc(t,s)&&(fe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(lc&&s.locale!=="ko"&&(ui||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ui&&(se=ec()):(cn=V,Ys="value"in cn?cn.value:cn.textContent,ui=!0)),xe=ts(U,fe),0<xe.length&&(fe=new ic(fe,t,null,s,V),F.push({event:fe,listeners:xe}),se?fe.data=se:(se=uc(s),se!==null&&(fe.data=se)))),(se=Vg?qg(t,s):Gg(t,s))&&(fe=ts(U,"onBeforeInput"),0<fe.length&&(xe=new ic("onBeforeInput","beforeinput",null,s,V),F.push({event:xe,listeners:fe}),xe.data=se)),by(F,t,U,s,V)}Kd(F,i)})}function Bo(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ts(t,i){for(var s=i+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=oo(t,s),f!=null&&u.unshift(Bo(t,f,p)),f=oo(t,i),f!=null&&u.push(Bo(t,f,p))),t.tag===3)return u;t=t.return}return[]}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qd(t,i,s,u,f){for(var p=i._reactName,x=[];s!==null&&s!==u;){var E=s,A=E.alternate,U=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||U===null||(A=U,f?(U=oo(s,p),U!=null&&x.unshift(Bo(s,U,A))):f||(U=oo(s,p),U!=null&&x.push(Bo(s,U,A)))),s=s.return}x.length!==0&&t.push({event:i,listeners:x})}var Uy=/\r\n?/g,Py=/\u0000|\uFFFD/g;function $d(t){return(typeof t=="string"?t:""+t).replace(Uy,`
`).replace(Py,"")}function Zd(t,i){return i=$d(i),$d(t)===i}function ns(){}function Ie(t,i,s,u,f,p){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||si(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&si(t,""+u);break;case"className":al(t,"class",u);break;case"tabIndex":al(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":al(t,s,u);break;case"style":Zu(t,u,p);break;case"data":if(i!=="object"){al(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=cl(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&Ie(t,i,"name",f.name,f,null),Ie(t,i,"formEncType",f.formEncType,f,null),Ie(t,i,"formMethod",f.formMethod,f,null),Ie(t,i,"formTarget",f.formTarget,f,null)):(Ie(t,i,"encType",f.encType,f,null),Ie(t,i,"method",f.method,f,null),Ie(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=cl(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=ns);break;case"onScroll":u!=null&&Se("scroll",t);break;case"onScrollEnd":u!=null&&Se("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=cl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Se("beforetoggle",t),Se("toggle",t),sl(t,"popover",u);break;case"xlinkActuate":Jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":sl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cg.get(s)||s,sl(t,s,u))}}function Ar(t,i,s,u,f,p){switch(s){case"style":Zu(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof u=="string"?si(t,u):(typeof u=="number"||typeof u=="bigint")&&si(t,""+u);break;case"onScroll":u!=null&&Se("scroll",t);break;case"onScrollEnd":u!=null&&Se("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=t[ut]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,f);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):sl(t,s,u)}}}function nt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",t),Se("load",t);var u=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var x=s[p];if(x!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ie(t,i,p,x,s,null)}}f&&Ie(t,i,"srcSet",s.srcSet,s,null),u&&Ie(t,i,"src",s.src,s,null);return;case"input":Se("invalid",t);var E=p=x=f=null,A=null,U=null;for(u in s)if(s.hasOwnProperty(u)){var V=s[u];if(V!=null)switch(u){case"name":f=V;break;case"type":x=V;break;case"checked":A=V;break;case"defaultChecked":U=V;break;case"value":p=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,i));break;default:Ie(t,i,u,V,s,null)}}Ku(t,p,E,A,U,x,f,!1),rl(t);return;case"select":Se("invalid",t),u=x=p=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":x=E;break;case"multiple":u=E;default:Ie(t,i,f,E,s,null)}i=p,s=x,t.multiple=!!u,i!=null?li(t,!!u,i,!1):s!=null&&li(t,!!u,s,!0);return;case"textarea":Se("invalid",t),p=f=u=null;for(x in s)if(s.hasOwnProperty(x)&&(E=s[x],E!=null))switch(x){case"value":u=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Ie(t,i,x,E,s,null)}Qu(t,u,f,p),rl(t);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(u=s[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ie(t,i,A,u,s,null)}return;case"dialog":Se("beforetoggle",t),Se("toggle",t),Se("cancel",t),Se("close",t);break;case"iframe":case"object":Se("load",t);break;case"video":case"audio":for(u=0;u<Ho.length;u++)Se(Ho[u],t);break;case"image":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"embed":case"source":case"link":Se("error",t),Se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(u=s[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ie(t,i,U,u,s,null)}return;default:if(Hs(i)){for(V in s)s.hasOwnProperty(V)&&(u=s[V],u!==void 0&&Ar(t,i,V,u,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(u=s[E],u!=null&&Ie(t,i,E,u,s,null))}function Ly(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,x=null,E=null,A=null,U=null,V=null;for(k in s){var F=s[k];if(s.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":A=F;default:u.hasOwnProperty(k)||Ie(t,i,k,null,u,F)}}for(var P in u){var k=u[P];if(F=s[P],u.hasOwnProperty(P)&&(k!=null||F!=null))switch(P){case"type":p=k;break;case"name":f=k;break;case"checked":U=k;break;case"defaultChecked":V=k;break;case"value":x=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,i));break;default:k!==F&&Ie(t,i,P,k,u,F)}}qs(t,x,E,A,U,V,p,f);return;case"select":k=x=E=P=null;for(p in s)if(A=s[p],s.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":k=A;default:u.hasOwnProperty(p)||Ie(t,i,p,null,u,A)}for(f in u)if(p=u[f],A=s[f],u.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":P=p;break;case"defaultValue":E=p;break;case"multiple":x=p;default:p!==A&&Ie(t,i,f,p,u,A)}i=E,s=x,u=k,P!=null?li(t,!!s,P,!1):!!u!=!!s&&(i!=null?li(t,!!s,i,!0):li(t,!!s,s?[]:"",!1));return;case"textarea":k=P=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ie(t,i,E,null,u,f)}for(x in u)if(f=u[x],p=s[x],u.hasOwnProperty(x)&&(f!=null||p!=null))switch(x){case"value":P=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==p&&Ie(t,i,x,f,u,p)}Xu(t,P,k);return;case"option":for(var me in s)if(P=s[me],s.hasOwnProperty(me)&&P!=null&&!u.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Ie(t,i,me,null,u,P)}for(A in u)if(P=u[A],k=s[A],u.hasOwnProperty(A)&&P!==k&&(P!=null||k!=null))switch(A){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ie(t,i,A,P,u,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in s)P=s[re],s.hasOwnProperty(re)&&P!=null&&!u.hasOwnProperty(re)&&Ie(t,i,re,null,u,P);for(U in u)if(P=u[U],k=s[U],u.hasOwnProperty(U)&&P!==k&&(P!=null||k!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,i));break;default:Ie(t,i,U,P,u,k)}return;default:if(Hs(i)){for(var Ue in s)P=s[Ue],s.hasOwnProperty(Ue)&&P!==void 0&&!u.hasOwnProperty(Ue)&&Ar(t,i,Ue,void 0,u,P);for(V in u)P=u[V],k=s[V],!u.hasOwnProperty(V)||P===k||P===void 0&&k===void 0||Ar(t,i,V,P,u,k);return}}for(var w in s)P=s[w],s.hasOwnProperty(w)&&P!=null&&!u.hasOwnProperty(w)&&Ie(t,i,w,null,u,P);for(F in u)P=u[F],k=s[F],!u.hasOwnProperty(F)||P===k||P==null&&k==null||Ie(t,i,F,P,u,k)}var _r=null,Mr=null;function is(t){return t.nodeType===9?t:t.ownerDocument}function Wd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rr=null;function ky(){var t=window.event;return t&&t.type==="popstate"?t===Rr?!1:(Rr=t,!0):(Rr=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,qy=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(t){return tm.resolve(null).then(t).catch(Gy)}:em;function Gy(t){setTimeout(function(){throw t})}function Mn(t){return t==="head"}function nm(t,i){var s=i,u=0,f=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<u&&8>u){s=u;var x=t.ownerDocument;if(s&1&&zo(x.documentElement),s&2&&zo(x.body),s&4)for(s=x.head,zo(s),x=s.firstChild;x;){var E=x.nextSibling,A=x.nodeName;x[no]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||s.removeChild(x),x=E}}if(f===0){t.removeChild(p),$o(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:u=s.charCodeAt(0)-48;else u=0;s=p}while(s);$o(i)}function br(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":br(s),Ps(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Hy(t,i,s,u){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[no])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=kt(t.nextSibling),t===null)break}return null}function By(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kt(t.nextSibling),t===null))return null;return t}function wr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zy(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function kt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Dr=null;function im(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function om(t,i,s){switch(i=is(s),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function zo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ps(t)}var It=new Map,lm=new Set;function os(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ln=z.d;z.d={f:Fy,r:Jy,D:Yy,C:Oy,L:Ky,m:Xy,X:$y,S:Qy,M:Zy};function Fy(){var t=ln.f(),i=Ql();return t||i}function Jy(t){var i=ti(t);i!==null&&i.tag===5&&i.type==="form"?_f(i):ln.r(t)}var Li=typeof document>"u"?null:document;function sm(t,i,s){var u=Li;if(u&&typeof i=="string"&&i){var f=_t(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),lm.has(f)||(lm.add(f),t={rel:t,crossOrigin:s,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),nt(i,"link",t),$e(i),u.head.appendChild(i)))}}function Yy(t){ln.D(t),sm("dns-prefetch",t,null)}function Oy(t,i){ln.C(t,i),sm("preconnect",t,i)}function Ky(t,i,s){ln.L(t,i,s);var u=Li;if(u&&t&&i){var f='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+_t(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+_t(s.imageSizes)+'"]')):f+='[href="'+_t(t)+'"]';var p=f;switch(i){case"style":p=ki(t);break;case"script":p=Vi(t)}It.has(p)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),It.set(p,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(Fo(p))||i==="script"&&u.querySelector(Jo(p))||(i=u.createElement("link"),nt(i,"link",t),$e(i),u.head.appendChild(i)))}}function Xy(t,i){ln.m(t,i);var s=Li;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+_t(u)+'"][href="'+_t(t)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vi(t)}if(!It.has(p)&&(t=v({rel:"modulepreload",href:t},i),It.set(p,t),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jo(p)))return}u=s.createElement("link"),nt(u,"link",t),$e(u),s.head.appendChild(u)}}}function Qy(t,i,s){ln.S(t,i,s);var u=Li;if(u&&t){var f=ni(u).hoistableStyles,p=ki(t);i=i||"default";var x=f.get(p);if(!x){var E={loading:0,preload:null};if(x=u.querySelector(Fo(p)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=It.get(p))&&Ir(t,s);var A=x=u.createElement("link");$e(A),nt(A,"link",t),A._p=new Promise(function(U,V){A.onload=U,A.onerror=V}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ls(x,i,u)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(p,x)}}}function $y(t,i){ln.X(t,i);var s=Li;if(s&&t){var u=ni(s).hoistableScripts,f=Vi(t),p=u.get(f);p||(p=s.querySelector(Jo(f)),p||(t=v({src:t,async:!0},i),(i=It.get(f))&&Ur(t,i),p=s.createElement("script"),$e(p),nt(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Zy(t,i){ln.M(t,i);var s=Li;if(s&&t){var u=ni(s).hoistableScripts,f=Vi(t),p=u.get(f);p||(p=s.querySelector(Jo(f)),p||(t=v({src:t,async:!0,type:"module"},i),(i=It.get(f))&&Ur(t,i),p=s.createElement("script"),$e(p),nt(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function am(t,i,s,u){var f=(f=ae.current)?os(f):null;if(!f)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ki(s.href),s=ni(f).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ki(s.href);var p=ni(f).hoistableStyles,x=p.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,x),(p=f.querySelector(Fo(t)))&&!p._p&&(x.instance=p,x.state.loading=5),It.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},It.set(t,s),p||Wy(f,t,s,x.state))),i&&u===null)throw Error(l(528,""));return x}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vi(s),s=ni(f).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ki(t){return'href="'+_t(t)+'"'}function Fo(t){return'link[rel="stylesheet"]['+t+"]"}function rm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Wy(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),nt(i,"link",s),$e(i),t.head.appendChild(i))}function Vi(t){return'[src="'+_t(t)+'"]'}function Jo(t){return"script[async]"+t}function um(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+_t(s.href)+'"]');if(u)return i.instance=u,$e(u),u;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),$e(u),nt(u,"style",f),ls(u,s.precedence,t),i.instance=u;case"stylesheet":f=ki(s.href);var p=t.querySelector(Fo(f));if(p)return i.state.loading|=4,i.instance=p,$e(p),p;u=rm(s),(f=It.get(f))&&Ir(u,f),p=(t.ownerDocument||t).createElement("link"),$e(p);var x=p;return x._p=new Promise(function(E,A){x.onload=E,x.onerror=A}),nt(p,"link",u),i.state.loading|=4,ls(p,s.precedence,t),i.instance=p;case"script":return p=Vi(s.src),(f=t.querySelector(Jo(p)))?(i.instance=f,$e(f),f):(u=s,(f=It.get(p))&&(u=v({},s),Ur(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),$e(f),nt(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,ls(u,s.precedence,t));return i.instance}function ls(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,x=0;x<u.length;x++){var E=u[x];if(E.dataset.precedence===i)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Ir(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ur(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ss=null;function cm(t,i,s){if(ss===null){var u=new Map,f=ss=new Map;f.set(s,u)}else f=ss,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var p=s[f];if(!(p[no]||p[it]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(i)||"";x=t+x;var E=u.get(x);E?E.push(p):u.set(x,[p])}}return u}function fm(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function jy(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yo=null;function ev(){}function tv(t,i,s){if(Yo===null)throw Error(l(475));var u=Yo;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ki(s.href),p=t.querySelector(Fo(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=as.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=p,$e(p);return}p=t.ownerDocument||t,s=rm(s),(f=It.get(f))&&Ir(s,f),p=p.createElement("link"),$e(p);var x=p;x._p=new Promise(function(E,A){x.onload=E,x.onerror=A}),nt(p,"link",s),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=as.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function nv(){if(Yo===null)throw Error(l(475));var t=Yo;return t.stylesheets&&t.count===0&&Pr(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Pr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function as(){if(this.count--,this.count===0){if(this.stylesheets)Pr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rs=null;function Pr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rs=new Map,i.forEach(iv,t),rs=null,as.call(t))}function iv(t,i){if(!(i.state.loading&4)){var s=rs.get(t);if(s)var u=s.get(null);else{s=new Map,rs.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var x=f[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),u=x)}u&&s.set(null,u)}f=i.instance,x=f.getAttribute("data-precedence"),p=s.get(x)||u,p===u&&s.set(null,f),s.set(x,f),this.count++,u=as.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Oo={$$typeof:O,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function ov(t,i,s,u,f,p,x,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function mm(t,i,s,u,f,p,x,E,A,U,V,F){return t=new ov(t,i,s,x,E,A,U,F),i=1,p===!0&&(i|=24),p=yt(3,null,null,i),t.current=p,p.stateNode=t,i=ha(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:i},Ta(p),t}function pm(t){return t?(t=pi,t):pi}function hm(t,i,s,u,f,p){f=pm(f),u.context===null?u.context=f:u.pendingContext=f,u=mn(i),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=pn(t,u,i),s!==null&&(St(s,t,i),So(s,t,i))}function gm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Lr(t,i){gm(t,i),(t=t.alternate)&&gm(t,i)}function ym(t){if(t.tag===13){var i=mi(t,67108864);i!==null&&St(i,t,67108864),Lr(t,67108864)}}var us=!0;function lv(t,i,s,u){var f=b.T;b.T=null;var p=z.p;try{z.p=2,kr(t,i,s,u)}finally{z.p=p,b.T=f}}function sv(t,i,s,u){var f=b.T;b.T=null;var p=z.p;try{z.p=8,kr(t,i,s,u)}finally{z.p=p,b.T=f}}function kr(t,i,s,u){if(us){var f=Vr(u);if(f===null)Er(t,i,u,cs,s),Tm(t,u);else if(rv(f,t,i,s,u))u.stopPropagation();else if(Tm(t,u),i&4&&-1<av.indexOf(t)){for(;f!==null;){var p=ti(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=In(p.pendingLanes);if(x!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var A=1<<31-ht(x);E.entanglements[1]|=A,x&=~A}Ft(p),(Re&6)===0&&(Kl=rt()+500,Go(0))}}break;case 13:E=mi(p,2),E!==null&&St(E,p,2),Ql(),Lr(p,2)}if(p=Vr(u),p===null&&Er(t,i,u,cs,s),p===f)break;f=p}f!==null&&u.stopPropagation()}else Er(t,i,u,null,s)}}function Vr(t){return t=zs(t),qr(t)}var cs=null;function qr(t){if(cs=null,t=ei(t),t!==null){var i=d(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return cs=t,null}function vm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case wu:return 2;case Du:return 8;case nl:case Kh:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var Gr=!1,Nn=null,Rn=null,bn=null,Ko=new Map,Xo=new Map,wn=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(t,i){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Ko.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(i.pointerId)}}function Qo(t,i,s,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=ti(i),i!==null&&ym(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function rv(t,i,s,u,f){switch(i){case"focusin":return Nn=Qo(Nn,t,i,s,u,f),!0;case"dragenter":return Rn=Qo(Rn,t,i,s,u,f),!0;case"mouseover":return bn=Qo(bn,t,i,s,u,f),!0;case"pointerover":var p=f.pointerId;return Ko.set(p,Qo(Ko.get(p)||null,t,i,s,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Xo.set(p,Qo(Xo.get(p)||null,t,i,s,u,f)),!0}return!1}function xm(t){var i=ei(t.target);if(i!==null){var s=d(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){t.blockedOn=i,tg(t.priority,function(){if(s.tag===13){var u=Ct();u=Ds(u);var f=mi(s,u);f!==null&&St(f,s,u),Lr(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fs(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Vr(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Bs=u,s.target.dispatchEvent(u),Bs=null}else return i=ti(s),i!==null&&ym(i),t.blockedOn=s,!1;i.shift()}return!0}function Cm(t,i,s){fs(t)&&s.delete(i)}function uv(){Gr=!1,Nn!==null&&fs(Nn)&&(Nn=null),Rn!==null&&fs(Rn)&&(Rn=null),bn!==null&&fs(bn)&&(bn=null),Ko.forEach(Cm),Xo.forEach(Cm)}function ds(t,i){t.blockedOn===i&&(t.blockedOn=null,Gr||(Gr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uv)))}var ms=null;function Sm(t){ms!==t&&(ms=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ms===t&&(ms=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(qr(u||s)===null)continue;break}var p=ti(s);p!==null&&(t.splice(i,3),i-=3,qa(p,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function $o(t){function i(A){return ds(A,t)}Nn!==null&&ds(Nn,t),Rn!==null&&ds(Rn,t),bn!==null&&ds(bn,t),Ko.forEach(i),Xo.forEach(i);for(var s=0;s<wn.length;s++){var u=wn[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<wn.length&&(s=wn[0],s.blockedOn===null);)xm(s),s.blockedOn===null&&wn.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],p=s[u+1],x=f[ut]||null;if(typeof p=="function")x||Sm(s);else if(x){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,x=p[ut]||null)E=x.formAction;else if(qr(f)!==null)continue}else E=x.action;typeof E=="function"?s[u+1]=E:(s.splice(u,3),u-=3),Sm(s)}}}function Hr(t){this._internalRoot=t}ps.prototype.render=Hr.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,u=Ct();hm(s,u,t,i,null,null)},ps.prototype.unmount=Hr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hm(t.current,2,null,t,null,null),Ql(),i[jn]=null}};function ps(t){this._internalRoot=t}ps.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vu();t={blockedOn:null,target:t,priority:i};for(var s=0;s<wn.length&&i!==0&&i<wn[s].priority;s++);wn.splice(s,0,t),s===0&&xm(t)}};var Em=e.version;if(Em!=="19.1.1")throw Error(l(527,Em,"19.1.1"));z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var cv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ji=hs.inject(cv),pt=hs}catch{}}return Wo.createRoot=function(t,i){if(!c(t))throw Error(l(299));var s=!1,u="",f=Gf,p=Hf,x=Bf,E=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=mm(t,1,!1,null,null,s,u,f,p,x,E,null),t[jn]=i.current,Sr(t),new Hr(i)},Wo.hydrateRoot=function(t,i,s){if(!c(t))throw Error(l(299));var u=!1,f="",p=Gf,x=Hf,E=Bf,A=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=mm(t,1,!0,i,s??null,u,f,p,x,E,A,U),i.context=pm(null),s=i.current,u=Ct(),u=Ds(u),f=mn(u),f.callback=null,pn(s,f,u),s=u,i.current.lanes=s,to(i,s),Ft(i),t[jn]=i.current,Sr(t),new ps(i)},Wo.version="19.1.1",Wo}var Um;function Cv(){if(Um)return Fr.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fr.exports=xv(),Fr.exports}var Sv=Cv();const Ev=oh(Sv),Pm=({onNavigateToLogin:n})=>T.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-[#00838f] to-[#00c4cc] p-4",children:T.jsxs("div",{className:"text-center bg-white/20 backdrop-blur-lg p-10 rounded-2xl shadow-2xl border border-white/30",children:[T.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-3",children:"Physcio Connect"}),T.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8",children:"Your AI-powered physiotherapy assistant"}),T.jsx("button",{onClick:n,className:"bg-[#00bfa5] text-white font-bold py-3 px-10 rounded-full text-lg shadow-lg hover:bg-[#00a794] transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-[#00c4cc]/50",children:"Get Started"})]})}),Kr=({onUserAuth:n,onUserRegister:e,onGuestLogin:o,onAdminLogin:l})=>{const[c,d]=Y.useState("user"),[m,g]=Y.useState("login"),[y,h]=Y.useState("admin@physcio.com"),[v,C]=Y.useState("password123"),[S,M]=Y.useState(""),[R,D]=Y.useState(""),[q,X]=Y.useState(""),[J,O]=Y.useState(""),K=j=>{j.preventDefault(),O(""),l(y,v)||O("Invalid admin credentials. Please try again.")},G=j=>{if(j.preventDefault(),O(""),m==="login"){if(!R||!q){O("Email and password are required.");return}n(R,q)||O("Invalid credentials. Please check your email and password.")}else{if(!S||!R||!q){O("All fields are required for registration.");return}const ue=e(S,R,q);ue.success||O(ue.message)}},te=()=>{O(""),M(""),D(""),X("")},ie=()=>T.jsxs("div",{className:"animate-fade-in-fast",children:[T.jsxs("div",{className:"flex justify-center mb-4 rounded-lg bg-gray-100 p-1",children:[T.jsx("button",{onClick:()=>{g("login"),te()},className:`flex-1 py-2 text-sm font-semibold rounded-md transition-colors ${m==="login"?"bg-white shadow text-[#00838f]":"text-gray-500"}`,children:"Login"}),T.jsx("button",{onClick:()=>{g("register"),te()},className:`flex-1 py-2 text-sm font-semibold rounded-md transition-colors ${m==="register"?"bg-white shadow text-[#00838f]":"text-gray-500"}`,children:"Register"})]}),T.jsxs("form",{onSubmit:G,className:"space-y-4",children:[m==="register"&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Full Name"}),T.jsx("input",{type:"text",value:S,onChange:j=>M(j.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Email Address"}),T.jsx("input",{type:"email",value:R,onChange:j=>D(j.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Password"}),T.jsx("input",{type:"password",value:q,onChange:j=>X(j.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0})]}),J&&T.jsx("p",{className:"text-red-500 text-xs text-center",children:J}),T.jsx("button",{type:"submit",className:"w-full bg-[#00838f] hover:bg-teal-800 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors",children:m==="login"?"Login":"Create Account"})]}),T.jsxs("div",{className:"mt-4 flex items-center",children:[T.jsx("hr",{className:"w-full"}),T.jsx("span",{className:"p-2 text-gray-400 text-xs",children:"OR"}),T.jsx("hr",{className:"w-full"})]}),T.jsx("button",{type:"button",onClick:o,className:"w-full mt-4 bg-gray-200 hover:bg-gray-300 text-[#37474f] font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors",children:"Continue as Guest"})]}),pe=()=>T.jsxs("form",{onSubmit:K,className:"space-y-4 animate-fade-in-fast",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Admin Email"}),T.jsx("input",{type:"email",value:y,onChange:j=>h(j.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Password"}),T.jsx("input",{type:"password",value:v,onChange:j=>C(j.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",required:!0})]}),J&&T.jsx("p",{className:"text-red-500 text-xs text-center",children:J}),T.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors",children:"Login as Admin"})]});return T.jsx("div",{className:"flex items-center justify-center h-screen bg-[#f4f7f6] p-4",children:T.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl shadow-xl",children:[T.jsx("div",{className:"mb-8",children:T.jsxs("div",{className:"flex border-b",children:[T.jsx("button",{onClick:()=>{d("user"),te()},className:`flex-1 py-2 font-semibold text-center transition-colors ${c==="user"?"text-[#00838f] border-b-2 border-[#00838f]":"text-gray-500"}`,children:"User Portal"}),T.jsx("button",{onClick:()=>{d("admin"),te()},className:`flex-1 py-2 font-semibold text-center transition-colors ${c==="admin"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500"}`,children:"Admin Portal"})]})}),c==="user"?ie():pe()]})})},Av=({data:n,labels:e,target:o})=>{const m=(300-10*(n.length+1))/n.length,g=Math.max(o,...n);if(g===0)return T.jsxs("div",{className:"flex flex-col items-center justify-center h-[202px] bg-gray-50 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-bold text-center text-[#37474f] mb-2",children:"Weekly Progress"}),T.jsx("p",{className:"text-[#78909c]",children:"Complete a session to see your chart."})]});const y=h=>150-h/g*150;return T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-center text-[#37474f] mb-2",children:"Weekly Progress"}),T.jsxs("svg",{viewBox:"0 0 300 180",className:"w-full h-auto","aria-labelledby":"chart-title",role:"img",children:[T.jsx("title",{id:"chart-title",children:"Bar chart showing weekly exercise sessions completed."}),T.jsxs("g",{className:"grid",children:[T.jsx("line",{x1:"0",y1:y(o),x2:300,y2:y(o),stroke:"#00838f",strokeWidth:"1",strokeDasharray:"4 2"}),T.jsx("text",{x:300,y:y(o)-4,textAnchor:"end",fill:"#00838f",fontSize:"8",fontWeight:"bold",children:"Target"})]}),n.map((h,v)=>{const C=10+v*(m+10),S=y(h),M=Math.max(0,150-S);return T.jsxs("g",{children:[T.jsx("rect",{x:C,y:S,width:m,height:M,fill:"#00bfa5",rx:"4",ry:"4",className:"transition-all duration-300",children:T.jsxs("title",{children:[e[v],": ",h," sessions"]})}),T.jsx("text",{x:C+m/2,y:M>15?S+15:S-5,textAnchor:"middle",fill:M>15?"white":"#37474f",fontSize:"10",fontWeight:"bold",children:h}),T.jsx("text",{x:C+m/2,y:165,textAnchor:"middle",fill:"#78909c",fontSize:"10",children:e[v]})]},v)})]})]})},_v=({progressData:n})=>{const e=n.totalWeeks*n.sessionsPerWeek,o=n.completedSessions>=e,l=o?0:n.sessionsPerWeek-n.completedSessions%n.sessionsPerWeek,c=l===n.sessionsPerWeek&&n.completedSessions>0&&!o?0:l,d=Array.from({length:n.totalWeeks},(m,g)=>`W${g+1}`);return T.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[T.jsx("div",{className:"flex justify-between items-center mb-4",children:T.jsx("h2",{className:"text-xl font-bold text-[#37474f]",children:"Exercise Program Tracker"})}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:T.jsx("div",{className:"bg-[#00838f] h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${n.progressPercent}%`}})}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[T.jsxs("div",{children:[T.jsxs("p",{className:"text-2xl font-bold text-[#00838f]",children:[n.progressPercent,"%"]}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Completed"})]}),T.jsxs("div",{children:[T.jsxs("p",{className:"text-2xl font-bold text-[#37474f]",children:["Week ",n.currentWeek,"/",n.totalWeeks]}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Current Week"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-2xl font-bold text-[#37474f]",children:n.completedSessions}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Total Sessions"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-2xl font-bold text-[#37474f]",children:c}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Sessions Left (Week)"})]})]}),T.jsx("div",{className:"mt-6 border-t pt-4",children:T.jsx(Av,{data:n.weeklyCompletions,labels:d,target:n.sessionsPerWeek})})]})},Mv=({plan:n,currentWeek:e})=>{const o=n.weeklyPlans.find(l=>l.week===e);return o?T.jsxs("div",{className:"mt-8 border-t-2 border-gray-100 pt-6",children:[T.jsxs("h3",{className:"text-xl font-bold text-[#37474f] mb-4",children:["This Week's Focus (Week ",o.week,"): ",T.jsx("span",{className:"text-[#00838f]",children:o.focus})]}),T.jsx("div",{className:"space-y-4",children:o.exercises.map((l,c)=>T.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[T.jsx("p",{className:"font-semibold text-lg text-[#37474f]",children:l.name}),T.jsxs("p",{className:"text-sm text-[#78909c] font-medium my-1",children:["Sets: ",T.jsx("span",{className:"font-bold",children:l.sets})," | Reps: ",T.jsx("span",{className:"font-bold",children:l.reps})]}),T.jsx("p",{className:"text-sm text-gray-600",children:l.notes})]},c))})]}):T.jsx("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg text-center",children:T.jsx("p",{children:"Could not find the plan for the current week."})})},Nv=({messages:n,onMarkAsRead:e})=>{const o=n.filter(l=>!l.read);return o.length===0?null:T.jsxs("div",{className:"mb-6 p-4 bg-blue-100 border-l-4 border-blue-500 text-blue-800 rounded-r-lg shadow-md animate-fade-in",children:[T.jsxs("h3",{className:"font-bold text-lg mb-2",children:[T.jsx("i",{className:"fas fa-info-circle mr-2"}),"New Message from Your Admin"]}),o.map(l=>T.jsxs("div",{className:"text-sm mb-2 pb-2 border-b border-blue-200 last:border-b-0 last:mb-0 last:pb-0",children:[T.jsx("p",{className:"mb-2",children:l.text}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-xs text-blue-600",children:new Date(l.timestamp).toLocaleString()}),T.jsx("button",{onClick:()=>e(l.id),className:"bg-white text-blue-600 text-xs font-semibold py-1 px-3 rounded-full hover:bg-blue-50 transition-colors",children:"Mark as read"})]})]},l.id))]})},lh="physcio_app_data",Es=()=>{try{const n=localStorage.getItem(lh),e=n?JSON.parse(n):{users:[],announcements:[]};return e.announcements||(e.announcements=[]),e}catch(n){return console.error("Failed to parse data from localStorage",n),{users:[],announcements:[]}}},gu=n=>{localStorage.setItem(lh,JSON.stringify(n))},sh=()=>(Es().announcements||[]).sort((e,o)=>new Date(o.createdAt).getTime()-new Date(e.createdAt).getTime()),Rv=n=>{const e=Es(),o={...n,id:`ann_${Date.now()}`,createdAt:new Date().toISOString()};e.announcements=[o,...e.announcements||[]],gu(e)},bv=n=>{const e=Es(),o=(e.announcements||[]).findIndex(l=>l.id===n.id);o>-1&&(e.announcements[o]=n,gu(e))},wv=n=>{const e=Es();e.announcements=(e.announcements||[]).filter(o=>o.id!==n),gu(e)},Dv=()=>{const[n,e]=Y.useState([]);return Y.useEffect(()=>{e(sh().slice(0,3))},[]),n.length===0?null:T.jsxs("div",{className:"mb-6 p-4 bg-purple-100 border-l-4 border-purple-500 text-purple-800 rounded-r-lg shadow-md animate-fade-in",children:[T.jsxs("h3",{className:"font-bold text-lg mb-2",children:[T.jsx("i",{className:"fas fa-bullhorn mr-2"}),"Recent Announcements"]}),T.jsx("div",{className:"space-y-3",children:n.map(o=>T.jsxs("div",{className:"text-sm",children:[T.jsx("p",{className:"font-semibold",children:o.title}),T.jsx("p",{className:"text-purple-700",children:o.content})]},o.id))})]})},Iv=({progressData:n,onUpdateProgress:e,onNavigate:o,activePlan:l,user:c,onUpdateUser:d})=>{const m=l&&n?n.completedSessions>=n.totalWeeks*n.sessionsPerWeek:!1,g=y=>{const h=c.messagesFromAdmin.map(v=>v.id===y?{...v,read:!0}:v);d({...c,messagesFromAdmin:h})};return T.jsxs("div",{children:[T.jsx(Dv,{}),T.jsx(Nv,{messages:c.messagesFromAdmin,onMarkAsRead:g}),l&&n?T.jsxs(T.Fragment,{children:[T.jsx(_v,{progressData:n}),T.jsx(Mv,{plan:l,currentWeek:n.currentWeek}),T.jsx("button",{onClick:e,disabled:m,title:m?"Program Complete!":"Log a Session","aria-label":m?"Program Complete!":"Log a Session",className:"fixed bottom-24 right-6 bg-[#00bfa5] text-white font-bold w-16 h-16 rounded-full flex items-center justify-center shadow-lg hover:bg-[#00a794] transition-all duration-300 ease-in-out transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-[#00c4cc]/50 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:scale-100 disabled:hover:scale-100 z-10",children:m?T.jsx("i",{className:"fas fa-check text-2xl"}):T.jsx("i",{className:"fas fa-plus text-2xl"})})]}):T.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-2xl",children:[T.jsx("i",{className:"fas fa-dumbbell text-5xl text-[#00bfa5] mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-2",children:"No Active Exercise Plan"}),T.jsx("p",{className:"text-[#78909c] mb-6",children:"Get started by generating a personalized physiotherapy program."}),T.jsx("button",{className:"bg-[#00838f] text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-800 transition-colors",onClick:()=>o("exercise"),children:"Generate New Plan"})]}),T.jsxs("div",{className:"mt-8",children:[T.jsx("h3",{className:"text-xl font-bold text-[#37474f] mb-4 text-center",children:"More Features"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 rounded-xl shadow-md cursor-pointer transition-all duration-300 transform bg-white text-[#37474f] hover:bg-gray-50 hover:scale-105",onClick:()=>o("posture"),role:"button",tabIndex:0,"aria-label":"Go to Posture IQ",children:[T.jsxs("div",{className:"relative",children:[T.jsx("i",{className:"fas fa-user-check text-4xl mb-3 text-[#00838f]"}),!c.isPremium&&T.jsx("i",{className:"fas fa-lock absolute -top-1 -right-2 text-xs text-yellow-500 bg-gray-100 p-1 rounded-full shadow"})]}),T.jsx("h4",{className:"font-semibold text-lg",children:"Posture IQ"}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Analyze your posture."})]}),T.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 rounded-xl shadow-md cursor-pointer transition-all duration-300 transform bg-white text-[#37474f] hover:bg-gray-50 hover:scale-105",onClick:()=>o("tele"),role:"button",tabIndex:0,"aria-label":"Go to TelePhysio",children:[T.jsxs("div",{className:"relative",children:[T.jsx("i",{className:"fas fa-video text-4xl mb-3 text-[#00838f]"}),!c.isPremium&&T.jsx("i",{className:"fas fa-lock absolute -top-1 -right-2 text-xs text-yellow-500 bg-gray-100 p-1 rounded-full shadow"})]}),T.jsx("h4",{className:"font-semibold text-lg",children:"TelePhysio"}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Start a virtual consultation."})]}),T.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 rounded-xl shadow-md cursor-pointer transition-all duration-300 transform bg-white text-[#37474f] hover:bg-gray-50 hover:scale-105",onClick:()=>o("journal"),role:"button",tabIndex:0,"aria-label":"Go to Journal Link",children:[T.jsx("i",{className:"fas fa-book-open text-4xl mb-3 text-[#00838f]"}),T.jsx("h4",{className:"font-semibold text-lg",children:"Journal Link"}),T.jsx("p",{className:"text-sm text-[#78909c]",children:"Access trusted journals."})]})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uv,Pv;function Lv(){return{geminiUrl:Uv,vertexUrl:Pv}}function kv(n,e,o,l){var c,d;if(!(n!=null&&n.baseUrl)){const m=Lv();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:o:(d=m.geminiUrl)!==null&&d!==void 0?d:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zn{}function ne(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];r(v,e.slice(d+1),o[h])}else for(const h of y)r(h,e.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(d+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(m=>a(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vv(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function qv(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=a(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=a(n,["config"]);return c!=null&&r(e,["config"],c),e}function Gv(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function Hv(n){const e={},o=a(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],yu(l));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function Bv(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],Hv(o)),e}function zv(n){const e={},o=a(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Bv(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Fv(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],zv(m)),e}function Jv(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],yu(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Yv(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],Jv(o)),e}function Ov(n){const e={},o=a(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Yv(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Kv(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response"]);return m!=null&&r(e,["response"],Ov(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Lm||(Lm={}));var km;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(km||(km={}));var we;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(we||(we={}));var Vm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vm||(Vm={}));var qm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(qm||(qm={}));var Gm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Gm||(Gm={}));var Hm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Hm||(Hm={}));var Bm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Bm||(Bm={}));var zm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zm||(zm={}));var Fm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Fm||(Fm={}));var Jm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Jm||(Jm={}));var Ym;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ym||(Ym={}));var Om;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Om||(Om={}));var Km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Km||(Km={}));var Xm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xm||(Xm={}));var xs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xs||(xs={}));var Qm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qm||(Qm={}));var Wr;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wr||(Wr={}));var $m;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($m||($m={}));var Zm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zm||(Zm={}));var Wm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Wm||(Wm={}));var jm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(jm||(jm={}));var ep;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ep||(ep={}));var tp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tp||(tp={}));var np;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(np||(np={}));var ip;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ip||(ip={}));var op;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(op||(op={}));var lp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(lp||(lp={}));var sp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sp||(sp={}));var ap;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ap||(ap={}));var rp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rp||(rp={}));var up;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(up||(up={}));var cp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(cp||(cp={}));var fp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(fp||(fp={}));var dp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(dp||(dp={}));var mp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(mp||(mp={}));var pp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(pp||(pp={}));var hp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(hp||(hp={}));var gp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gp||(gp={}));var yp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yp||(yp={}));var vp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(vp||(vp={}));var Tp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tp||(Tp={}));var xp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(xp||(xp={}));var Cp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Cp||(Cp={}));var Sp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Sp||(Sp={}));var Hi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Hi||(Hi={}));class jr{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class jo{get text(){var e,o,l,c,d,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const C=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,R]of Object.entries(S))M!=="text"&&M!=="thought"&&(R!==null||R!==void 0)&&C.push(M);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,o,l,c,d,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const C of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,M]of Object.entries(C))S!=="inlineData"&&(M!==null||M!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,l,c,d,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,l,c,d,m,g,y,h;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,l,c,d,m,g,y,h;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Ep{}class Ap{}class Xv{}class Qv{}class $v{}class Zv{}class _p{}class Mp{}class Np{}class Wv{}class Cs{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new Cs;let c;const d=e;return o?c=Kv(d):c=Fv(d),Object.assign(l,c),l}}class Rp{}class bp{}class wp{}class jv{}class e0{}class t0{}class Dp{}class n0{get text(){var e,o,l;let c="",d=!1;const m=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,o,l;let c="";const d=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class i0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ah(n,e){const o=Me(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function rh(n){return Array.isArray(n)?n.map(e=>Ss(e)):[Ss(n)]}function Ss(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function uh(n){const e=Ss(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ch(n){const e=Ss(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ip(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function fh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Ip(e)):[Ip(n)]}function eu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Up(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Pp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function st(n){if(n==null)throw new Error("ContentUnion is required");return eu(n)?n:{role:"user",parts:fh(n)}}function vu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=st(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=st(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>st(o)):[st(e)]}function Ut(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Up(n)||Pp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(n)]}const e=[],o=[],l=eu(n[0]);for(const c of n){const d=eu(c);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(Up(c)||Pp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:fh(o)}),e}function o0(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(we).includes(o[0].toUpperCase())?o[0].toUpperCase():we.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(we).includes(l.toUpperCase())?l.toUpperCase():we.TYPE_UNSPECIFIED})}}function Bi(n){const e={},o=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&o0(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(we).includes(g.toUpperCase())?g.toUpperCase():we.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=Bi(g);else if(l.includes(m)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(Bi(h))}e[m]=y}else if(c.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Bi(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function Tu(n){return Bi(n)}function xu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Cu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ji(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Bi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Bi(e.response));return n}function Yi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function l0(n,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function sn(n,e){if(typeof e!="string")throw new Error("name must be a string");return l0(n,e,"cachedContents")}function dh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Wn(n){return yu(n)}function s0(n){return n!=null&&typeof n=="object"&&"name"in n}function a0(n){return n!=null&&typeof n=="object"&&"video"in n}function r0(n){return n!=null&&typeof n=="object"&&"uri"in n}function mh(n){var e;let o;if(s0(n)&&(o=n.name),!(r0(n)&&(o=n.uri,o===void 0))&&!(a0(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ph(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function hh(n){for(const e of["models","tunedModels","publisherModels"])if(u0(n,e))return n[e];return[]}function u0(n,e){return n!==null&&typeof n=="object"&&e in n}function c0(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function f0(n,e={}){const o=[],l=new Set;for(const c of n){const d=c.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const m=c0(c,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function gh(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,c=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(c>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||c!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function d0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yh(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const c=o.inlinedResponses;if(!Array.isArray(c)||c.length===0)return n;let d=!1;for(const m of c){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Oi(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function vh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m0(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function p0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function h0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function g0(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function y0(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],m0(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],p0(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],h0(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],g0(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Th(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>y0(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function v0(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const h=a(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=a(n,["minItems"]);M!=null&&r(e,["minItems"],M);const R=a(n,["minLength"]);R!=null&&r(e,["minLength"],R);const D=a(n,["minProperties"]);D!=null&&r(e,["minProperties"],D);const q=a(n,["minimum"]);q!=null&&r(e,["minimum"],q);const X=a(n,["nullable"]);X!=null&&r(e,["nullable"],X);const J=a(n,["pattern"]);J!=null&&r(e,["pattern"],J);const O=a(n,["properties"]);O!=null&&r(e,["properties"],O);const K=a(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const G=a(n,["required"]);G!=null&&r(e,["required"],G);const te=a(n,["title"]);te!=null&&r(e,["title"],te);const ie=a(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function T0(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&r(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function x0(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function C0(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function S0(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],C0(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function E0(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function A0(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],E0(o)),e}function _0(){return{}}function M0(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function N0(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>x0(h))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],S0(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],A0(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],_0());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],M0(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function R0(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function b0(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function w0(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],b0(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function D0(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],R0(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],w0(l)),e}function I0(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function xh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],I0(o)),e}function U0(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],xh(l)),e}function P0(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>U0(c))),r(e,["speakerVoiceConfigs"],l)}return e}function L0(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],xh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],P0(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function k0(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function V0(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Th(st(c)));const d=a(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const g=a(e,["topK"]);g!=null&&r(l,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const v=a(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const M=a(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const R=a(e,["frequencyPenalty"]);R!=null&&r(l,["frequencyPenalty"],R);const D=a(e,["seed"]);D!=null&&r(l,["seed"],D);const q=a(e,["responseMimeType"]);q!=null&&r(l,["responseMimeType"],q);const X=a(e,["responseSchema"]);X!=null&&r(l,["responseSchema"],v0(Tu(X)));const J=a(e,["responseJsonSchema"]);if(J!=null&&r(l,["responseJsonSchema"],J),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=a(e,["safetySettings"]);if(o!==void 0&&O!=null){let de=O;Array.isArray(de)&&(de=de.map(ge=>T0(ge))),r(o,["safetySettings"],de)}const K=a(e,["tools"]);if(o!==void 0&&K!=null){let de=Yi(K);Array.isArray(de)&&(de=de.map(ge=>N0(Ji(ge)))),r(o,["tools"],de)}const G=a(e,["toolConfig"]);if(o!==void 0&&G!=null&&r(o,["toolConfig"],D0(G)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=a(e,["cachedContent"]);o!==void 0&&te!=null&&r(o,["cachedContent"],sn(n,te));const ie=a(e,["responseModalities"]);ie!=null&&r(l,["responseModalities"],ie);const pe=a(e,["mediaResolution"]);pe!=null&&r(l,["mediaResolution"],pe);const j=a(e,["speechConfig"]);if(j!=null&&r(l,["speechConfig"],L0(xu(j))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=a(e,["thinkingConfig"]);return ue!=null&&r(l,["thinkingConfig"],k0(ue)),l}function q0(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["request","model"],Me(n,l));const c=a(e,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>Th(g))),r(o,["request","contents"],m)}const d=a(e,["config"]);return d!=null&&r(o,["request","generationConfig"],V0(n,d,o)),o}function G0(n,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=a(e,["fileName"]);l!=null&&r(o,["fileName"],l);const c=a(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>q0(n,m))),r(o,["requests","requests"],d)}return o}function H0(n,e){const o={},l=a(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Xr(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["src"]);c!=null&&r(o,["batch","inputConfig"],G0(n,gh(n,c)));const d=a(e,["config"]);return d!=null&&r(o,["config"],H0(d,o)),o}function B0(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=a(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function z0(n,e){const o={},l=a(e,["contents"]);l!=null&&r(o,["requests[]","request","content"],vu(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],B0(c,o)),o}function F0(n,e){const o={},l=a(e,["fileName"]);l!=null&&r(o,["file_name"],l);const c=a(e,["inlinedRequests"]);return c!=null&&r(o,["requests"],z0(n,c)),o}function J0(n,e){const o={},l=a(n,["displayName"]);return e!==void 0&&l!=null&&r(e,["batch","displayName"],l),o}function Qr(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["src"]);c!=null&&r(o,["batch","inputConfig"],F0(n,c));const d=a(e,["config"]);return d!=null&&r(o,["config"],J0(d,o)),o}function Y0(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Oi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function O0(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Oi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function K0(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function X0(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],K0(o,e)),e}function Q0(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Oi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function $0(n){const e={},o=a(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Z0(n){const e={},o=a(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function W0(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],Z0(d0(c))),o}function j0(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Me(n,l));const c=a(e,["src"]);c!=null&&r(o,["inputConfig"],$0(gh(n,c)));const d=a(e,["config"]);return d!=null&&r(o,["config"],W0(d,o)),o}function eT(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Oi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function tT(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Oi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function nT(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function iT(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],nT(o,e)),e}function oT(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Oi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function lT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function sT(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function aT(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rT(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function uT(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],lT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],sT(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],aT(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],rT(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function cT(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>uT(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function fT(n){const e={},o=a(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function dT(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function mT(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>dT(c))),r(e,["urlMetadata"],l)}return e}function pT(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],cT(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],fT(l));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],mT(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=a(n,["index"]);h!=null&&r(e,["index"],h);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function hT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>pT(h))),r(e,["candidates"],y)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=a(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function Su(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function gT(n){const e={},o=a(n,["response"]);o!=null&&r(e,["response"],hT(o));const l=a(n,["error"]);return l!=null&&r(e,["error"],Su(l)),e}function yT(n){const e={},o=a(n,["values"]);return o!=null&&r(e,["values"],o),e}function vT(n){const e={},o=a(n,["embedding"]);o!=null&&r(e,["embedding"],yT(o));const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function TT(n){const e={},o=a(n,["response"]);o!=null&&r(e,["response"],vT(o));const l=a(n,["error"]);return l!=null&&r(e,["error"],Su(l)),e}function xT(n){const e={},o=a(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=a(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>gT(m))),r(e,["inlinedResponses"],d)}const c=a(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>TT(m))),r(e,["inlinedEmbedContentResponses"],d)}return e}function Gi(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["metadata","state"]);c!=null&&r(e,["state"],vh(c));const d=a(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=a(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=a(n,["metadata","model"]);y!=null&&r(e,["model"],y);const h=a(n,["metadata","output"]);return h!=null&&r(e,["dest"],xT(yh(h))),e}function CT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Gi(m))),r(e,["batchJobs"],d)}return e}function ST(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);return d!=null&&r(e,["error"],Su(d)),e}function Ch(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function ET(n){const e={},o=a(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=a(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=a(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function AT(n){const e={},o=a(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=a(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=a(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function tu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],vh(c));const d=a(n,["error"]);d!=null&&r(e,["error"],Ch(d));const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=a(n,["endTime"]);y!=null&&r(e,["endTime"],y);const h=a(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const v=a(n,["model"]);v!=null&&r(e,["model"],v);const C=a(n,["inputConfig"]);C!=null&&r(e,["src"],ET(C));const S=a(n,["outputConfig"]);return S!=null&&r(e,["dest"],AT(yh(S))),e}function _T(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>tu(m))),r(e,["batchJobs"],d)}return e}function MT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);return d!=null&&r(e,["error"],Ch(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($n||($n={}));class tl{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,d;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NT extends Zn{constructor(e){super(),this.apiClient=e,this.create=async o=>{var l,c;if(this.apiClient.isVertexAI())return o.config=this.formatDestination(o.src,o.config),this.createInternal(o);const d=o.src;if(!(Array.isArray(o.src)||d.inlinedRequests!==void 0))return this.createInternal(o);const g=this.createInlinedGenerateContentRequest(o),y=g.path,h=g.body,v=Xr(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()).then(S=>Gi(S))},this.createEmbeddings=async o=>{var l,c;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(o.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(o);const g=this.createInlinedEmbedContentRequest(o),y=g.path,h=g.body,v=Qr(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()).then(S=>Gi(S))},this.list=async(o={})=>new tl($n.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=Xr(this.apiClient,e),l=o._url,c=ne("{model}:batchGenerateContent",l),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const C=Object.assign({},v);if(C.systemInstruction){const S=C.systemInstruction;delete C.systemInstruction;const M=C.request;M.systemInstruction=S,C.request=M}h.push(C)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:c,body:o}}createInlinedEmbedContentRequest(e){const o=Qr(this.apiClient,e),l=o._url,c=ne("{model}:asyncBatchEmbedContent",l),g=o.batch.inputConfig.requests,y=g.requests,h=[];delete g.config;for(const v of y){const C=Object.assign({},v),S=C.request;for(const M in C)M!=="request"&&(S[M]=C[M],delete C[M]);h.push(C)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:c,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},c=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${c}`),l.dest===void 0){const d=this.getGcsUri(e),m=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?l.dest=`${d.slice(0,-6)}/dest`:l.dest=`${d}_dest_${c}`;else if(m)l.dest=`${m}_dest_${c}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=j0(this.apiClient,e);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>tu(v))}else{const h=Xr(this.apiClient,e);return g=ne("{model}:batchGenerateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Gi(v))}}async createEmbeddingsInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Qr(this.apiClient,e);return d=ne("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Gi(y))}}async get(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(this.apiClient,e);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>tu(v))}else{const h=Y0(this.apiClient,e);return g=ne("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Gi(v))}}async cancel(e){var o,l,c,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=tT(this.apiClient,e);m=ne("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=O0(this.apiClient,e);m=ne("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=iT(e);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=_T(v),S=new Dp;return Object.assign(S,C),S})}else{const h=X0(e);return g=ne("batches",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=CT(v),S=new Dp;return Object.assign(S,C),S})}}async delete(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=oT(this.apiClient,e);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>MT(v))}else{const h=Q0(this.apiClient,e);return g=ne("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>ST(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function bT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function wT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function DT(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function IT(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],RT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],bT(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],wT(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],DT(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Lp(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>IT(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function UT(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function PT(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function LT(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],PT(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function kT(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function VT(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],kT(o)),e}function qT(){return{}}function GT(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function HT(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>UT(h))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],LT(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],VT(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],qT());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],GT(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function BT(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function zT(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function FT(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],zT(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function JT(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],BT(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],FT(l)),e}function YT(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=a(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let v=Ut(m);Array.isArray(v)&&(v=v.map(C=>Lp(C))),r(e,["contents"],v)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Lp(st(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>HT(C))),r(e,["tools"],v)}const h=a(n,["toolConfig"]);if(e!==void 0&&h!=null&&r(e,["toolConfig"],JT(h)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function OT(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],ah(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],YT(c,o)),o}function KT(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],sn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function XT(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],sn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function QT(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function $T(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],sn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],QT(c,o)),o}function ZT(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function WT(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],ZT(o,e)),e}function jT(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ex(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function tx(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function nx(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function ix(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],jT(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],ex(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],tx(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],nx(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function kp(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ix(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function ox(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function lx(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function sx(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],lx(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function ax(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function rx(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],ax(o)),e}function ux(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function cx(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function fx(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],cx(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function dx(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],fx(o)),e}function mx(){return{}}function px(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function hx(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>ox(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],sx(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],rx(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],ux(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],dx(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],mx());const h=a(n,["computerUse"]);h!=null&&r(e,["computerUse"],px(h));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function gx(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function yx(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function vx(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],yx(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Tx(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],gx(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],vx(l)),e}function xx(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=a(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let C=Ut(m);Array.isArray(C)&&(C=C.map(S=>kp(S))),r(e,["contents"],C)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],kp(st(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>hx(S))),r(e,["tools"],C)}const h=a(n,["toolConfig"]);e!==void 0&&h!=null&&r(e,["toolConfig"],Tx(h));const v=a(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function Cx(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],ah(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],xx(c,o)),o}function Sx(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],sn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Ex(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],sn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Ax(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function _x(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],sn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],Ax(c,o)),o}function Mx(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function Nx(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],Mx(o,e)),e}function vs(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Rx(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function bx(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>vs(m))),r(e,["cachedContents"],d)}return e}function Ts(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function wx(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function Dx(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Ts(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ix extends Zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new tl($n.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Cx(this.apiClient,e);return g=ne("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ts(v))}else{const h=OT(this.apiClient,e);return g=ne("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vs(v))}}async get(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Sx(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ts(v))}else{const h=KT(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vs(v))}}async delete(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Ex(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=wx(v),S=new bp;return Object.assign(S,C),S})}else{const h=XT(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Rx(v),S=new bp;return Object.assign(S,C),S})}}async update(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_x(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ts(v))}else{const h=$T(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vs(v))}}async listInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Nx(e);return g=ne("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Dx(v),S=new wp;return Object.assign(S,C),S})}else{const h=WT(e);return g=ne("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=bx(v),S=new wp;return Object.assign(S,C),S})}}}function Vp(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(n){return this instanceof Ve?(this.v=n,this):new Ve(n)}function zi(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(M){return function(R){return Promise.resolve(R).then(M,C)}}function g(M,R){l[M]&&(c[M]=function(D){return new Promise(function(q,X){d.push([M,D,q,X])>1||y(M,D)})},R&&(c[M]=R(c[M])))}function y(M,R){try{h(l[M](R))}catch(D){S(d[0][3],D)}}function h(M){M.value instanceof Ve?Promise.resolve(M.value.v).then(v,C):S(d[0][2],M)}function v(M){y("next",M)}function C(M){y("throw",M)}function S(M,R){M(R),d.shift(),d.length&&y(d[0][0],d[0][1])}}function el(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Vp=="function"?Vp(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(d){o[d]=n[d]&&function(m){return new Promise(function(g,y){m=n[d](m),c(g,y,m.done,m.value)})}}function c(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ux(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Sh(o)}function Sh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Px(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qp(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let d=!0;for(;l<o&&n[l].role==="model";)c.push(n[l]),d&&!Sh(n[l])&&(d=!1),l++;d?e.push(...c):e.pop()}return e}class Lx{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new kx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kx{constructor(e,o,l,c={},d=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),Px(d)}async sendMessage(e){var o;await this.sendPromise;const l=st(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await c,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(l,M,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=st(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,l)}getHistory(e=!1){const o=e?qp(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return zi(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var C=!0,S=el(e),M;M=yield Ve(S.next()),m=M.done,!m;C=!0){h=M.value,C=!1;const R=h;if(Ux(R)){const D=(c=(l=R.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;D!==void 0&&v.push(D)}yield yield Ve(R)}}catch(R){g={error:R}}finally{try{!C&&!m&&(y=S.return)&&(yield Ve(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(d=>d.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...qp(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,As.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vx(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function qx(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],Vx(o,e)),e}function Gx(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function Hx(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=a(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=a(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const M=a(n,["source"]);M!=null&&r(e,["source"],M);const R=a(n,["videoMetadata"]);R!=null&&r(e,["videoMetadata"],R);const D=a(n,["error"]);return D!=null&&r(e,["error"],Gx(D)),e}function Bx(n){const e={},o=a(n,["file"]);o!=null&&r(e,["file"],Hx(o));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function zx(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","file"],mh(o));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function Fx(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","file"],mh(o));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function Jx(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function nu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=a(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=a(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const M=a(n,["source"]);M!=null&&r(e,["source"],M);const R=a(n,["videoMetadata"]);R!=null&&r(e,["videoMetadata"],R);const D=a(n,["error"]);return D!=null&&r(e,["error"],Jx(D)),e}function Yx(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>nu(m))),r(e,["files"],d)}return e}function Ox(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function Kx(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xx extends Zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new tl($n.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>nu(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qx(e);return d=ne("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=Yx(y),v=new jv;return Object.assign(v,h),v})}}async createInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Bx(e);return d=ne("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const h=Ox(y),v=new e0;return Object.assign(v,h),v})}}async get(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zx(e);return d=ne("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>nu(y))}}async delete(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Fx(e);return d=ne("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=Kx(y),v=new t0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Eh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Qx(o)),e}function $x(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Eh(l)),e}function Zx(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>$x(c))),r(e,["speakerVoiceConfigs"],l)}return e}function Wx(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Eh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],Zx(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function jx(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function eC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function nC(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function iC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],jx(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],eC(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],tC(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],nC(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function oC(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>iC(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function lC(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function sC(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function aC(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],sC(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function rC(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function uC(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],rC(o)),e}function cC(){return{}}function fC(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function dC(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>lC(h))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],aC(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],uC(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],cC());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],fC(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function mC(n){const e={},o=a(n,["handle"]);if(o!=null&&r(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Gp(){return{}}function pC(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function hC(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],pC(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function gC(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function yC(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],gC(l)),e}function vC(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function TC(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=a(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],Wx(Cu(C)));const S=a(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const M=a(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],oC(st(M)));const R=a(n,["tools"]);if(e!==void 0&&R!=null){let G=Yi(R);Array.isArray(G)&&(G=G.map(te=>dC(Ji(te)))),r(e,["setup","tools"],G)}const D=a(n,["sessionResumption"]);e!==void 0&&D!=null&&r(e,["setup","sessionResumption"],mC(D));const q=a(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&r(e,["setup","inputAudioTranscription"],Gp());const X=a(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&r(e,["setup","outputAudioTranscription"],Gp());const J=a(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&r(e,["setup","realtimeInputConfig"],hC(J));const O=a(n,["contextWindowCompression"]);e!==void 0&&O!=null&&r(e,["setup","contextWindowCompression"],yC(O));const K=a(n,["proactivity"]);return e!==void 0&&K!=null&&r(e,["setup","proactivity"],vC(K)),o}function xC(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],TC(c,o)),o}function CC(){return{}}function SC(){return{}}function EC(n){const e={},o=a(n,["media"]);o!=null&&r(e,["mediaChunks"],rh(o));const l=a(n,["audio"]);l!=null&&r(e,["audio"],ch(l));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=a(n,["video"]);d!=null&&r(e,["video"],uh(d));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],CC()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],SC()),e}function Ah(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function AC(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ah(c))),r(e,["weightedPrompts"],l)}return e}function _h(n){const e={},o=a(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const d=a(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=a(n,["scale"]);h!=null&&r(e,["scale"],h);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const M=a(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function _C(n){const e={},o=a(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],_h(o)),e}function Mh(n){const e={},o=a(n,["model"]);return o!=null&&r(e,["model"],o),e}function Nh(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ah(c))),r(e,["weightedPrompts"],l)}return e}function iu(n){const e={},o=a(n,["setup"]);o!=null&&r(e,["setup"],Mh(o));const l=a(n,["clientContent"]);l!=null&&r(e,["clientContent"],Nh(l));const c=a(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],_h(c));const d=a(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function MC(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function NC(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],MC(o)),e}function RC(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],NC(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function bC(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function wC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function DC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function IC(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function UC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],bC(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],wC(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],DC(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],IC(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function PC(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>UC(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function LC(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function kC(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function VC(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],kC(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function qC(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function GC(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],qC(o)),e}function HC(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function BC(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function zC(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],BC(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function FC(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],zC(o)),e}function JC(){return{}}function YC(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function OC(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>LC(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],VC(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],GC(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],HC(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],FC(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],JC());const h=a(n,["computerUse"]);h!=null&&r(e,["computerUse"],YC(h));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function KC(n){const e={},o=a(n,["handle"]);o!=null&&r(e,["handle"],o);const l=a(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function Hp(){return{}}function XC(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function QC(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],XC(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function $C(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function ZC(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],$C(l)),e}function WC(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function jC(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=a(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],RC(Cu(C)));const S=a(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const M=a(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],PC(st(M)));const R=a(n,["tools"]);if(e!==void 0&&R!=null){let G=Yi(R);Array.isArray(G)&&(G=G.map(te=>OC(Ji(te)))),r(e,["setup","tools"],G)}const D=a(n,["sessionResumption"]);e!==void 0&&D!=null&&r(e,["setup","sessionResumption"],KC(D));const q=a(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&r(e,["setup","inputAudioTranscription"],Hp());const X=a(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&r(e,["setup","outputAudioTranscription"],Hp());const J=a(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&r(e,["setup","realtimeInputConfig"],QC(J));const O=a(n,["contextWindowCompression"]);e!==void 0&&O!=null&&r(e,["setup","contextWindowCompression"],ZC(O));const K=a(n,["proactivity"]);return e!==void 0&&K!=null&&r(e,["setup","proactivity"],WC(K)),o}function eS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],jC(c,o)),o}function tS(){return{}}function nS(){return{}}function iS(n){const e={},o=a(n,["media"]);o!=null&&r(e,["mediaChunks"],rh(o));const l=a(n,["audio"]);l!=null&&r(e,["audio"],ch(l));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=a(n,["video"]);d!=null&&r(e,["video"],uh(d));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],tS()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],nS()),e}function oS(){return{}}function lS(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function sS(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function aS(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Rh(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function rS(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],lS(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],sS(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],aS(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],Rh(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function uS(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>rS(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function Bp(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function cS(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function fS(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>cS(c))),r(e,["urlMetadata"],l)}return e}function dS(n){const e={},o=a(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],uS(o));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=a(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Bp(g));const y=a(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Bp(y));const h=a(n,["urlContextMetadata"]);return h!=null&&r(e,["urlContextMetadata"],fS(h)),e}function mS(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Rh(c))),r(e,["functionCalls"],l)}return e}function pS(n){const e={},o=a(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function gs(n){const e={},o=a(n,["modality"]);o!=null&&r(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function hS(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=a(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(M=>gs(M))),r(e,["promptTokensDetails"],S)}const h=a(n,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(M=>gs(M))),r(e,["cacheTokensDetails"],S)}const v=a(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(M=>gs(M))),r(e,["responseTokensDetails"],S)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(M=>gs(M))),r(e,["toolUsePromptTokensDetails"],S)}return e}function gS(n){const e={},o=a(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function yS(n){const e={},o=a(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function vS(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],oS());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],dS(l));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],mS(c));const d=a(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],pS(d));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],hS(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],gS(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],yS(y)),e}function TS(){return{}}function xS(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function CS(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>xS(c))),r(e,["weightedPrompts"],l)}return e}function SS(n){const e={},o=a(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const d=a(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=a(n,["scale"]);h!=null&&r(e,["scale"],h);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const M=a(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function ES(n){const e={},o=a(n,["clientContent"]);o!=null&&r(e,["clientContent"],CS(o));const l=a(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],SS(l)),e}function AS(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=a(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],ES(c)),e}function _S(n){const e={},o=a(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>AS(c))),r(e,["audioChunks"],l)}return e}function MS(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function NS(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],TS());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],_S(l));const c=a(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],MS(c)),e}function RS(n){const e={},o=a(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function bS(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function wS(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function DS(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function bh(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function IS(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],bS(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],wS(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],DS(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],bh(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function US(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>IS(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function zp(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function PS(n){const e={},o=a(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],US(o));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=a(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],zp(g));const y=a(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],zp(y)),e}function LS(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>bh(c))),r(e,["functionCalls"],l)}return e}function kS(n){const e={},o=a(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function ys(n){const e={},o=a(n,["modality"]);o!=null&&r(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function VS(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=a(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(R=>ys(R))),r(e,["promptTokensDetails"],M)}const h=a(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(R=>ys(R))),r(e,["cacheTokensDetails"],M)}const v=a(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(R=>ys(R))),r(e,["responseTokensDetails"],M)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(R=>ys(R))),r(e,["toolUsePromptTokensDetails"],M)}const S=a(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function qS(n){const e={},o=a(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function GS(n){const e={},o=a(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function HS(n){const e={},o=a(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],RS(o));const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],PS(l));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],LS(c));const d=a(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],kS(d));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],VS(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],qS(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],GS(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function zS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function FS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function JS(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function YS(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],BS(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],zS(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],FS(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],JS(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function _s(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>YS(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function OS(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const h=a(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=a(n,["minItems"]);M!=null&&r(e,["minItems"],M);const R=a(n,["minLength"]);R!=null&&r(e,["minLength"],R);const D=a(n,["minProperties"]);D!=null&&r(e,["minProperties"],D);const q=a(n,["minimum"]);q!=null&&r(e,["minimum"],q);const X=a(n,["nullable"]);X!=null&&r(e,["nullable"],X);const J=a(n,["pattern"]);J!=null&&r(e,["pattern"],J);const O=a(n,["properties"]);O!=null&&r(e,["properties"],O);const K=a(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const G=a(n,["required"]);G!=null&&r(e,["required"],G);const te=a(n,["title"]);te!=null&&r(e,["title"],te);const ie=a(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function KS(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&r(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function XS(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function QS(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function $S(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],QS(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ZS(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function WS(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],ZS(o)),e}function jS(){return{}}function eE(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function tE(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>XS(h))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],$S(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],WS(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],jS());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],eE(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function nE(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function iE(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function oE(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],iE(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function lE(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],nE(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],oE(l)),e}function sE(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function wh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],sE(o)),e}function aE(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],wh(l)),e}function rE(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>aE(c))),r(e,["speakerVoiceConfigs"],l)}return e}function uE(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],wh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],rE(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function cE(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function fE(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],_s(st(c)));const d=a(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const g=a(e,["topK"]);g!=null&&r(l,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const v=a(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const M=a(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const R=a(e,["frequencyPenalty"]);R!=null&&r(l,["frequencyPenalty"],R);const D=a(e,["seed"]);D!=null&&r(l,["seed"],D);const q=a(e,["responseMimeType"]);q!=null&&r(l,["responseMimeType"],q);const X=a(e,["responseSchema"]);X!=null&&r(l,["responseSchema"],OS(Tu(X)));const J=a(e,["responseJsonSchema"]);if(J!=null&&r(l,["responseJsonSchema"],J),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=a(e,["safetySettings"]);if(o!==void 0&&O!=null){let de=O;Array.isArray(de)&&(de=de.map(ge=>KS(ge))),r(o,["safetySettings"],de)}const K=a(e,["tools"]);if(o!==void 0&&K!=null){let de=Yi(K);Array.isArray(de)&&(de=de.map(ge=>tE(Ji(ge)))),r(o,["tools"],de)}const G=a(e,["toolConfig"]);if(o!==void 0&&G!=null&&r(o,["toolConfig"],lE(G)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=a(e,["cachedContent"]);o!==void 0&&te!=null&&r(o,["cachedContent"],sn(n,te));const ie=a(e,["responseModalities"]);ie!=null&&r(l,["responseModalities"],ie);const pe=a(e,["mediaResolution"]);pe!=null&&r(l,["mediaResolution"],pe);const j=a(e,["speechConfig"]);if(j!=null&&r(l,["speechConfig"],uE(xu(j))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=a(e,["thinkingConfig"]);return ue!=null&&r(l,["thinkingConfig"],cE(ue)),l}function Fp(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>_s(g))),r(o,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(o,["generationConfig"],fE(n,d,o)),o}function dE(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=a(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function mE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);c!=null&&r(o,["requests[]","content"],vu(n,c));const d=a(e,["config"]);d!=null&&r(o,["config"],dE(d,o));const m=a(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],Me(n,m)),o}function pE(n,e){const o={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=a(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=a(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=a(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=a(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const h=a(n,["includeRaiReason"]);e!==void 0&&h!=null&&r(e,["parameters","includeRaiReason"],h);const v=a(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=a(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const S=a(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=a(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function hE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=a(e,["config"]);return d!=null&&r(o,["config"],pE(d,o)),o}function gE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function yE(n,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const d=a(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const m=a(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=a(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],ph(n,g)),l}function vE(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],yE(n,l,o)),o}function TE(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=a(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function xE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],TE(c,o)),o}function CE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function SE(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function EE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>_s(g))),r(o,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(o,["config"],SE(d)),o}function Dh(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],Wn(o));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function AE(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);if(e!==void 0&&c!=null&&r(e,["instances[0]","image"],Dh(c)),a(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return o}function _E(n,e){const o={},l=a(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=a(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=a(n,["aspectRatio"]);e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d);const m=a(n,["resolution"]);e!==void 0&&m!=null&&r(e,["parameters","resolution"],m);const g=a(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=a(n,["negativePrompt"]);e!==void 0&&y!=null&&r(e,["parameters","negativePrompt"],y);const h=a(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&r(e,["parameters","enhancePrompt"],h),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function ME(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=a(e,["image"]);if(d!=null&&r(o,["instances[0]","image"],Dh(d)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=a(e,["source"]);m!=null&&r(o,["config"],AE(m,o));const g=a(e,["config"]);return g!=null&&r(o,["config"],_E(g,o)),o}function NE(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function RE(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function bE(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function wE(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function DE(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],NE(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],RE(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],bE(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],wE(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Ki(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>DE(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function IE(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const h=a(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=a(n,["minItems"]);M!=null&&r(e,["minItems"],M);const R=a(n,["minLength"]);R!=null&&r(e,["minLength"],R);const D=a(n,["minProperties"]);D!=null&&r(e,["minProperties"],D);const q=a(n,["minimum"]);q!=null&&r(e,["minimum"],q);const X=a(n,["nullable"]);X!=null&&r(e,["nullable"],X);const J=a(n,["pattern"]);J!=null&&r(e,["pattern"],J);const O=a(n,["properties"]);O!=null&&r(e,["properties"],O);const K=a(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const G=a(n,["required"]);G!=null&&r(e,["required"],G);const te=a(n,["title"]);te!=null&&r(e,["title"],te);const ie=a(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function UE(n){const e={},o=a(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function PE(n){const e={},o=a(n,["method"]);o!=null&&r(e,["method"],o);const l=a(n,["category"]);l!=null&&r(e,["category"],l);const c=a(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function LE(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function kE(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function VE(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],kE(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function qE(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function GE(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],qE(o)),e}function HE(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function BE(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function zE(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],BE(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function FE(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],zE(o)),e}function JE(){return{}}function YE(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function Ih(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>LE(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],VE(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],GE(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],HE(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],FE(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],JE());const h=a(n,["computerUse"]);h!=null&&r(e,["computerUse"],YE(h));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function OE(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function KE(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function XE(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],KE(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function QE(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],OE(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],XE(l)),e}function $E(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function ZE(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],$E(o)),e}function WE(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],ZE(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function jE(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function eA(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Ki(st(c)));const d=a(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const g=a(e,["topK"]);g!=null&&r(l,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const h=a(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const v=a(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const M=a(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const R=a(e,["frequencyPenalty"]);R!=null&&r(l,["frequencyPenalty"],R);const D=a(e,["seed"]);D!=null&&r(l,["seed"],D);const q=a(e,["responseMimeType"]);q!=null&&r(l,["responseMimeType"],q);const X=a(e,["responseSchema"]);X!=null&&r(l,["responseSchema"],IE(Tu(X)));const J=a(e,["responseJsonSchema"]);J!=null&&r(l,["responseJsonSchema"],J);const O=a(e,["routingConfig"]);O!=null&&r(l,["routingConfig"],O);const K=a(e,["modelSelectionConfig"]);K!=null&&r(l,["modelConfig"],UE(K));const G=a(e,["safetySettings"]);if(o!==void 0&&G!=null){let $=G;Array.isArray($)&&($=$.map(b=>PE(b))),r(o,["safetySettings"],$)}const te=a(e,["tools"]);if(o!==void 0&&te!=null){let $=Yi(te);Array.isArray($)&&($=$.map(b=>Ih(Ji(b)))),r(o,["tools"],$)}const ie=a(e,["toolConfig"]);o!==void 0&&ie!=null&&r(o,["toolConfig"],QE(ie));const pe=a(e,["labels"]);o!==void 0&&pe!=null&&r(o,["labels"],pe);const j=a(e,["cachedContent"]);o!==void 0&&j!=null&&r(o,["cachedContent"],sn(n,j));const ue=a(e,["responseModalities"]);ue!=null&&r(l,["responseModalities"],ue);const de=a(e,["mediaResolution"]);de!=null&&r(l,["mediaResolution"],de);const ge=a(e,["speechConfig"]);ge!=null&&r(l,["speechConfig"],WE(xu(ge)));const he=a(e,["audioTimestamp"]);he!=null&&r(l,["audioTimestamp"],he);const W=a(e,["thinkingConfig"]);return W!=null&&r(l,["thinkingConfig"],jE(W)),l}function Jp(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>Ki(g))),r(o,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(o,["generationConfig"],eA(n,d,o)),o}function tA(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=a(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=a(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=a(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function nA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);c!=null&&r(o,["instances[]","content"],vu(n,c));const d=a(e,["config"]);return d!=null&&r(o,["config"],tA(d,o)),o}function iA(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=a(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=a(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const M=a(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const R=a(n,["outputMimeType"]);e!==void 0&&R!=null&&r(e,["parameters","outputOptions","mimeType"],R);const D=a(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&r(e,["parameters","outputOptions","compressionQuality"],D);const q=a(n,["addWatermark"]);e!==void 0&&q!=null&&r(e,["parameters","addWatermark"],q);const X=a(n,["imageSize"]);e!==void 0&&X!=null&&r(e,["parameters","sampleImageSize"],X);const J=a(n,["enhancePrompt"]);return e!==void 0&&J!=null&&r(e,["parameters","enhancePrompt"],J),o}function oA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=a(e,["config"]);return d!=null&&r(o,["config"],iA(d,o)),o}function Vt(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Wn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function lA(n){const e={},o=a(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=a(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=a(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function sA(n){const e={},o=a(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=a(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function aA(n){const e={},o=a(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function rA(n){const e={},o=a(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=a(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function uA(n){const e={},o=a(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],Vt(o));const l=a(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=a(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=a(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],lA(d));const m=a(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],sA(m));const g=a(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],aA(g));const y=a(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],rA(y)),e}function cA(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=a(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=a(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const M=a(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const R=a(n,["outputMimeType"]);e!==void 0&&R!=null&&r(e,["parameters","outputOptions","mimeType"],R);const D=a(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&r(e,["parameters","outputOptions","compressionQuality"],D);const q=a(n,["addWatermark"]);e!==void 0&&q!=null&&r(e,["parameters","addWatermark"],q);const X=a(n,["editMode"]);e!==void 0&&X!=null&&r(e,["parameters","editMode"],X);const J=a(n,["baseSteps"]);return e!==void 0&&J!=null&&r(e,["parameters","editConfig","baseSteps"],J),o}function fA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=a(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>uA(y))),r(o,["instances[0]","referenceImages"],g)}const m=a(e,["config"]);return m!=null&&r(o,["config"],cA(m,o)),o}function dA(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=a(n,["outputMimeType"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","mimeType"],d);const m=a(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const g=a(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const y=a(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=a(n,["numberOfImages"]);e!==void 0&&h!=null&&r(e,["parameters","sampleCount"],h);const v=a(n,["mode"]);return e!==void 0&&v!=null&&r(e,["parameters","mode"],v),o}function mA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["image"]);c!=null&&r(o,["instances[0]","image"],Vt(c));const d=a(e,["upscaleFactor"]);d!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=a(e,["config"]);return m!=null&&r(o,["config"],dA(m,o)),o}function pA(n){const e={},o=a(n,["productImage"]);return o!=null&&r(e,["image"],Vt(o)),e}function hA(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],Vt(c));const d=a(n,["productImages"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>pA(g))),r(e,["instances[0]","productImages"],m)}return o}function gA(n,e){const o={},l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const d=a(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const m=a(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=a(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const h=a(n,["addWatermark"]);e!==void 0&&h!=null&&r(e,["parameters","addWatermark"],h);const v=a(n,["outputMimeType"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","mimeType"],v);const C=a(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C);const S=a(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function yA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["source"]);c!=null&&r(o,["config"],hA(c,o));const d=a(e,["config"]);return d!=null&&r(o,["config"],gA(d,o)),o}function vA(n){const e={},o=a(n,["image"]);return o!=null&&r(e,["image"],Vt(o)),e}function TA(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],Vt(c));const d=a(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],vA(d)),o}function xA(n,e){const o={},l=a(n,["mode"]);e!==void 0&&l!=null&&r(e,["parameters","mode"],l);const c=a(n,["maxPredictions"]);e!==void 0&&c!=null&&r(e,["parameters","maxPredictions"],c);const d=a(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const m=a(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const g=a(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),o}function CA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["source"]);c!=null&&r(o,["config"],TA(c,o));const d=a(e,["config"]);return d!=null&&r(o,["config"],xA(d,o)),o}function SA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function EA(n,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const d=a(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const m=a(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=a(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],ph(n,g)),l}function AA(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],EA(n,l,o)),o}function _A(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=a(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function MA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],_A(c,o)),o}function NA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function RA(n,e){const o={},l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],Ki(st(l)));const c=a(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Ih(g))),r(e,["tools"],m)}const d=a(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),o}function bA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>Ki(g))),r(o,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(o,["config"],RA(d,o)),o}function wA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>Ki(g))),r(o,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(o,["config"],d),o}function Uh(n){const e={},o=a(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Wn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function DA(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],Vt(c));const d=a(n,["video"]);return e!==void 0&&d!=null&&r(e,["instances[0]","video"],Uh(d)),o}function IA(n){const e={},o=a(n,["image"]);o!=null&&r(e,["image"],Vt(o));const l=a(n,["referenceType"]);return l!=null&&r(e,["referenceType"],l),e}function UA(n){const e={},o=a(n,["image"]);o!=null&&r(e,["_self"],Vt(o));const l=a(n,["maskMode"]);return l!=null&&r(e,["maskMode"],l),e}function PA(n,e){const o={},l=a(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=a(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=a(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=a(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=a(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const h=a(n,["resolution"]);e!==void 0&&h!=null&&r(e,["parameters","resolution"],h);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const S=a(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const M=a(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const R=a(n,["generateAudio"]);e!==void 0&&R!=null&&r(e,["parameters","generateAudio"],R);const D=a(n,["lastFrame"]);e!==void 0&&D!=null&&r(e,["instances[0]","lastFrame"],Vt(D));const q=a(n,["referenceImages"]);if(e!==void 0&&q!=null){let O=q;Array.isArray(O)&&(O=O.map(K=>IA(K))),r(e,["instances[0]","referenceImages"],O)}const X=a(n,["mask"]);e!==void 0&&X!=null&&r(e,["instances[0]","mask"],UA(X));const J=a(n,["compressionQuality"]);return e!==void 0&&J!=null&&r(e,["parameters","compressionQuality"],J),o}function LA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],Me(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=a(e,["image"]);d!=null&&r(o,["instances[0]","image"],Vt(d));const m=a(e,["video"]);m!=null&&r(o,["instances[0]","video"],Uh(m));const g=a(e,["source"]);g!=null&&r(o,["config"],DA(g,o));const y=a(e,["config"]);return y!=null&&r(o,["config"],PA(y,o)),o}function kA(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function VA(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function qA(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function GA(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function HA(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],kA(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],VA(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],qA(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],GA(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function BA(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>HA(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function zA(n){const e={},o=a(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function FA(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function JA(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>FA(c))),r(e,["urlMetadata"],l)}return e}function YA(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],BA(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],zA(l));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],JA(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=a(n,["index"]);h!=null&&r(e,["index"],h);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Yp(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>YA(h))),r(e,["candidates"],y)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=a(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function OA(n){const e={},o=a(n,["values"]);return o!=null&&r(e,["values"],o),e}function KA(){return{}}function XA(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>OA(m))),r(e,["embeddings"],d)}return a(n,["metadata"])!=null&&r(e,["metadata"],KA()),e}function QA(n){const e={},o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],Wn(o));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Ph(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function $A(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["image"],QA(o));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],Ph(c)),e}function ZA(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>$A(m))),r(e,["generatedImages"],d)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Ph(c)),e}function WA(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function ou(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["version"]);d!=null&&r(e,["version"],d);const m=a(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],WA(m));const g=a(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=a(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const h=a(n,["supportedGenerationMethods"]);return h!=null&&r(e,["supportedActions"],h),e}function jA(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let d=hh(c);Array.isArray(d)&&(d=d.map(m=>ou(m))),r(e,["models"],d)}return e}function e_(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function t_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const c=a(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function n_(n){const e={},o=a(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],Wn(l));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function i_(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],n_(o)),e}function o_(n){const e={},o=a(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>i_(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function l_(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],o_(m)),e}function s_(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function a_(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function r_(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function u_(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function c_(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],s_(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],a_(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],r_(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],u_(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function f_(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>c_(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function d_(n){const e={},o=a(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function m_(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function p_(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>m_(c))),r(e,["urlMetadata"],l)}return e}function h_(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],f_(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],d_(l));const c=a(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],p_(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=a(n,["index"]);h!=null&&r(e,["index"],h);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Op(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>h_(v))),r(e,["candidates"],h)}const c=a(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=a(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const m=a(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=a(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function g_(n){const e={},o=a(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=a(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function y_(n){const e={},o=a(n,["values"]);o!=null&&r(e,["values"],o);const l=a(n,["statistics"]);return l!=null&&r(e,["statistics"],g_(l)),e}function v_(n){const e={},o=a(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function T_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>y_(m))),r(e,["embeddings"],d)}const c=a(n,["metadata"]);return c!=null&&r(e,["metadata"],v_(c)),e}function Lh(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Wn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function kh(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function Ms(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["image"],Lh(o));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(n,["_self"]);c!=null&&r(e,["safetyAttributes"],kh(c));const d=a(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function x_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Ms(m))),r(e,["generatedImages"],d)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],kh(c)),e}function C_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ms(d))),r(e,["generatedImages"],c)}return e}function S_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ms(d))),r(e,["generatedImages"],c)}return e}function E_(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ms(c))),r(e,["generatedImages"],l)}return e}function A_(n){const e={},o=a(n,["label"]);o!=null&&r(e,["label"],o);const l=a(n,["score"]);return l!=null&&r(e,["score"],l),e}function __(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["mask"],Lh(o));const l=a(n,["labels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>A_(d))),r(e,["labels"],c)}return e}function M_(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>__(c))),r(e,["generatedMasks"],l)}return e}function N_(n){const e={},o=a(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=a(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function R_(n){const e={},o=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function b_(n){const e={},o=a(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(n,["step"]);return c!=null&&r(e,["step"],c),e}function lu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["versionId"]);d!=null&&r(e,["version"],d);const m=a(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>N_(S))),r(e,["endpoints"],C)}const g=a(n,["labels"]);g!=null&&r(e,["labels"],g);const y=a(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],R_(y));const h=a(n,["defaultCheckpointId"]);h!=null&&r(e,["defaultCheckpointId"],h);const v=a(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>b_(S))),r(e,["checkpoints"],C)}return e}function w_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let d=hh(c);Array.isArray(d)&&(d=d.map(m=>lu(m))),r(e,["models"],d)}return e}function D_(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function I_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function U_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function P_(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],Wn(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function L_(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],P_(o)),e}function k_(n){const e={},o=a(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>L_(m))),r(e,["generatedVideos"],d)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function V_(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response"]);return m!=null&&r(e,["response"],k_(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_="Content-Type",G_="X-Server-Timeout",H_="User-Agent",su="x-goog-api-client",B_="1.19.0",z_=`google-genai-sdk/${B_}`,F_="v1beta1",J_="v1beta",Kp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Y_{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:F_,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:J_,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(o))typeof d=="object"?l[c]=Object.assign(Object.assign({},l[c]),d):d!==void 0&&(l[c]=d);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&O_(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await Xp(c),new jr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await Xp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return zi(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Ve(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const C=JSON.parse(h);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),M=S.status,R=S.code,D=`got status: ${M}. ${JSON.stringify(C)}`;if(R>=400&&R<600)throw new As({message:D,status:R})}}catch(C){if(C.name==="ApiError")throw C}m+=h;let v=m.match(Kp);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ve(new jr(S)),m=m.slice(v[0].length),v=m.match(Kp)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=z_+" "+this.clientOptions.userAgentExtra;return e[H_]=o,e[su]=o,e[q_]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(G_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);c.sizeBytes=String(m.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:ne("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Xp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new As({message:c,status:o}):new Error(c)}}function O_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=l(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const c=l(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K_="mcp_used/unknown";let X_=!1;function Vh(n){for(const e of n)if(Q_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return X_}function qh(n){var e;const o=(e=n[su])!==null&&e!==void 0?e:"";n[su]=(o+` ${K_}`).trimStart()}function Q_(n){return n!==null&&typeof n=="object"&&n instanceof Eu}function $_(n,e=100){return zi(this,arguments,function*(){let l,c=0;for(;c<e;){const d=yield Ve(n.listTools({cursor:l}));for(const m of d.tools)yield yield Ve(m),c++;if(!d.nextCursor)break;l=d.nextCursor}})}class Eu{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Eu(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,el($_(v))),h;h=await y.next(),e=h.done,!e;g=!0){c=h.value,g=!1;const C=c;m.push(C);const S=C.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=v}}catch(C){o={error:C}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),f0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await c.callTool({name:l.name,arguments:l.args},void 0,d);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Z_(n,e,o){const l=new i0;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const d=NS(c);Object.assign(l,d),e(l)}class W_{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=tM(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(O=>{h=O}),C=e.callbacks,S=function(){h({})},M=this.apiClient,R={onopen:S,onmessage:O=>{Z_(M,C.onmessage,O)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(O){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(O){}},D=this.webSocketFactory.create(y,eM(m),R);D.connect(),await v;const q=Me(this.apiClient,e.model),X=Mh({model:q}),J=iu({setup:X});return D.send(JSON.stringify(J)),new j_(D,this.apiClient)}}class j_{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=AC(e),l=Nh(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=_C(e),l=iu(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=iu({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Hi.PLAY)}pause(){this.sendPlaybackControl(Hi.PAUSE)}stop(){this.sendPlaybackControl(Hi.STOP)}resetContext(){this.sendPlaybackControl(Hi.RESET_CONTEXT)}close(){this.conn.close()}}function eM(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function tM(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iM(n,e,o){const l=new n0;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const d=JSON.parse(c);if(n.isVertexAI()){const m=HS(d);Object.assign(l,m)}else{const m=vS(d);Object.assign(l,m)}e(l)}class oM{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new W_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,d,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Vh(e.config.tools)&&qh(C);const S=rM(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const j=this.apiClient.getApiKey();let ue="BidiGenerateContent",de="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",de="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ue}?${de}=${j}`}let M=()=>{};const R=new Promise(j=>{M=j}),D=e.callbacks,q=function(){var j;(j=D==null?void 0:D.onopen)===null||j===void 0||j.call(D),M({})},X=this.apiClient,J={onopen:q,onmessage:j=>{iM(X,D.onmessage,j)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(j){},onclose:(l=D==null?void 0:D.onclose)!==null&&l!==void 0?l:function(j){}},O=this.webSocketFactory.create(v,aM(S),J);O.connect(),await R;let K=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const j=this.apiClient.getProject(),ue=this.apiClient.getLocation();K=`projects/${j}/locations/${ue}/`+K}let G={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xs.AUDIO]}:e.config.responseModalities=[xs.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],ie=[];for(const j of te)if(this.isCallableTool(j)){const ue=j;ie.push(await ue.tool())}else ie.push(j);ie.length>0&&(e.config.tools=ie);const pe={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=eS(this.apiClient,pe):G=xC(this.apiClient,pe),delete G.config,O.send(JSON.stringify(G)),new sM(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lM={turnComplete:!0};class sM{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Ut(o.turns),e.isVertexAI()?l=l.map(c=>Ki(c)):l=l.map(c=>_s(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(nM)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},lM),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:iS(e)}:o={realtimeInput:EC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function aM(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function rM(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp=10;function $p(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Fi(m)){c=!0;break}if(!c)return!0;const d=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Fi(n){return"callTool"in n&&typeof n.callTool=="function"}function uM(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Fi(c)))!==null&&l!==void 0?l:!1}function cM(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Fi(c)))!==null&&l!==void 0?l:!1}function Zp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fM extends Zn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!uM(o)||$p(o.config))return await this.generateContentInternal(y);if(cM(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const C=Ut(y.contents),S=(d=(c=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Qp;let M=0;for(;M<S&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const R=h.candidates[0].content,D=[];for(const q of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Fi(q)){const J=await q.callTool(h.functionCalls);D.push(...J)}M++,v={role:"user",parts:D},y.contents=Ut(y.contents),y.contents.push(R),y.contents.push(v),Zp(y.config)&&(C.push(R),C.push(v))}return Zp(y.config)&&(h.automaticFunctionCallingHistory=C),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),$p(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let d;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new tl($n.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>{if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,c;const d=(o=e.config)===null||o===void 0?void 0:o.tools;if(!d)return e;const m=await Promise.all(d.map(async y=>Fi(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Vh(e.config.tools)){const y=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),qh(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var o,l,c;const d=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Fi(m)){const g=m,y=await g.tool();for(const h of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(e){var o,l,c;const d=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:Qp;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(h,v,C){var S,M;return zi(this,arguments,function*(){for(var R,D,q,X;g<d;){m&&(g++,m=!1);const G=yield Ve(h.processParamsMaybeAddMcpUsage(C)),te=yield Ve(h.generateContentStreamInternal(G)),ie=[],pe=[];try{for(var J=!0,O=(D=void 0,el(te)),K;K=yield Ve(O.next()),R=K.done,!R;J=!0){X=K.value,J=!1;const j=X;if(yield yield Ve(j),j.candidates&&(!((S=j.candidates[0])===null||S===void 0)&&S.content)){pe.push(j.candidates[0].content);for(const ue of(M=j.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<d&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const de=yield Ve(v.get(ue.functionCall.name).callTool([ue.functionCall]));ie.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(j){D={error:j}}finally{try{!J&&!R&&(q=O.return)&&(yield Ve(q.call(O)))}finally{if(D)throw D.error}}if(ie.length>0){m=!0;const j=new jo;j.candidates=[{content:{role:"user",parts:ie}}],yield yield Ve(j);const ue=[];ue.push(...pe),ue.push({role:"user",parts:ie});const de=Ut(C.contents).concat(ue);C.contents=de}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Jp(this.apiClient,e);return g=ne("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Op(v),S=new jo;return Object.assign(S,C),S})}else{const h=Fp(this.apiClient,e);return g=ne("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Yp(v),S=new jo;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Jp(this.apiClient,e);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(C){return zi(this,arguments,function*(){var S,M,R,D;try{for(var q=!0,X=el(C),J;J=yield Ve(X.next()),S=J.done,!S;q=!0){D=J.value,q=!1;const O=D,K=Op(yield Ve(O.json()));K.sdkHttpResponse={headers:O.headers};const G=new jo;Object.assign(G,K),yield yield Ve(G)}}catch(O){M={error:O}}finally{try{!q&&!S&&(R=X.return)&&(yield Ve(R.call(X)))}finally{if(M)throw M.error}}})})}else{const h=Fp(this.apiClient,e);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(C){return zi(this,arguments,function*(){var S,M,R,D;try{for(var q=!0,X=el(C),J;J=yield Ve(X.next()),S=J.done,!S;q=!0){D=J.value,q=!1;const O=D,K=Yp(yield Ve(O.json()));K.sdkHttpResponse={headers:O.headers};const G=new jo;Object.assign(G,K),yield yield Ve(G)}}catch(O){M={error:O}}finally{try{!q&&!S&&(R=X.return)&&(yield Ve(R.call(X)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nA(this.apiClient,e);return g=ne("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=T_(v),S=new Ep;return Object.assign(S,C),S})}else{const h=mE(this.apiClient,e);return g=ne("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=XA(v),S=new Ep;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=oA(this.apiClient,e);return g=ne("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=x_(v),S=new Ap;return Object.assign(S,C),S})}else{const h=hE(this.apiClient,e);return g=ne("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=ZA(v),S=new Ap;return Object.assign(S,C),S})}}async editImageInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=fA(this.apiClient,e);return d=ne("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=C_(y),v=new Xv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=mA(this.apiClient,e);return d=ne("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=S_(y),v=new Qv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=yA(this.apiClient,e);return d=ne("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const h=E_(y),v=new $v;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=CA(this.apiClient,e);return d=ne("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const h=M_(y),v=new Zv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=SA(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}else{const h=gE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}}async listInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=AA(this.apiClient,e);return g=ne("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=w_(v),S=new _p;return Object.assign(S,C),S})}else{const h=vE(this.apiClient,e);return g=ne("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=jA(v),S=new _p;return Object.assign(S,C),S})}}async update(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MA(this.apiClient,e);return g=ne("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}else{const h=xE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}}async delete(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NA(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=D_(v),S=new Mp;return Object.assign(S,C),S})}else{const h=CE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=e_(v),S=new Mp;return Object.assign(S,C),S})}}async countTokens(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bA(this.apiClient,e);return g=ne("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=I_(v),S=new Np;return Object.assign(S,C),S})}else{const h=EE(this.apiClient,e);return g=ne("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=t_(v),S=new Np;return Object.assign(S,C),S})}}async computeTokens(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=wA(this.apiClient,e);return d=ne("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=U_(y),v=new Wv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=LA(this.apiClient,e);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=V_(v),S=new Cs;return Object.assign(S,C),S})}else{const h=ME(this.apiClient,e);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const C=l_(v),S=new Cs;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dM extends Zn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Gv(e);return g=ne("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const h=Vv(e);return g=ne("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=qv(e);return d=ne("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mM(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Gh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],mM(o)),e}function pM(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Gh(l)),e}function hM(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>pM(c))),r(e,["speakerVoiceConfigs"],l)}return e}function gM(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Gh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],hM(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function yM(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function vM(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function TM(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function xM(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function CM(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],yM(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],vM(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],TM(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],xM(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=a(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function SM(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>CM(d))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function EM(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function AM(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function _M(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],AM(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function MM(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function NM(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],MM(o)),e}function RM(){return{}}function bM(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function wM(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>EM(h))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],_M(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],NM(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],RM());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],bM(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function DM(n){const e={},o=a(n,["handle"]);if(o!=null&&r(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wp(){return{}}function IM(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function UM(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],IM(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function PM(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function LM(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],PM(l)),e}function kM(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function VM(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=a(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],gM(Cu(C)));const S=a(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const M=a(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],SM(st(M)));const R=a(n,["tools"]);if(e!==void 0&&R!=null){let G=Yi(R);Array.isArray(G)&&(G=G.map(te=>wM(Ji(te)))),r(e,["setup","tools"],G)}const D=a(n,["sessionResumption"]);e!==void 0&&D!=null&&r(e,["setup","sessionResumption"],DM(D));const q=a(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&r(e,["setup","inputAudioTranscription"],Wp());const X=a(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&r(e,["setup","outputAudioTranscription"],Wp());const J=a(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&r(e,["setup","realtimeInputConfig"],UM(J));const O=a(n,["contextWindowCompression"]);e!==void 0&&O!=null&&r(e,["setup","contextWindowCompression"],LM(O));const K=a(n,["proactivity"]);return e!==void 0&&K!=null&&r(e,["setup","proactivity"],kM(K)),o}function qM(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],Me(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],VM(c,o)),o}function GM(n,e,o){const l={},c=a(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const d=a(e,["newSessionExpireTime"]);o!==void 0&&d!=null&&r(o,["newSessionExpireTime"],d);const m=a(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const g=a(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],qM(n,g));const y=a(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),l}function HM(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],GM(n,l,o)),o}function BM(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(d=>`${o}.${d}`);e.push(...c)}else e.push(o)}return e.join(",")}function FM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,o=d):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const d=zM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class JM extends Zn{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=HM(this.apiClient,e);d=ne("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=FM(g,e.config);return c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>BM(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YM(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function OM(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function KM(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],OM(o,e)),e}function XM(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function QM(n){const e={},o=a(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=a(n,["output"]);return l!=null&&r(e,["output"],l),e}function $M(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>QM(c))),r(e,["examples","examples"],l)}return e}function ZM(n,e){const o={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=a(n,["learningRateMultiplier"]);if(d!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=a(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=a(n,["learningRate"]);if(e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function WM(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const c=a(n,["trainingDataset"]);c!=null&&r(e,["tuningTask","trainingData"],$M(c));const d=a(n,["config"]);return d!=null&&r(e,["config"],ZM(d,e)),e}function jM(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function eN(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function tN(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],eN(o,e)),e}function nN(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function iN(n,e){const o={},l=a(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function oN(n,e){const o={},l=a(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function lN(n,e){const o={},l=a(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],oN(l,o));const c=a(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=a(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=a(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=a(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=a(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const h=a(n,["preTunedModelCheckpointId"]);h!=null&&r(o,["preTunedModel","checkpointId"],h);const v=a(n,["adapterSize"]);if(e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const C=a(n,["labels"]);return e!==void 0&&C!=null&&r(e,["labels"],C),o}function sN(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const c=a(n,["trainingDataset"]);c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],iN(c,e));const d=a(n,["config"]);return d!=null&&r(e,["config"],lN(d,e)),e}function aN(n){const e={},o=a(n,["name"]);o!=null&&r(e,["model"],o);const l=a(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Hh(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],dh(c));const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=a(n,["description"]);h!=null&&r(e,["description"],h);const v=a(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=a(n,["_self"]);C!=null&&r(e,["tunedModel"],aN(C));const S=a(n,["customBaseModel"]);S!=null&&r(e,["customBaseModel"],S);const M=a(n,["experiment"]);M!=null&&r(e,["experiment"],M);const R=a(n,["labels"]);R!=null&&r(e,["labels"],R);const D=a(n,["outputUri"]);D!=null&&r(e,["outputUri"],D);const q=a(n,["pipelineJob"]);q!=null&&r(e,["pipelineJob"],q);const X=a(n,["serviceAccount"]);X!=null&&r(e,["serviceAccount"],X);const J=a(n,["tunedModelDisplayName"]);return J!=null&&r(e,["tunedModelDisplayName"],J),e}function rN(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Hh(m))),r(e,["tuningJobs"],d)}return e}function uN(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["metadata"]);c!=null&&r(e,["metadata"],c);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const m=a(n,["error"]);return m!=null&&r(e,["error"],m),e}function cN(n){const e={},o=a(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(n,["step"]);c!=null&&r(e,["step"],c);const d=a(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function fN(n){const e={},o=a(n,["model"]);o!=null&&r(e,["model"],o);const l=a(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=a(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>cN(m))),r(e,["checkpoints"],d)}return e}function au(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],dh(c));const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=a(n,["error"]);h!=null&&r(e,["error"],h);const v=a(n,["description"]);v!=null&&r(e,["description"],v);const C=a(n,["baseModel"]);C!=null&&r(e,["baseModel"],C);const S=a(n,["tunedModel"]);S!=null&&r(e,["tunedModel"],fN(S));const M=a(n,["preTunedModel"]);M!=null&&r(e,["preTunedModel"],M);const R=a(n,["supervisedTuningSpec"]);R!=null&&r(e,["supervisedTuningSpec"],R);const D=a(n,["tuningDataStats"]);D!=null&&r(e,["tuningDataStats"],D);const q=a(n,["encryptionSpec"]);q!=null&&r(e,["encryptionSpec"],q);const X=a(n,["partnerModelTuningSpec"]);X!=null&&r(e,["partnerModelTuningSpec"],X);const J=a(n,["customBaseModel"]);J!=null&&r(e,["customBaseModel"],J);const O=a(n,["experiment"]);O!=null&&r(e,["experiment"],O);const K=a(n,["labels"]);K!=null&&r(e,["labels"],K);const G=a(n,["outputUri"]);G!=null&&r(e,["outputUri"],G);const te=a(n,["pipelineJob"]);te!=null&&r(e,["pipelineJob"],te);const ie=a(n,["serviceAccount"]);ie!=null&&r(e,["serviceAccount"],ie);const pe=a(n,["tunedModelDisplayName"]);return pe!=null&&r(e,["tunedModelDisplayName"],pe),e}function dN(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>au(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mN extends Zn{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new tl($n.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel},c=Object.assign(Object.assign({},o),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),c=await this.tuneMldevInternal(l);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:Wr.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=jM(e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>au(v))}else{const h=YM(e);return g=ne("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Hh(v))}}async listInternal(e){var o,l,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tN(e);return g=ne("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=dN(v),S=new Rp;return Object.assign(S,C),S})}else{const h=KM(e);return g=ne("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=rN(v),S=new Rp;return Object.assign(S,C),S})}}async cancel(e){var o,l,c,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=nN(e);m=ne("{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=XM(e);m=ne("{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=sN(e);return d=ne("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>au(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WM(e);return d=ne("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>uN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pN{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hN=1024*1024*8,gN=3,yN=1e3,vN=2,$r="x-goog-upload-status";async function TN(n,e,o){var l,c,d;let m=0,g=0,y=new jr(new Response),h="upload";for(m=n.size;g<m;){const C=Math.min(hN,m-g),S=n.slice(g,g+C);g+C>=m&&(h+=", finalize");let M=0,R=yN;for(;M<gN&&(y=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[$r]));)M++,await CN(R),R=R*vN;if(g+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[$r])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[$r])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function xN(n){return{size:n.size,type:n.type}}function CN(n){return new Promise(e=>setTimeout(e,n))}class SN{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TN(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EN{create(e,o,l){return new AN(e,o,l)}}class AN{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp="x-goog-api-key";class _N{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(jp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MN="gl-node/";class NN{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=kv(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new _N(this.apiKey);this.apiClient=new Y_({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:MN+"web",uploader:new SN,downloader:new pN}),this.models=new fM(this.apiClient),this.live=new oM(this.apiClient,c,new EN),this.batches=new NT(this.apiClient),this.chats=new Lx(this.models,this.apiClient),this.caches=new Ix(this.apiClient),this.files=new Xx(this.apiClient),this.operations=new dM(this.apiClient),this.authTokens=new JM(this.apiClient),this.tunings=new mN(this.apiClient)}}let Ke=null,Et=null,ru=null,uu=null,cu=null;const Zr=(n,e,o,l)=>{if(!e){Ke=null,Et=null;return}if(n==="gemini")try{Et=new NN({apiKey:e}),Ke="gemini"}catch(c){console.error("Failed to initialize GoogleGenAI:",c),Et=null,Ke=null}else n==="openai"?(Ke="openai",Et=null):n==="groq"?(Ke="groq",Et=null):n==="custom"?e&&o&&l?(Ke="custom",ru=e,uu=o,cu=l,Et=null):Ke=null:(Ke=null,Et=null)},Bh={type:we.OBJECT,properties:{planTitle:{type:we.STRING,description:"A catchy title for the 4-week exercise plan."},durationWeeks:{type:we.INTEGER,description:"The total duration of the plan in weeks, which should be 4."},weeklyPlans:{type:we.ARRAY,description:"An array of weekly plans, one for each of the 4 weeks.",items:{type:we.OBJECT,properties:{week:{type:we.INTEGER,description:"The week number (1, 2, 3, or 4)."},focus:{type:we.STRING,description:"The main focus for this week (e.g., 'Mobility and Pain Reduction', 'Strength Building')."},exercises:{type:we.ARRAY,description:"A list of exercises for the week.",items:{type:we.OBJECT,properties:{name:{type:we.STRING,description:"Name of the exercise."},sets:{type:we.STRING,description:"Number of sets (e.g., '3')."},reps:{type:we.STRING,description:"Number of repetitions per set (e.g., '10-12')."},notes:{type:we.STRING,description:"Brief instructions or points of focus for the exercise."}},required:["name","sets","reps","notes"]}}},required:["week","focus","exercises"]}}},required:["planTitle","durationWeeks","weeklyPlans"]},RN=async(n,e,o)=>{if(!Et)throw new Error("Gemini AI Service not initialized. Please set your API Key in the profile settings.");const l=`
    Generate a 4-week physiotherapy exercise plan for a person with the following details:
    - Age: ${n}
    - Health Complaints/Goals: ${e}
    - Current Activity Level: ${o}

    The plan should be safe, progressive, and tailored to these details. Ensure it includes a mix of mobility, strengthening, and stretching exercises. 
    The output must strictly follow the provided JSON schema.
  `;try{const d=(await Et.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:Bh}})).text.trim();if(!d)throw new Error("Received an empty response from the AI model.");const m=JSON.parse(d);if(!m.weeklyPlans||m.weeklyPlans.length!==4)throw new Error("AI response did not generate a valid 4-week plan.");return m}catch(c){throw console.error("Error generating exercise plan with Gemini:",c),new Error("Failed to generate exercise plan. Please check your API Key or try again later.")}},zh={type:we.OBJECT,properties:{deviations:{type:we.ARRAY,description:"List of identified postural deviations.",items:{type:we.OBJECT,properties:{area:{type:we.STRING,description:"Body area with the deviation (e.g., 'Head', 'Shoulders', 'Pelvis')."},deviation:{type:we.STRING,description:"Description of the deviation (e.g., 'Forward Head Posture', 'Rounded Shoulders')."}},required:["area","deviation"]}},riskLevel:{type:we.STRING,description:"Overall risk assessment of the posture.",enum:["Low","Medium","High"]},recommendations:{type:we.ARRAY,description:"Actionable recommendations and exercises to correct the posture.",items:{type:we.STRING}}},required:["deviations","riskLevel","recommendations"]},bN=async(n,e)=>{if(!Et)throw new Error("Gemini AI Service not initialized. Please set your API Key in the profile settings.");const o=`
        Analyze the posture of the person in this image. 
        Identify key postural deviations from a side-view perspective.
        Assess the overall risk level as Low, Medium, or High.
        Provide actionable recommendations, including specific exercises, to help correct these deviations.
        The output must strictly follow the provided JSON schema.
    `,l={inlineData:{data:n,mimeType:e}},c={text:o};try{const m=(await Et.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[l,c]},config:{responseMimeType:"application/json",responseSchema:zh}})).text.trim();if(!m)throw new Error("Received an empty response from the AI model.");const g=JSON.parse(m);if(!g.deviations||!g.riskLevel||!g.recommendations)throw new Error("AI response is missing required fields for posture analysis.");return g}catch(d){throw console.error("Error analyzing posture with Gemini:",d),new Error("Failed to analyze posture. The image might be unclear or the service is unavailable.")}},Au=async(n,e,o,l)=>{var y,h;if(!uu||!ru||!cu)throw new Error("Custom AI Provider is not configured correctly. Please check API Base URL, Key, and Model Name in settings.");const c=`${uu.replace(/\/$/,"")}/chat/completions`,d=[...l||[]],m=[{type:"text",text:n}];e&&o&&m.push({type:"image_url",image_url:{url:`data:${o};base64,${e}`}}),d.push({role:"user",content:m});const g={model:cu,messages:d,...e?{}:{response_format:{type:"json_object"}}};try{const v=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ru}`},body:JSON.stringify(g)});if(!v.ok){const M=await v.text();throw console.error("Custom provider API error:",M),new Error(`API request failed with status ${v.status}: ${v.statusText}`)}const S=(h=(y=(await v.json()).choices[0])==null?void 0:y.message)==null?void 0:h.content;if(!S)throw new Error("Received an empty or invalid response from the custom AI model.");try{return JSON.parse(S)}catch{return S}}catch(v){throw console.error("Error with Custom AI Provider:",v),new Error("Failed to generate content with the custom provider. Please check your settings and network connection.")}},_u=()=>{throw new Error("OpenAI is not implemented in this version. Please select Google Gemini as the AI provider.")},Mu=()=>{throw new Error("Groq is not implemented in this version. Please select Google Gemini as the AI provider.")},wN=async(n,e,o)=>{if(Ke==="gemini")return RN(n,e,o);if(Ke==="custom"){const l=JSON.stringify(Bh.properties,null,2).replace(/"/g,"'"),c=`
            Generate a 4-week physiotherapy exercise plan for a person with the following details:
            - Age: ${n}
            - Health Complaints/Goals: ${e}
            - Current Activity Level: ${o}

            The plan should be safe, progressive, and tailored to these details. 
            The output must be a single, valid JSON object that strictly adheres to the following structure. Do not include any other text, markdown, or explanations outside of the JSON object.
            Schema:
            ${l}
        `;return Au(c)}throw Ke==="openai"&&_u(),Ke==="groq"&&Mu(),new Error("AI Service not configured. Please select a provider and set your API Key in settings.")},DN=async(n,e)=>{if(Ke==="gemini")return bN(n,e);if(Ke==="custom"){const l=`
            Analyze the posture of the person in this image. 
            Identify key postural deviations from a side-view perspective.
            Assess the overall risk level as Low, Medium, or High.
            Provide actionable recommendations, including specific exercises, to help correct these deviations.
            The output must be a single, valid JSON object that strictly adheres to the following structure. Do not include any other text, markdown, or explanations outside of the JSON object.
            Schema:
            ${JSON.stringify(zh.properties,null,2).replace(/"/g,"'")}
        `;return Au(l,n,e)}throw Ke==="openai"&&_u(),Ke==="groq"&&Mu(),new Error("AI Service not configured. Please select a provider and set your API Key in settings.")},eh=`You are an AI assistant for Physcio Connect, a physiotherapy application. 
Your role is to act as a helpful and empathetic virtual physiotherapist. 
Provide general advice, answer questions about exercises, and offer encouragement. 
You MUST ALWAYS include a brief disclaimer at the end of every message that you are not a real medical professional and the user should consult a doctor for any serious medical concerns. 
Example disclaimer: "Remember, I'm an AI assistant. Please consult a healthcare professional for medical advice."
Do not provide a medical diagnosis. Keep your responses concise and easy to understand.`,IN=async n=>{const e=n.map(o=>({role:o.sender==="user"?"user":"model",parts:[{text:o.text}]}));if(Ke==="gemini"){if(!Et)throw new Error("Gemini AI Service not initialized. Please set your API Key in the profile settings.");try{return(await Et.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{systemInstruction:eh}})).text}catch(o){throw console.error("Error generating chat response with Gemini:",o),new Error("Failed to get a response from the AI. Please try again later.")}}if(Ke==="custom"){const o=[];o.push({role:"system",content:eh}),n.slice(0,-1).forEach(d=>{o.push({role:d.sender==="user"?"user":"assistant",content:d.text})});const l=n[n.length-1],c=await Au(l.text,void 0,void 0,o);return typeof c=="string"?c:JSON.stringify(c)}throw Ke==="openai"&&_u(),Ke==="groq"&&Mu(),new Error("AI Service not configured. Please select a provider and set your API Key in settings.")},Fh=()=>T.jsxs("div",{className:"mt-8 p-4 bg-orange-100 border-l-4 border-[#ff9800] text-[#37474f] rounded-r-lg",children:[T.jsxs("p",{className:"font-semibold",children:[T.jsx("i",{className:"fas fa-exclamation-triangle mr-2 text-[#ff9800]"}),"Disclaimer"]}),T.jsx("p",{className:"text-sm",children:"This tool is for assistance only. Consult a professional physiotherapist if pain persists or worsens."})]}),th=["Improve posture","General flexibility and mobility","Core strengthening","Improve overall balance and coordination","Post-surgical rehabilitation (general)","Mild lower back pain and stiffness","Upper back and neck tension","Shoulder mobility improvement","Wrist and hand strengthening (for office work)","Elbow pain (e.g., Tennis Elbow)","Hip flexibility and strength","Knee stability and pain reduction","Ankle sprain recovery","Foot pain (e.g., Plantar Fasciitis)"],UN=({onAcceptPlan:n})=>{const[e,o]=Y.useState("35"),[l,c]=Y.useState(th[0]),[d,m]=Y.useState("Sedentary (office job)"),[g,y]=Y.useState(null),[h,v]=Y.useState(!1),[C,S]=Y.useState(null),M=async D=>{D.preventDefault(),v(!0),S(null),y(null);try{const q=await wN(e,l,d);y(q)}catch(q){S(q.message||"An unexpected error occurred.")}finally{v(!1)}},R=()=>{g&&n(g)};return T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-4",children:"Exercise Fit Program Generator"}),T.jsxs("form",{onSubmit:M,className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Age"}),T.jsx("input",{type:"text",value:e,onChange:D=>o(D.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Complaints / Goals"}),T.jsx("select",{value:l,onChange:D=>c(D.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",children:th.map(D=>T.jsx("option",{value:D,children:D},D))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Activity Level"}),T.jsxs("select",{value:d,onChange:D=>m(D.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white",children:[T.jsx("option",{children:"Sedentary (office job)"}),T.jsx("option",{children:"Lightly Active (walks 1-2 times/week)"}),T.jsx("option",{children:"Moderately Active (exercises 3-4 times/week)"}),T.jsx("option",{children:"Very Active (exercises 5+ times/week)"})]})]}),T.jsx("div",{className:"md:col-span-3",children:T.jsx("button",{type:"submit",disabled:h,className:"w-full bg-[#00838f] text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-800 disabled:bg-gray-400 transition-colors",children:h?"Generating Your Plan...":"Generate AI Program"})})]}),C&&T.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",role:"alert",children:C}),g&&T.jsxs("div",{className:"mt-8 animate-fade-in",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-[#37474f]",children:g.planTitle}),T.jsxs("button",{onClick:R,className:"bg-green-600 text-white text-sm font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[T.jsx("i",{className:"fas fa-plus-circle mr-2"})," Add Program to Dashboard"]})]}),T.jsx("div",{className:"space-y-6",children:g.weeklyPlans.map(D=>T.jsxs("div",{className:"border border-[#e0e0e0] rounded-lg p-4",children:[T.jsxs("h4",{className:"font-bold text-lg text-[#00838f]",children:["Week ",D.week,": ",D.focus]}),T.jsx("ul",{className:"mt-2 space-y-2",children:D.exercises.map(q=>T.jsxs("li",{className:"p-3 bg-gray-50 rounded",children:[T.jsxs("p",{className:"font-semibold",children:[q.name," - ",q.sets," sets of ",q.reps," reps"]}),T.jsx("p",{className:"text-sm text-[#78909c]",children:q.notes})]},q.name))})]},D.week))})]}),T.jsx(Fh,{})]})},PN=()=>{const n=Y.useRef(null),e=Y.useRef(null),o=Y.useRef(null),l=Y.useRef(null),c=Y.useRef(!1),[d,m]=Y.useState(null);return Y.useEffect(()=>{const g=h=>{const{latitude:v,longitude:C}=h.coords;n.current&&!e.current&&(e.current=L.map(n.current).setView([v,C],15),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e.current),[{name:"HealWell Physiotherapy",lat:v+.01,lng:C-.01,phone:"555-0101",website:"https://example.com"},{name:"ActiveLife Clinic",lat:v-.005,lng:C+.015,phone:"555-0102",website:"https://example.com"},{name:"Flex-It Physio",lat:v+.008,lng:C+.008,phone:"555-0103",website:"https://example.com"}].forEach(R=>{const D=`
                        <div class="font-sans">
                            <h3 class="font-bold text-lg mb-1">${R.name}</h3>
                            <p class="text-sm text-gray-600 mb-1"><i class="fas fa-phone mr-2 text-gray-400"></i>${R.phone}</p>
                            <p class="text-sm text-gray-600 mb-3"><i class="fas fa-globe mr-2 text-gray-400"></i><a href="${R.website}" target="_blank" rel="noopener noreferrer" class="text-teal-600 hover:underline">Visit Website</a></p>
                            <a href="https://www.google.com/maps/dir/?api=1&origin=${v},${C}&destination=${R.lat},${R.lng}" target="_blank" rel="noopener noreferrer" class="bg-[#00838f] text-white text-center text-sm font-semibold py-2 px-4 rounded-lg hover:bg-teal-800 transition-colors w-full block">
                                <i class="fas fa-directions mr-2"></i>Get Directions
                            </a>
                        </div>
                    `;L.marker([R.lat,R.lng]).addTo(e.current).bindPopup(D)}));const S=L.divIcon({className:"custom-div-icon",html:"<div class='live-dot-pulse'></div><div class='live-dot'></div>",iconSize:[16,16],iconAnchor:[8,8]});o.current?o.current.setLatLng([v,C]):o.current=L.marker([v,C],{icon:S}).addTo(e.current).bindPopup("<b>You are here!</b>").openPopup(),e.current&&!c.current&&(e.current.setView([v,C],15),c.current=!0),m(null)},y=h=>{console.error(`Geolocation error - Code: ${h.code}, Message: ${h.message}`);let v;switch(h.code){case 1:v="Geolocation permission was denied. Please enable it in your browser settings to find nearby clinics.",l.current!==null&&(navigator.geolocation.clearWatch(l.current),l.current=null);break;case 2:v=`Your location information is currently unavailable. Please check your network connection or move to an area with a better signal. (${h.message})`;break;case 3:v="The request to get your location timed out. Please try again.";break;default:v=`An unknown error occurred while trying to get your location. (${h.message})`}m(v),n.current&&!e.current&&(e.current=L.map(n.current).setView([51.505,-.09],13),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e.current),L.marker([51.505,-.09]).addTo(e.current).bindPopup("<b>Default Location</b><br>Could not access your current location.").openPopup())};return navigator.geolocation?l.current=navigator.geolocation.watchPosition(g,y,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):m("Geolocation is not supported by this browser."),()=>{l.current!==null&&navigator.geolocation.clearWatch(l.current),e.current&&(e.current.remove(),e.current=null),o.current=null,c.current=!1}},[]),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-4",children:"Find a Physiotherapist Near You"}),T.jsx("p",{className:"text-[#78909c] mb-4",children:"Click on a clinic marker for details and directions."}),d&&T.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg mb-4",role:"alert",children:d}),T.jsx("div",{className:"w-full aspect-video rounded-lg shadow-lg overflow-hidden",children:T.jsx("div",{ref:n,id:"map",className:"h-full w-full"})})]})},LN=()=>{const[n,e]=Y.useState(!0),[o,l]=Y.useState(!1),[c,d]=Y.useState(!1),[m,g]=Y.useState(null),[y,h]=Y.useState(null),[v,C]=Y.useState(null),[S,M]=Y.useState(0),[R,D]=Y.useState(null),q=Y.useRef(null),X=Y.useRef(null),J=Y.useRef(null),O=Y.useRef(null),K=Y.useRef(null),G=Y.useRef(null);Y.useEffect(()=>{const W=async()=>{try{await tf.setBackend("webgl");const b=poseDetection.SupportedModels.MoveNet,z=await poseDetection.createDetector(b);J.current=z,g(null)}catch(b){console.error("Error loading model:",b),g("Failed to load the posture analysis model. Please refresh the page.")}finally{e(!1)}},$=setInterval(()=>{typeof tf<"u"&&typeof poseDetection<"u"&&typeof tf.loadGraphModel=="function"&&(clearInterval($),W())},100);return()=>clearInterval($)},[]);const te=W=>{const $=X.current,b=$==null?void 0:$.getContext("2d");if(!$||!b||!q.current)return;$.width=q.current.videoWidth,$.height=q.current.videoHeight,b.clearRect(0,0,$.width,$.height);const{keypoints:z}=W,Z=le=>z.find(ve=>ve.name===le);for(const le of z)le.score>.5&&(b.beginPath(),b.arc(le.x,le.y,5,0,2*Math.PI),b.fillStyle="#00bfa5",b.fill());const ce=poseDetection.util.getAdjacentPairs(poseDetection.SupportedModels.MoveNet);b.strokeStyle="#00838f",b.lineWidth=3;for(const[le,ve]of ce){const ae=z[le],Je=z[ve];ae.score>.5&&Je.score>.5&&(b.beginPath(),b.moveTo(ae.x,ae.y),b.lineTo(Je.x,Je.y),b.stroke())}b.strokeStyle="#ff9800",b.lineWidth=4;const _=Z("left_shoulder"),H=Z("right_shoulder"),ee=Z("left_hip"),Q=Z("right_hip");_&&H&&_.score>.5&&H.score>.5&&(b.beginPath(),b.moveTo(_.x,_.y),b.lineTo(H.x,H.y),b.stroke()),ee&&Q&&ee.score>.5&&Q.score>.5&&(b.beginPath(),b.moveTo(ee.x,ee.y),b.lineTo(Q.x,Q.y),b.stroke())},ie=Y.useCallback(async()=>{if(J.current&&q.current&&q.current.readyState>=3){const W=await J.current.estimatePoses(q.current);W&&W.length>0&&te(W[0])}K.current=requestAnimationFrame(ie)},[]),pe=async()=>{g(null),h(null),C(null),D(null);try{const W=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});O.current=W,q.current&&(q.current.srcObject=W,q.current.onloadedmetadata=()=>{var $;($=q.current)==null||$.play(),l(!0),ie()})}catch(W){console.error("Camera access error:",W),W.name==="NotAllowedError"||W.name==="PermissionDeniedError"?g("Camera access was denied. Please allow camera permission in your browser settings to use this feature."):W.name==="NotFoundError"||W.name==="DevicesNotFoundError"?g("No camera found. Please ensure a camera is connected and enabled."):g("An error occurred while trying to access the camera.")}},j=()=>{O.current&&O.current.getTracks().forEach(W=>W.stop()),K.current&&cancelAnimationFrame(K.current),G.current&&(clearInterval(G.current),G.current=null),D(null),l(!1)};Y.useEffect(()=>()=>j(),[]);const ue=async()=>{if(!q.current||!X.current)return;const W=X.current,$=q.current,b=W.getContext("2d");b==null||b.drawImage($,0,0,W.width,W.height);const z=W.toDataURL("image/jpeg").split(",")[1];C(W.toDataURL("image/jpeg")),j(),d(!0),g(null),h(null);try{const Z=await DN(z,"image/jpeg");h(Z)}catch(Z){g(Z.message||"An unexpected error occurred during analysis.")}finally{d(!1)}},de=()=>{if(G.current){clearInterval(G.current),G.current=null,D(null);return}S>0?(D(S),G.current=setInterval(()=>{D(W=>W===null||W<=1?(G.current&&clearInterval(G.current),G.current=null,ue(),null):W-1)},1e3)):ue()},ge=()=>{if(!y||!v)return;const{jsPDF:W}=jspdf,$=new W;$.setFont("helvetica","bold"),$.setFontSize(22),$.text("Posture Analysis Report",105,20,{align:"center"}),$.setLineWidth(.5),$.line(10,25,200,25),$.addImage(v,"JPEG",15,35,180,101);let b=150;$.setFontSize(16),$.text("Overall Risk Level:",15,b),$.setFont("helvetica","normal"),$.text(y.riskLevel,65,b),b+=10,$.setFont("helvetica","bold"),$.text("Identified Deviations:",15,b),b+=7,$.setFont("helvetica","normal"),$.setFontSize(12),y.deviations.forEach(ce=>{const _=`- ${ce.area}: ${ce.deviation}`;$.text(_,20,b),b+=7}),b+=5,$.setFont("helvetica","bold"),$.setFontSize(16),$.text("Recommendations & Exercises:",15,b),b+=7,$.setFont("helvetica","normal"),$.setFontSize(12);const z=y.recommendations.map(ce=>`- ${ce}`),Z=$.splitTextToSize(z.join(`
`),175);$.text(Z,20,b),$.save("Posture_Analysis_Report.pdf")},he=W=>{switch(W){case"Low":return"bg-green-100 text-green-800 border-green-400";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-400";case"High":return"bg-red-100 text-red-800 border-red-400";default:return"bg-gray-100 text-gray-800 border-gray-400"}};return T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-4",children:"Posture IQ - AI Posture Analysis"}),T.jsx("p",{className:"text-[#78909c] mb-6",children:"Use your camera for a live AI-powered posture analysis. Stand sideways for best results."}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"relative w-full aspect-video bg-black rounded-lg overflow-hidden shadow-lg",children:[T.jsx("video",{ref:q,className:`w-full h-full object-cover ${!o&&"hidden"}`}),T.jsx("canvas",{ref:X,className:`absolute top-0 left-0 w-full h-full object-cover ${!o&&"hidden"}`}),!o&&v&&T.jsx("img",{src:v,alt:"Captured Posture",className:"w-full h-full object-cover"}),!o&&!v&&T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white",children:[T.jsx("i",{className:"fas fa-video text-5xl mb-4"}),T.jsx("p",{children:"Camera feed will appear here"})]}),R!==null&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 animate-fade-in-fast",children:T.jsx("p",{className:"text-white text-9xl font-bold",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.7)"},children:R})})]}),o&&T.jsxs("div",{className:"my-4 text-center",children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Capture Timer"}),T.jsx("div",{className:"inline-flex rounded-lg shadow-sm",children:[0,3,5,10].map(W=>T.jsx("button",{onClick:()=>M(W),disabled:R!==null,className:`px-4 py-2 text-sm font-medium border-y border-gray-200 transition-colors disabled:opacity-50
                                            ${S===W?"bg-[#00838f] text-white":"bg-white text-gray-800 hover:bg-gray-50"}
                                            ${W===0?"rounded-l-lg border-l":""}
                                            ${W===10?"rounded-r-lg border-x":"border-l"}
                                        `,children:W===0?"Off":`${W}s`},W))})]}),T.jsx("div",{className:"mt-4 flex gap-4",children:o?T.jsx("button",{onClick:de,disabled:c,className:`flex-1 text-white font-bold py-3 px-4 rounded-lg transition-colors
                                    ${R!==null?"bg-red-600 hover:bg-red-700":"bg-[#00bfa5] hover:bg-[#00a794]"}
                                `,children:R!==null?T.jsxs(T.Fragment,{children:[T.jsx("i",{className:"fas fa-times mr-2"})," Cancel"]}):T.jsxs(T.Fragment,{children:[T.jsx("i",{className:"fas fa-camera-retro mr-2"})," ",S>0?`Start ${S}s Timer`:"Capture & Analyze"]})}):T.jsx("button",{onClick:pe,disabled:n,className:"flex-1 bg-[#00838f] text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-800 disabled:bg-gray-400 transition-colors",children:n?"Loading Model...":T.jsxs(T.Fragment,{children:[T.jsx("i",{className:"fas fa-camera mr-2"})," Start Camera"]})})})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-[#37474f]",children:"Analysis Results"}),y&&T.jsxs("button",{onClick:ge,className:"bg-[#00838f] text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-800 transition-colors text-sm",children:[T.jsx("i",{className:"fas fa-file-pdf mr-2"})," Export to PDF"]})]}),m&&T.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",role:"alert",children:m}),c&&T.jsxs("div",{className:"text-center p-8",children:[T.jsx("i",{className:"fas fa-spinner fa-spin text-4xl text-[#00838f]"}),T.jsx("p",{className:"mt-2 text-[#78909c]",children:"Analyzing your posture, please wait..."})]}),y&&T.jsxs("div",{className:"space-y-6 animate-fade-in",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold text-lg text-[#37474f]",children:"Overall Risk Level"}),T.jsx("span",{className:`inline-block mt-2 px-4 py-1 rounded-full text-sm font-bold border ${he(y.riskLevel)}`,children:y.riskLevel})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold text-lg text-[#37474f]",children:"Identified Deviations"}),T.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:y.deviations.map((W,$)=>T.jsxs("li",{className:"text-[#37474f]",children:[T.jsxs("span",{className:"font-bold",children:[W.area,":"]})," ",W.deviation]},$))})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold text-lg text-[#37474f]",children:"Recommendations & Exercises"}),T.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:y.recommendations.map((W,$)=>T.jsx("li",{className:"text-[#37474f]",children:W},$))})]})]}),!c&&!y&&!m&&T.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:T.jsx("p",{className:"text-[#78909c]",children:"Start the camera and capture your posture. The analysis will appear here."})})]})]}),T.jsx(Fh,{})]})},kN=()=>{const[n,e]=Y.useState("video"),[o,l]=Y.useState(!1),[c,d]=Y.useState([]),[m,g]=Y.useState(""),[y,h]=Y.useState(!1),[v,C]=Y.useState(null),S=Y.useRef(null);Y.useEffect(()=>{var K;(K=S.current)==null||K.scrollIntoView({behavior:"smooth"})},[c,y]);const M=K=>{e(K),l(!0),d([{sender:"physio",text:"Hello! I'm your AI physiotherapy assistant. How can I help you today?"}])},R=()=>{l(!1),d([]),g(""),C(null),h(!1)},D=async K=>{if(K.preventDefault(),m.trim()===""||y)return;const G={sender:"user",text:m},te=[...c,G];d(te),g(""),h(!0),C(null);try{const pe={sender:"physio",text:await IN(te)};d(j=>[...j,pe])}catch(ie){C(ie.message||"An unexpected error occurred.")}finally{h(!1)}},q=()=>T.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-2xl",children:[T.jsx("i",{className:"fas fa-headset text-5xl text-[#00bfa5] mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-2",children:"Virtual Consultation"}),T.jsx("p",{className:"text-[#78909c] mb-6",children:"Connect with an AI assistant or simulate a video call."}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[T.jsxs("button",{className:"bg-[#00838f] text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-800 transition-colors",onClick:()=>M("chat"),children:[T.jsx("i",{className:"fas fa-comments mr-2"}),"Start AI Chat"]}),T.jsxs("button",{className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg cursor-not-allowed",title:"Video feature is a mock-up",children:[T.jsx("i",{className:"fas fa-video mr-2"}),"Start Video Call (Demo)"]})]})]}),X=()=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"bg-black rounded-lg h-96 flex items-center justify-center mb-4 shadow-lg relative",children:T.jsxs("div",{className:"absolute text-white text-center",children:[T.jsx("i",{className:"fas fa-video text-5xl mb-2"}),T.jsx("p",{children:"Live Video Feed Area (UI Mock-up)"})]})}),T.jsx("div",{className:"flex justify-center",children:T.jsxs("button",{onClick:R,className:"bg-[#f44336] text-white font-bold py-3 px-6 rounded-lg hover:bg-red-700 transition-colors",children:[T.jsx("i",{className:"fas fa-phone-slash mr-2"})," End Session"]})})]}),J=()=>T.jsx("div",{className:"flex mb-3 justify-start",children:T.jsx("div",{className:"rounded-2xl py-3 px-5 bg-gray-200 text-[#37474f]",children:T.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[T.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0s"}}),T.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),T.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})}),O=()=>T.jsxs("div",{className:"flex flex-col h-[60vh] bg-white border border-gray-200 rounded-lg shadow-lg",children:[T.jsxs("div",{className:"flex-grow p-4 overflow-y-auto bg-gray-50",children:[c.map((K,G)=>T.jsx("div",{className:`flex mb-3 ${K.sender==="user"?"justify-end":"justify-start"}`,children:T.jsx("div",{className:`rounded-2xl py-2 px-4 max-w-xs lg:max-w-md break-words ${K.sender==="user"?"bg-[#00838f] text-white":"bg-gray-200 text-[#37474f]"}`,children:K.text.split(`
`).map((te,ie)=>T.jsx("p",{children:te},ie))})},G)),y&&T.jsx(J,{}),T.jsx("div",{ref:S})]}),v&&T.jsx("p",{className:"text-red-500 text-xs text-center p-2",children:v}),T.jsxs("form",{onSubmit:D,className:"p-4 border-t flex gap-2",children:[T.jsx("input",{type:"text",value:m,onChange:K=>g(K.target.value),placeholder:"Type your message...",disabled:y,className:"flex-grow px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-[#00838f] disabled:bg-gray-100"}),T.jsx("button",{type:"submit",disabled:y,className:"bg-[#00bfa5] text-white font-bold py-2 px-5 rounded-full hover:bg-[#00a794] transition-colors disabled:bg-gray-400",children:"Send"})]}),T.jsx("button",{onClick:R,className:"bg-gray-200 text-gray-700 font-bold py-2 rounded-b-lg hover:bg-gray-300 transition-colors",children:"End Chat"})]});return T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-4",children:"TelePhysio Session"}),o?n==="video"?X():O():q(),T.jsxs("div",{className:"mt-8 p-4 bg-orange-100 border-l-4 border-[#ff9800] text-[#37474f] rounded-r-lg",children:[T.jsxs("p",{className:"font-semibold",children:[T.jsx("i",{className:"fas fa-exclamation-triangle mr-2 text-[#ff9800]"}),"Disclaimer"]}),T.jsx("p",{className:"text-sm",children:"The AI chat is for informational purposes only and is not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition."})]})]})},Jh="physcio_app_data",VN=[{title:"Journal of Orthopaedic & Sports Physical Therapy (JOSPT)",publisher:"JOSPT",year:1979,link:"https://www.jospt.org/"},{title:"Physical Therapy Journal (PTJ)",publisher:"Oxford University Press",year:1921,link:"https://academic.oup.com/ptj"},{title:"PubMed",publisher:"National Library of Medicine (NLM)",year:1996,link:"https://pubmed.ncbi.nlm.nih.gov/"},{title:"The Lancet",publisher:"Elsevier",year:1823,link:"https://www.thelancet.com/"},{title:"ResearchGate",publisher:"ResearchGate GmbH",year:2008,link:"https://www.researchgate.net/"},{title:"British Journal of Sports Medicine (BJSM)",publisher:"BMJ",year:1964,link:"https://bjsm.bmj.com/"},{title:"Archives of Physical Medicine and Rehabilitation",publisher:"Elsevier",year:1920,link:"https://www.archives-pmr.org/"}],Ns=()=>{try{const n=localStorage.getItem(Jh),e=n?JSON.parse(n):{users:[],announcements:[],journals:[]};return e.journals||(e.journals=VN.map((o,l)=>({...o,id:`journal_${l+1}`}))),e}catch(n){return console.error("Failed to parse data from localStorage",n),{users:[],announcements:[],journals:[]}}},Nu=n=>{localStorage.setItem(Jh,JSON.stringify(n))},qN=Ns();Nu(qN);const Yh=()=>(Ns().journals||[]).sort((e,o)=>e.title.localeCompare(o.title)),GN=n=>{const e=Ns(),o={...n,id:`journal_${Date.now()}`};e.journals=[o,...e.journals||[]],Nu(e)},HN=n=>{const e=Ns();e.journals=(e.journals||[]).filter(o=>o.id!==n),Nu(e)},BN=()=>{const[n,e]=Y.useState(""),[o,l]=Y.useState([]);Y.useEffect(()=>{l(Yh())},[]);const c=Y.useMemo(()=>o.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.publisher.toLowerCase().includes(n.toLowerCase())),[n,o]);return T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] mb-4",children:"Trusted Journal Links"}),T.jsxs("div",{className:"mb-6 relative",children:[T.jsx("input",{type:"text",placeholder:"Search journals by title or publisher...",value:n,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 pl-10 rounded-lg border border-[#e0e0e0] focus:outline-none focus:ring-2 focus:ring-[#00838f]"}),T.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),T.jsx("div",{className:"space-y-4",children:c.map(d=>T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-[#e0e0e0] flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-[#00838f]",children:d.title}),T.jsxs("p",{className:"text-sm text-[#78909c]",children:[d.publisher," - Since ",d.year]})]}),T.jsxs("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",className:"bg-[#00bfa5] text-white font-semibold py-2 px-4 rounded-lg hover:bg-[#00a794] transition-colors text-sm whitespace-nowrap",children:["Visit Site ",T.jsx("i",{className:"fas fa-external-link-alt ml-1"})]})]},d.id))})]})},nh=({label:n,icon:e,isActive:o,onClick:l})=>T.jsxs("button",{onClick:l,className:`flex flex-col items-center justify-center w-20 transition-colors duration-200 ${o?"text-[#00838f]":"text-gray-500 hover:text-[#00838f]"}`,"aria-current":o?"page":void 0,children:[T.jsx("i",{className:`fas ${e} text-2xl mb-1`}),T.jsx("span",{className:"text-xs font-medium",children:n})]}),zN=({isOpen:n,onClose:e,onLogout:o,user:l,onUpdateUser:c,aiProvider:d,geminiApiKey:m,openAiApiKey:g,groqApiKey:y,customApiKey:h,customApiBaseUrl:v,customApiModel:C,onAiSettingsSave:S})=>{const[M,R]=Y.useState(d),[D,q]=Y.useState(m),[X,J]=Y.useState(g),[O,K]=Y.useState(y),[G,te]=Y.useState(h),[ie,pe]=Y.useState(v),[j,ue]=Y.useState(C),[de,ge]=Y.useState(""),[he,W]=Y.useState(!1),[$,b]=Y.useState("profile"),[z,Z]=Y.useState(!1),[ce,_]=Y.useState(l.name),[H,ee]=Y.useState(l.age),[Q,le]=Y.useState(l.weight),[ve,ae]=Y.useState(l.height),Je=()=>{_(l.name),ee(l.age),le(l.weight),ae(l.height)};if(Y.useEffect(()=>{n&&(R(d),q(m),J(g),K(y),te(h),pe(v),ue(C),Je(),ge(""),W(!1),b("profile"),Z(!1))},[n,l,d,m,g,y,h,v,C]),!n)return null;const Le=()=>{if(ge(""),W(!1),M==="gemini"&&!D.trim()){ge("Gemini API Key cannot be empty."),W(!0);return}if(M==="openai"&&!X.trim()){ge("OpenAI API Key cannot be empty."),W(!0);return}if(M==="groq"&&!O.trim()){ge("Groq API Key cannot be empty."),W(!0);return}if(M==="custom"&&(!G.trim()||!ie.trim()||!j.trim())){ge("All custom provider fields are required."),W(!0);return}S(M,D,X,O,G,ie,j),ge("Settings saved successfully!"),W(!1),setTimeout(()=>ge(""),3e3)},qt=()=>{c({...l,name:ce,age:H,weight:Q,height:ve}),Z(!1)},Qi=()=>{Je(),Z(!1)},an=({tab:Ae,icon:rt,label:bs})=>T.jsxs("button",{onClick:()=>{b(Ae),Z(!1)},className:`flex-1 py-2 text-sm font-semibold rounded-md transition-colors ${$===Ae?"bg-gray-200 text-[#00838f]":"text-gray-500 hover:bg-gray-100"}`,children:[T.jsx("i",{className:`fas ${rt} mr-2`}),bs]}),$i=()=>T.jsxs("div",{className:"animate-fade-in-fast",children:[T.jsx("h2",{id:"profile-modal-title",className:"text-2xl font-bold text-[#37474f] text-center mb-4",children:"AI Settings"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"aiProviderSelect",className:"block text-[#78909c] text-sm font-bold mb-2",children:"AI Provider"}),T.jsxs("select",{id:"aiProviderSelect",value:M,onChange:Ae=>R(Ae.target.value),className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]",children:[T.jsx("option",{value:"gemini",children:"Google Gemini"}),T.jsx("option",{value:"openai",children:"OpenAI (Not Implemented)"}),T.jsx("option",{value:"groq",children:"Groq (Not Implemented)"}),T.jsx("option",{value:"custom",children:"Custom (OpenAI-Compatible)"})]})]}),M==="gemini"&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"geminiApiKeyInput",className:"block text-[#78909c] text-sm font-bold mb-2",children:"API Key"}),T.jsx("input",{id:"geminiApiKeyInput",type:"password",value:D,onChange:Ae=>q(Ae.target.value),placeholder:"Enter your Gemini API key",className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]"})]}),M==="openai"&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"openAiApiKeyInput",className:"block text-[#78909c] text-sm font-bold mb-2",children:"API Key"}),T.jsx("input",{id:"openAiApiKeyInput",type:"password",value:X,onChange:Ae=>J(Ae.target.value),placeholder:"Enter your OpenAI API key",className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]"})]}),M==="groq"&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"groqApiKeyInput",className:"block text-[#78909c] text-sm font-bold mb-2",children:"API Key"}),T.jsx("input",{id:"groqApiKeyInput",type:"password",value:O,onChange:Ae=>K(Ae.target.value),placeholder:"Enter your Groq API key",className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]"})]}),M==="custom"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"customApiKeyInput",className:"block text-[#78909c] text-sm font-bold mb-2",children:"API Key"}),T.jsx("input",{id:"customApiKeyInput",type:"password",value:G,onChange:Ae=>te(Ae.target.value),placeholder:"Enter your custom API key",className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"customApiBaseUrlInput",className:"block text-[#78909c] text-sm font-bold mb-2",children:"API Base URL"}),T.jsx("input",{id:"customApiBaseUrlInput",type:"text",value:ie,onChange:Ae=>pe(Ae.target.value),placeholder:"e.g., https://api.openai.com/v1",className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"customApiModelInput",className:"block text-[#78909c] text-sm font-bold mb-2",children:"Model Name"}),T.jsx("input",{id:"customApiModelInput",type:"text",value:j,onChange:Ae=>ue(Ae.target.value),placeholder:"e.g., gpt-4o",className:"w-full px-4 py-3 rounded-lg border border-[#e0e0e0] bg-white focus:outline-none focus:ring-2 focus:ring-[#00838f]"})]})]}),T.jsx("p",{className:"text-xs text-[#78909c] mt-2 text-center",children:"Your API keys are stored only in your browser's local storage."}),T.jsx("button",{onClick:Le,className:"w-full bg-[#00bfa5] hover:bg-[#00a794] text-white font-bold py-2 px-4 rounded-lg focus:outline-none transition-colors",children:"Save Settings"}),de&&T.jsx("p",{className:`${he?"text-red-600":"text-green-600"} text-xs text-center mt-2 animate-fade-in`,children:de})]})]}),Zi=()=>T.jsxs("div",{className:"animate-fade-in-fast",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-24 h-24 rounded-full mx-auto bg-gray-200 flex items-center justify-center mb-4 ring-4 ring-[#00c4cc]/50",children:T.jsx("i",{className:"fas fa-user text-5xl text-[#00838f]"})}),T.jsx("h2",{id:"profile-modal-title",className:"text-2xl font-bold text-[#37474f]",children:l.name}),T.jsx("p",{className:"text-[#78909c]",children:l.email}),l.isPremium&&T.jsxs("span",{className:"mt-2 inline-block bg-yellow-100 text-yellow-800 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:[T.jsx("i",{className:"fas fa-star mr-1"}),"Premium Member"]})]}),T.jsxs("div",{className:"mt-8 space-y-4",children:[T.jsxs("div",{className:"flex items-center bg-gray-100 p-3 rounded-lg",children:[T.jsx("i",{className:"fas fa-birthday-cake w-6 text-center text-[#78909c] mr-3"}),T.jsx("span",{className:"text-sm font-medium text-[#78909c] mr-2",children:"Age:"}),T.jsxs("span",{className:"text-[#37474f] font-semibold",children:[l.age," years"]})]}),T.jsxs("div",{className:"flex items-center bg-gray-100 p-3 rounded-lg",children:[T.jsx("i",{className:"fas fa-weight-hanging w-6 text-center text-[#78909c] mr-3"}),T.jsx("span",{className:"text-sm font-medium text-[#78909c] mr-2",children:"Weight:"}),T.jsxs("span",{className:"text-[#37474f] font-semibold",children:[l.weight," kg"]})]}),T.jsxs("div",{className:"flex items-center bg-gray-100 p-3 rounded-lg",children:[T.jsx("i",{className:"fas fa-ruler-vertical w-6 text-center text-[#78909c] mr-3"}),T.jsx("span",{className:"text-sm font-medium text-[#78909c] mr-2",children:"Height:"}),T.jsxs("span",{className:"text-[#37474f] font-semibold",children:[l.height," cm"]})]})]}),T.jsxs("div",{className:"mt-8 space-y-3",children:[T.jsxs("button",{onClick:()=>Z(!0),className:"w-full bg-gray-200 hover:bg-gray-300 text-[#37474f] font-bold py-3 px-4 rounded-lg focus:outline-none transition-colors",children:[T.jsx("i",{className:"fas fa-edit mr-2"}),"Edit Profile"]}),T.jsxs("button",{onClick:o,className:"w-full bg-[#f44336] hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none transition-colors",children:[T.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),"Logout"]})]})]}),Wi=()=>T.jsxs("div",{className:"animate-fade-in-fast",children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] text-center mb-6",children:"Edit Profile"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Name"}),T.jsx("input",{type:"text",value:ce,onChange:Ae=>_(Ae.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white"})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Age"}),T.jsx("input",{type:"number",value:H,onChange:Ae=>ee(Ae.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Weight (kg)"}),T.jsx("input",{type:"number",value:Q,onChange:Ae=>le(Ae.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[#78909c] text-sm font-bold mb-2",children:"Height (cm)"}),T.jsx("input",{type:"number",value:ve,onChange:Ae=>ae(Ae.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white"})]})]})]}),T.jsxs("div",{className:"mt-8 flex gap-3",children:[T.jsx("button",{onClick:Qi,className:"w-full bg-gray-200 hover:bg-gray-300 text-[#37474f] font-bold py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),T.jsx("button",{onClick:qt,className:"w-full bg-[#00bfa5] hover:bg-[#00a794] text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Save Changes"})]})]}),Rs=()=>T.jsxs("div",{className:"animate-fade-in-fast",children:[T.jsx("h2",{className:"text-2xl font-bold text-[#37474f] text-center mb-4",children:"Activity History"}),T.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:l.planHistory&&l.planHistory.length>0?l.planHistory.slice().reverse().map((Ae,rt)=>T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("h3",{className:"font-semibold text-[#37474f] pr-2",children:Ae.planTitle}),T.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full whitespace-nowrap ${Ae.status==="Completed"?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"}`,children:Ae.status})]}),T.jsxs("p",{className:"text-sm text-[#78909c] mt-1",children:["Finished on: ",new Date(Ae.completedDate).toLocaleDateString()]})]},rt)):T.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[T.jsx("i",{className:"fas fa-history text-4xl text-gray-400 mb-3"}),T.jsx("p",{className:"text-[#78909c]",children:"Your completed exercise plans will appear here."})]})})]});return T.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-fade-in-fast",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"profile-modal-title",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 relative transform transition-all duration-300 scale-95 animate-modal-pop",onClick:Ae=>Ae.stopPropagation(),children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 z-10","aria-label":"Close profile modal",children:T.jsx("i",{className:"fas fa-times text-2xl"})}),T.jsxs("div",{className:"p-1 mb-6 flex justify-center rounded-lg bg-gray-100",children:[T.jsx(an,{tab:"profile",icon:"fa-user",label:"Profile"}),T.jsx(an,{tab:"history",icon:"fa-history",label:"History"}),T.jsx(an,{tab:"settings",icon:"fa-cog",label:"Settings"})]}),T.jsxs("div",{className:"px-2",children:[$==="profile"&&(z?Wi():Zi()),$==="settings"&&$i(),$==="history"&&Rs()]})]})})},FN=({isOpen:n,onClose:e})=>n?T.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-fade-in-fast",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"premium-modal-title",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-8 text-center relative animate-modal-pop",onClick:o=>o.stopPropagation(),children:[T.jsx("div",{className:"w-16 h-16 rounded-full mx-auto bg-yellow-100 flex items-center justify-center mb-4 ring-4 ring-yellow-200",children:T.jsx("i",{className:"fas fa-star text-3xl text-yellow-500"})}),T.jsx("h2",{id:"premium-modal-title",className:"text-2xl font-bold text-[#37474f] mb-2",children:"Premium Feature"}),T.jsx("p",{className:"text-[#78909c] mb-6",children:"This feature is exclusively available for our Premium members."}),T.jsx("button",{onClick:e,className:"w-full bg-[#00838f] hover:bg-teal-800 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors",children:"Got it"})]})}):null,qi={home:{title:"Dashboard",component:Iv,icon:"fa-home"},exercise:{title:"Exercise Fit",component:UN,icon:"fa-dumbbell"},posture:{title:"Posture IQ",component:LN,icon:"fa-user-check",isPremium:!0},therapy:{title:"Near Therapy",component:PN,icon:"fa-map-location-dot"},journal:{title:"Journal Link",component:BN,icon:"fa-book-open"},tele:{title:"TelePhysio",component:kN,icon:"fa-video",isPremium:!0}},JN=["home","exercise","posture","therapy"],YN=({user:n,onUpdateUser:e,onLogout:o,aiProvider:l,geminiApiKey:c,openAiApiKey:d,groqApiKey:m,customApiKey:g,customApiBaseUrl:y,customApiModel:h,onAiSettingsSave:v})=>{const[C,S]=Y.useState("home"),[M,R]=Y.useState(!1),[D,q]=Y.useState(!1),[X,J]=Y.useState(!1),O=Y.useRef(null),K=n.activePlan,G=n.progressData;Y.useEffect(()=>{const he=O.current;if(!he)return;const W=()=>{he.scrollTop>300?J(!0):J(!1)};return he.addEventListener("scroll",W),()=>{he.removeEventListener("scroll",W)}},[]);const te=()=>{var he;(he=O.current)==null||he.scrollTo({top:0,behavior:"smooth"})},ie=()=>{if(!G||!K)return;const he=G.totalWeeks*G.sessionsPerWeek;if(G.completedSessions>=he){alert("This program is already complete!");return}const W=G.completedSessions+1;if(W>=he){const _={planTitle:K.planTitle,durationWeeks:K.durationWeeks,completedDate:new Date().toISOString(),status:"Completed"},H=[...n.planHistory||[],_];e({...n,activePlan:null,progressData:null,planHistory:H}),alert("Congratulations! You've completed your exercise program.");return}const $=Math.round(W/he*100),b=[...G.weeklyCompletions],z=Math.floor(G.completedSessions/G.sessionsPerWeek);if(z<b.length){const _=z*G.sessionsPerWeek,H=G.completedSessions-_;b[z]=H+1}const Z=Math.min(G.totalWeeks,Math.floor(W/G.sessionsPerWeek)+1),ce={...G,completedSessions:W,currentWeek:Z,progressPercent:$,weeklyCompletions:b};e({...n,progressData:ce})},pe=he=>{let W=n.planHistory||[];if(n.activePlan){const b={planTitle:n.activePlan.planTitle,durationWeeks:n.activePlan.durationWeeks,completedDate:new Date().toISOString(),status:"Replaced"};W=[...W,b]}const $={progressPercent:0,currentWeek:1,completedSessions:0,totalWeeks:he.durationWeeks,sessionsPerWeek:3,weeklyCompletions:Array(he.durationWeeks).fill(0)};e({...n,activePlan:he,progressData:$,planHistory:W}),alert("Program added to your dashboard!"),S("home")},j=he=>{qi[he].isPremium&&!n.isPremium?q(!0):S(he)},ue=he=>{qi[he].isPremium&&!n.isPremium?q(!0):S(he)},de=qi[C].component,ge={home:{progressData:G,onUpdateProgress:ie,onNavigate:j,activePlan:K,user:n,onUpdateUser:e},exercise:{onAcceptPlan:pe},posture:{},therapy:{},journal:{},tele:{}}[C];return T.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f4f7f6]",children:[T.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:T.jsx("h1",{className:"text-2xl font-bold text-center text-[#37474f]",children:qi[C].title})}),T.jsx("main",{ref:O,className:"flex-grow p-4 md:p-6 pb-24 overflow-y-auto",children:T.jsx("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg",children:T.jsx(de,{...ge})})}),X&&T.jsx("button",{onClick:te,className:"fixed bottom-24 left-6 bg-[#00838f] text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-teal-800 transition-all duration-300 ease-in-out transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-[#00838f]/50 z-10 animate-fade-in-fast","aria-label":"Scroll to top",children:T.jsx("i",{className:"fas fa-arrow-up text-xl"})}),T.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.05)] flex justify-around items-center h-20 z-20",children:[JN.map(he=>T.jsx(nh,{label:qi[he].title,icon:qi[he].icon,isActive:C===he,onClick:()=>ue(he)},he)),T.jsx(nh,{label:"Profile",icon:"fa-user-cog",isActive:M,onClick:()=>R(!0)})]}),T.jsx(zN,{isOpen:M,onClose:()=>R(!1),onLogout:o,user:n,onUpdateUser:e,aiProvider:l,geminiApiKey:c,openAiApiKey:d,groqApiKey:m,customApiKey:g,customApiBaseUrl:y,customApiModel:h,onAiSettingsSave:v}),T.jsx(FN,{isOpen:D,onClose:()=>q(!1)})]})},fu="physcio_app_data",Ru=(n,e,o)=>({id:n,name:e,email:o,age:"30",weight:"70",height:"175",isPremium:!1,activePlan:null,progressData:null,messagesFromAdmin:[],planHistory:[]}),Xi=()=>{try{const n=localStorage.getItem(fu),e=n?JSON.parse(n):{users:[]};return Array.isArray(e.users)?e:{users:[]}}catch(n){return console.error("Failed to parse user data from localStorage",n),{users:[]}}},bu=n=>{const e=JSON.parse(localStorage.getItem(fu)||"{}");e.users=n.users,localStorage.setItem(fu,JSON.stringify(e))},ON=()=>{const n=Xi();if(!n.users.some(o=>o.id==="guest_user")){const o=Ru("guest_user","Guest User","guest@physcio.com");n.users.push(o),bu(n)}},du=()=>Xi().users,mu=n=>{const o=Xi().users.find(l=>l.id===n);if(o)return{...Ru(o.id,o.name,o.email),...o}},pu=n=>{const e=Xi(),o=e.users.findIndex(l=>l.id===n.id);o>-1?(e.users[o]=n,bu(e)):console.error("User not found for update:",n.id)},KN=(n,e,o)=>{const l=Xi(),c=e.toLowerCase();if(l.users.some(g=>g.email.toLowerCase()===c))return{success:!1,message:"An account with this email already exists."};const d=`user_${Date.now()}`,m=Ru(d,n,e);return l.users.push(m),bu(l),{success:!0,message:"Registration successful!",user:m}},XN=(n,e)=>{const o=Xi(),l=n.toLowerCase(),c=o.users.find(d=>d.email.toLowerCase()===l);return c?mu(c.id):null},ih=()=>{const[n,e]=Y.useState({totalUsers:0,premiumUsers:0});Y.useEffect(()=>{const c=du(),d=c.filter(m=>m.isPremium).length;e({totalUsers:c.length,premiumUsers:d})},[]);const o=n.totalUsers>0?(n.premiumUsers/n.totalUsers*100).toFixed(1):0,l=({icon:c,title:d,value:m,color:g})=>T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[T.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mr-4 ${g}`,children:T.jsx("i",{className:`fas ${c} text-2xl text-white`})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-3xl font-bold text-gray-800",children:m}),T.jsx("p",{className:"text-gray-500",children:d})]})]});return T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Overview"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsx(l,{icon:"fa-users",title:"Total Users",value:n.totalUsers,color:"bg-blue-500"}),T.jsx(l,{icon:"fa-star",title:"Premium Users",value:n.premiumUsers,color:"bg-yellow-500"}),T.jsx(l,{icon:"fa-percentage",title:"Premium Conversion",value:`${o}%`,color:"bg-green-500"})]}),T.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold mb-4",children:"Welcome, Admin!"}),T.jsx("p",{className:"text-gray-600",children:"This is your control center for the Physcio Connect application. From here, you can manage users, post announcements, and monitor the application's health. Use the navigation on the left to access different sections."})]})]})},QN=()=>{const[n,e]=Y.useState([]),[o,l]=Y.useState(null),[c,d]=Y.useState(""),[m,g]=Y.useState(""),y=()=>{const R=du();e(R),o&&l(R.find(D=>D.id===o.id)||null)};Y.useEffect(()=>{const R=du();e(R),R.length>0&&l(R[0])},[]);const h=Y.useMemo(()=>n.filter(R=>R.name.toLowerCase().includes(m.toLowerCase())||R.email.toLowerCase().includes(m.toLowerCase())),[n,m]),v=R=>{l(R),d("")},C=()=>{if(!o)return;const R={...o,isPremium:!o.isPremium};pu(R),y()},S=R=>{if(R.preventDefault(),!o||!c.trim())return;const D={id:`msg_${Date.now()}`,text:c,timestamp:new Date().toISOString(),read:!1},q={...o,messagesFromAdmin:[...o.messagesFromAdmin,D]};pu(q),y(),d("")},M=()=>{var R;return o?T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-6 animate-fade-in-fast",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:o.name}),T.jsx("p",{className:"text-sm text-gray-500",children:o.email})]}),T.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${o.isPremium?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:o.isPremium?"Premium":"Standard"})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsx("h4",{className:"font-bold mb-2 text-gray-700",children:"User Stats"}),T.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[T.jsxs("div",{children:[T.jsx("span",{className:"block font-semibold text-gray-800",children:o.age}),T.jsx("span",{className:"text-gray-500",children:"Age"})]}),T.jsxs("div",{children:[T.jsxs("span",{className:"block font-semibold text-gray-800",children:[o.weight,"kg"]}),T.jsx("span",{className:"text-gray-500",children:"Weight"})]}),T.jsxs("div",{children:[T.jsxs("span",{className:"block font-semibold text-gray-800",children:[o.height,"cm"]}),T.jsx("span",{className:"text-gray-500",children:"Height"})]})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold mb-2 text-gray-700",children:"Actions"}),T.jsx("button",{onClick:C,className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:o.isPremium?"Revoke Premium":"Grant Premium"})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold mb-2 text-gray-700",children:"Send Message"}),T.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[T.jsx("input",{type:"text",value:c,onChange:D=>d(D.target.value),placeholder:"Type a message...",className:"flex-grow px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),T.jsx("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg",children:"Send"})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold mb-2 text-gray-700",children:"Active Exercise Plan"}),o.activePlan?T.jsxs("div",{className:"text-sm p-4 bg-gray-50 rounded-lg",children:[T.jsx("p",{className:"font-semibold text-gray-800",children:o.activePlan.planTitle}),T.jsxs("p",{className:"text-gray-600",children:["Progress: ",((R=o.progressData)==null?void 0:R.progressPercent)||0,"% complete"]})]}):T.jsx("p",{className:"text-sm text-gray-500 p-4 bg-gray-50 rounded-lg",children:"No active plan."})]})]}):T.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 bg-white rounded-lg shadow-md",children:"Select a user to view details"})};return T.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[T.jsxs("aside",{className:"w-1/3 bg-white rounded-lg shadow-md flex flex-col",children:[T.jsxs("div",{className:"p-4 border-b",children:[T.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Users (",n.length,")"]}),T.jsx("input",{type:"text",placeholder:"Search users...",value:m,onChange:R=>g(R.target.value),className:"w-full mt-2 px-3 py-2 border rounded-lg"})]}),T.jsx("ul",{className:"overflow-y-auto",children:h.map(R=>T.jsx("li",{children:T.jsxs("button",{onClick:()=>v(R),className:`w-full text-left p-4 border-b hover:bg-indigo-50 transition-colors ${(o==null?void 0:o.id)===R.id?"bg-indigo-100":""}`,children:[T.jsx("p",{className:"font-semibold text-gray-800",children:R.name}),T.jsx("p",{className:"text-sm text-gray-500",children:R.email})]})},R.id))})]}),T.jsx("main",{className:"w-2/3 ml-6",children:M()})]})},$N=()=>{const[n,e]=Y.useState([]),[o,l]=Y.useState(!1),[c,d]=Y.useState(null),[m,g]=Y.useState(""),[y,h]=Y.useState("");Y.useEffect(()=>{v()},[]);const v=()=>{e(sh())},C=(D=null)=>{D?(d(D),g(D.title),h(D.content)):(d(null),g(""),h("")),l(!0)},S=()=>{l(!1),d(null),g(""),h("")},M=D=>{if(D.preventDefault(),!m.trim()||!y.trim()){alert("Title and content cannot be empty.");return}c?bv({...c,title:m,content:y}):Rv({title:m,content:y}),v(),S()},R=D=>{window.confirm("Are you sure you want to delete this announcement?")&&(wv(D),v())};return T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Announcements"}),T.jsxs("button",{onClick:()=>C(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105",children:[T.jsx("i",{className:"fas fa-plus mr-2"})," New Announcement"]})]}),T.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:T.jsx("ul",{className:"space-y-4",children:n.length>0?n.map(D=>T.jsxs("li",{className:"p-4 border rounded-lg flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-lg text-gray-800",children:D.title}),T.jsx("p",{className:"text-gray-600 mt-1",children:D.content}),T.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Posted: ",new Date(D.createdAt).toLocaleDateString()]})]}),T.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[T.jsx("button",{onClick:()=>C(D),className:"text-blue-500 hover:text-blue-700",children:T.jsx("i",{className:"fas fa-edit"})}),T.jsx("button",{onClick:()=>R(D.id),className:"text-red-500 hover:text-red-700",children:T.jsx("i",{className:"fas fa-trash"})})]})]},D.id)):T.jsx("p",{className:"text-center text-gray-500 py-4",children:'No announcements yet. Click "New Announcement" to create one.'})})}),o&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:S,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6 animate-modal-pop",onClick:D=>D.stopPropagation(),children:[T.jsxs("h3",{className:"text-2xl font-bold mb-4",children:[c?"Edit":"New"," Announcement"]}),T.jsxs("form",{onSubmit:M,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),T.jsx("input",{type:"text",value:m,onChange:D=>g(D.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),T.jsx("textarea",{value:y,onChange:D=>h(D.target.value),rows:4,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),T.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[T.jsx("button",{type:"button",onClick:S,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{type:"submit",className:"bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700",children:"Save"})]})]})]})})]})},ZN=()=>{const[n,e]=Y.useState([]),[o,l]=Y.useState(!1),[c,d]=Y.useState(""),[m,g]=Y.useState(""),[y,h]=Y.useState(new Date().getFullYear()),[v,C]=Y.useState("");Y.useEffect(()=>{S()},[]);const S=()=>{e(Yh())},M=()=>{d(""),g(""),h(new Date().getFullYear()),C("")},R=()=>{M(),l(!0)},D=()=>{l(!1)},q=J=>{if(J.preventDefault(),!c.trim()||!m.trim()||!v.trim()){alert("All fields are required.");return}GN({title:c,publisher:m,year:y,link:v}),S(),D()},X=J=>{window.confirm("Are you sure you want to delete this journal link?")&&(HN(J),S())};return T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Journal Links"}),T.jsxs("button",{onClick:R,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105",children:[T.jsx("i",{className:"fas fa-plus mr-2"})," Add Journal"]})]}),T.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:T.jsx("div",{className:"space-y-4",children:n.length>0?n.map(J=>T.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center",children:[T.jsxs("div",{className:"flex-grow",children:[T.jsx("a",{href:J.link,target:"_blank",rel:"noopener noreferrer",className:"font-bold text-lg text-indigo-600 hover:underline",children:J.title}),T.jsxs("p",{className:"text-gray-600 mt-1",children:[J.publisher," - ",J.year]})]}),T.jsx("div",{className:"flex-shrink-0 ml-4",children:T.jsx("button",{onClick:()=>X(J.id),className:"text-red-500 hover:text-red-700",children:T.jsx("i",{className:"fas fa-trash"})})})]},J.id)):T.jsx("p",{className:"text-center text-gray-500 py-4",children:'No journals found. Click "Add Journal" to create one.'})})}),o&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:D,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6 animate-modal-pop",onClick:J=>J.stopPropagation(),children:[T.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add New Journal"}),T.jsxs("form",{onSubmit:q,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),T.jsx("input",{type:"text",value:c,onChange:J=>d(J.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Publisher"}),T.jsx("input",{type:"text",value:m,onChange:J=>g(J.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),T.jsx("input",{type:"number",value:y,onChange:J=>h(Number(J.target.value)),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Link (URL)"}),T.jsx("input",{type:"url",value:v,onChange:J=>C(J.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),T.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[T.jsx("button",{type:"button",onClick:D,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{type:"submit",className:"bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700",children:"Add Journal"})]})]})]})})]})},WN=({onLogout:n})=>{const[e,o]=Y.useState("dashboard"),l=()=>{switch(e){case"dashboard":return T.jsx(ih,{});case"users":return T.jsx(QN,{});case"content":return T.jsx($N,{});case"journals":return T.jsx(ZN,{});default:return T.jsx(ih,{})}},c=({tab:d,icon:m,label:g})=>T.jsxs("button",{onClick:()=>o(d),className:`flex items-center w-full px-4 py-3 text-left rounded-lg transition-colors ${e===d?"bg-indigo-700 text-white":"text-indigo-100 hover:bg-indigo-700"}`,children:[T.jsx("i",{className:`fas ${m} w-6 text-center mr-3`}),T.jsx("span",{className:"font-medium",children:g})]});return T.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[T.jsxs("aside",{className:"w-64 bg-indigo-800 text-white flex flex-col",children:[T.jsx("div",{className:"p-6 text-2xl font-bold border-b border-indigo-900",children:"Physcio Admin"}),T.jsxs("nav",{className:"flex-grow p-4 space-y-2",children:[T.jsx(c,{tab:"dashboard",icon:"fa-chart-pie",label:"Dashboard"}),T.jsx(c,{tab:"users",icon:"fa-users",label:"Users"}),T.jsx(c,{tab:"content",icon:"fa-bullhorn",label:"Announcements"}),T.jsx(c,{tab:"journals",icon:"fa-book-open",label:"Journals"})]}),T.jsx("div",{className:"p-4 border-t border-indigo-900",children:T.jsxs("button",{onClick:n,className:"flex items-center w-full px-4 py-3 text-left rounded-lg transition-colors text-indigo-100 hover:bg-indigo-700",children:[T.jsx("i",{className:"fas fa-sign-out-alt w-6 text-center mr-3"}),T.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),T.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[T.jsx("header",{className:"bg-white shadow-md p-4",children:T.jsx("h1",{className:"text-2xl font-bold text-gray-800 capitalize",children:e})}),T.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:l()})]})]})},jN=()=>{const[n,e]=Y.useState(()=>localStorage.getItem("current_view")||"welcome"),[o,l]=Y.useState(null),[c,d]=Y.useState(()=>localStorage.getItem("is_admin_logged_in")==="true"),[m,g]=Y.useState(()=>localStorage.getItem("ai_provider")||"gemini"),[y,h]=Y.useState(()=>localStorage.getItem("gemini_api_key")||""),[v,C]=Y.useState(()=>localStorage.getItem("openai_api_key")||""),[S,M]=Y.useState(()=>localStorage.getItem("groq_api_key")||""),[R,D]=Y.useState(()=>localStorage.getItem("custom_api_base_url")||""),[q,X]=Y.useState(()=>localStorage.getItem("custom_api_model")||""),[J,O]=Y.useState(()=>localStorage.getItem("custom_api_key")||"");Y.useEffect(()=>{ON();const z=localStorage.getItem("logged_in_user_id");if(z){const Z=mu(z);Z?(l(Z),(!n||n==="welcome"||n==="login")&&he()):ue()}else c&&n!=="admin"&&W()},[]),Y.useEffect(()=>{let z="",Z,ce;switch(m){case"gemini":z=y;break;case"openai":z=v;break;case"groq":z=S;break;case"custom":z=J,Z=R,ce=q;break}z?Zr(m,z,Z,ce):y?(Zr("gemini",y),m!=="gemini"&&(g("gemini"),localStorage.setItem("ai_provider","gemini"))):Zr("gemini","")},[m,y,v,S,J,R,q]);const K=(z,Z,ce,_,H,ee,Q)=>{localStorage.setItem("ai_provider",z),g(z),localStorage.setItem("gemini_api_key",Z),h(Z),localStorage.setItem("openai_api_key",ce),C(ce),localStorage.setItem("groq_api_key",_),M(_),localStorage.setItem("custom_api_key",H),O(H),localStorage.setItem("custom_api_base_url",ee),D(ee),localStorage.setItem("custom_api_model",Q),X(Q)},G=z=>{l(z),localStorage.setItem("logged_in_user_id",z.id),he()},te=()=>{const z=mu("guest_user");z&&G(z)},ie=(z,Z)=>{const ce=XN(z);return ce?(G(ce),ce):null},pe=(z,Z,ce)=>{const _=KN(z,Z);return _.success&&_.user&&G(_.user),{success:_.success,message:_.message}},j=(z,Z)=>z==="admin@physcio.com"&&Z==="password123"?(d(!0),localStorage.setItem("is_admin_logged_in","true"),W(),!0):!1,ue=()=>{l(null),d(!1),localStorage.removeItem("logged_in_user_id"),localStorage.removeItem("is_admin_logged_in"),localStorage.setItem("current_view","welcome"),$()},de=z=>{pu(z),l(z)},ge=()=>e("login"),he=()=>{e("dashboard"),localStorage.setItem("current_view","dashboard")},W=()=>{e("admin"),localStorage.setItem("current_view","admin")},$=()=>e("welcome"),b=()=>{switch(n){case"welcome":return T.jsx(Pm,{onNavigateToLogin:ge});case"login":return T.jsx(Kr,{onUserAuth:ie,onUserRegister:pe,onGuestLogin:te,onAdminLogin:j});case"admin":return c?T.jsx(WN,{onLogout:ue}):T.jsx(Kr,{onUserAuth:ie,onUserRegister:pe,onGuestLogin:te,onAdminLogin:j});case"dashboard":return o?T.jsx(YN,{user:o,onUpdateUser:de,onLogout:ue,aiProvider:m,geminiApiKey:y,openAiApiKey:v,groqApiKey:S,customApiKey:J,customApiBaseUrl:R,customApiModel:q,onAiSettingsSave:K}):T.jsx(Kr,{onUserAuth:ie,onUserRegister:pe,onGuestLogin:te,onAdminLogin:j});default:return T.jsx(Pm,{onNavigateToLogin:ge})}};return T.jsx("div",{className:"min-h-screen bg-[#f4f7f6] text-[#37474f] font-sans",children:b()})},Oh=document.getElementById("root");if(!Oh)throw new Error("Could not find root element to mount to");const eR=Ev.createRoot(Oh);eR.render(T.jsx(hv.StrictMode,{children:T.jsx(jN,{})}));
